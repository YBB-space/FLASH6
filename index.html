<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1">
  <title>FLASH6 - Intellignet platform</title>
  <link rel="icon" href="img/Flash_logo.svg" type="image/svg+xml" />

  <!-- ✅ 이미지 프리로드(LOCKOUT/토스트/아이콘 늦게 뜨는거 방지) -->
  <link rel="preload" as="image" href="img/Flash_logo.svg ">
  <link rel="preload" as="image" href="img/Flash_logo_plain.svg">
  <link rel="preload" as="image" href="img/Danger.svg">
  <link rel="preload" as="image" href="img/Tick.svg">
  <link rel="preload" as="image" href="img/Graph.svg">
  <link rel="preload" as="image" href="img/Activity.svg">
  <link rel="preload" as="image" href="img/RS_1.svg">
  <link rel="preload" as="image" href="img/RS_2.svg">
  <link rel="preload" as="image" href="img/RS_all.svg">
  <link rel="preload" as="image" href="img/altis_logo1.png">
  <link rel="preload" as="image" href="img/gnu_logo.png">
  <link rel="preload" as="image" href="img/hanwool_logo.png">

  <style>
    *,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
    html{-webkit-text-size-adjust:100%;text-size-adjust:100%}
    :root{
      --bg:#f3f4f6;--bg-soft:#e5e7eb;
      --card-bg:rgba(255,255,255,0.96);
      --card-glass-border-outer:rgba(255,255,255,0.95);
      --card-glass-border-inner:rgba(148,163,184,0.88);
      --card-shadow:0 10px 24px rgba(15,23,42,0.10);
      --text-main:#0f172a;--text-soft:#6b7280;--text-mono:#374151;
      --accent:#2563eb;--accent-soft:rgba(37,99,235,0.10);--accent-strong:#1d4ed8;
      --ok:#16a34a;--ok-soft:rgba(22,163,74,0.12);
      --danger:#ef4444;--danger-soft:rgba(248,113,113,0.12);
      --warn:#f59e0b;--warn-soft:rgba(245,158,11,0.16);
      --border-subtle:rgba(148,163,184,0.42);--border-strong:rgba(148,163,184,0.82);
      --radius-xl:10px;--radius-lg:8px;--radius-md:6px;--radius-pill:999px;
      --page-pad-x:48px;--page-pad-y:24px;--page-pad-bottom:24px;
      --shell-gap:14px;--card-pad:16px;
      --chart-height:520px;
      --log-height:clamp(180px,24vh,260px);
      --mobile-nav-height:72px;
      --mobile-nav-gap:12px;
    }
    body{
      font-family:-apple-system,BlinkMacSystemFont,"SF Pro Text","Segoe UI",system-ui,sans-serif;
      background:
        radial-gradient(circle at top left,#e0edff 0,transparent 55%),
        radial-gradient(circle at top right,#fde2ff 0,transparent 55%),
        linear-gradient(180deg,#f9fafb,#eef2ff);
      min-height:100vh;display:flex;justify-content:flex-start;align-items:flex-start;
      padding:0;margin:0;color:var(--text-main);
    }
    body::before{
      content:"";
      position:fixed;
      top:0;left:0;right:0;
      height:56px;
      background:linear-gradient(180deg,rgba(15,23,42,0.22) 0,rgba(15,23,42,0.12) 45%,rgba(15,23,42,0) 100%);
      pointer-events:none;
      z-index:1;
    }
    .app-shell{
      width:100%;
      display:flex;gap:28px;align-items:flex-start;
      padding:0;
      height:100dvh;
      min-height:100dvh;
    }
    .side-nav{
      display:flex;
    }
    .side-nav-mobile{
      display:none;
    }
    .side-nav-desktop{
      width:64px;min-height:100dvh;height:100dvh;
      background:#ffffff;border-right:1px solid #e5e7eb;
      display:flex;flex-direction:column;align-items:center;
      padding:18px 10px;gap:14px;position:sticky;top:0;
      overflow-y:auto;
      z-index:3;
    }
    .side-nav-logo{
      width:40px;height:40px;border-radius:12px;background:#ffffff;
      border:1px solid #e5e7eb;display:flex;align-items:center;justify-content:center;
    }
    .side-nav-logo img{width:26px;height:26px;display:block}
    .side-nav-menu{
      width:100%;display:flex;flex-direction:column;gap:10px;align-items:center;
    }
    .side-nav-item{
      width:38px;height:38px;border-radius:12px;border:1px solid transparent;
      background:transparent;color:#6b7280;font-size:0;
      display:grid;place-items:center;cursor:pointer;
    }
    .side-nav-divider{
      width:100%;height:1px;background:var(--ui-line);margin:6px 0;
    }
    .side-nav-action{
      width:38px;height:38px;border-radius:12px;border:1px solid transparent;
      background:transparent;color:#6b7280;font-size:0;
      display:grid;place-items:center;cursor:pointer;
    }
    .side-nav-item::before{content:none}
    .side-nav-item svg{
      width:20px;height:20px;min-width:20px;min-height:20px;
      flex:0 0 20px;
      stroke:currentColor;fill:none;stroke-width:1.8;
      transform:scale(1);
      stroke-linecap:round;stroke-linejoin:round;
    }
    .side-nav-action svg{
      width:20px;height:20px;min-width:20px;min-height:20px;
      flex:0 0 20px;
      stroke:currentColor;fill:none;stroke-width:1.8;
      transform:scale(1);
      stroke-linecap:round;stroke-linejoin:round;
    }
    .side-nav-item.active{
      border-color:#e2e8f0;
      background:#eef2f7;
      color:#475569;
      box-shadow:none;
    }
    .side-nav-action:hover{background:#f1f5f9;color:#0f172a}
    .side-nav-action.disabled{opacity:.45;pointer-events:none}
    .side-nav-spacer{flex:1}
    .side-nav-btn{
      width:38px;height:38px;border-radius:12px;border:1px solid transparent;
      background:transparent;color:#6b7280;display:grid;place-items:center;cursor:pointer;
    }
    .side-nav-btn svg{
      width:20px;height:20px;min-width:20px;min-height:20px;
      flex:0 0 20px;
      stroke:currentColor;fill:none;stroke-width:1.8;
      transform:scale(1);
      stroke-linecap:round;stroke-linejoin:round;
    }
    .side-nav-btn:hover{background:#f1f5f9;color:#0f172a}
    .mobile-controls-panel{
      display:none;
    }
    .page-kicker{
      font-size:12px;font-weight:600;letter-spacing:.02em;color:#94a3b8;
    }
    .page-title{
      font-size:20px;font-weight:700;letter-spacing:.02em;color:#0f172a;
    }
    .home-view{
      min-height:calc(100vh - 140px);
    }
    .home-view::before,
    .home-view::after{content:none}
    .home-hero{
      position:relative;
      display:flex;align-items:center;justify-content:space-between;gap:16px;
      padding:22px 22px;border-radius:22px;border:1px solid rgba(255,255,255,0.08);
      background:linear-gradient(135deg,rgba(33,38,45,0.92),rgba(17,20,25,0.85));
      box-shadow:0 18px 36px rgba(0,0,0,0.35);
      overflow:hidden;
      min-height:clamp(140px,20vh,210px);
    }
    .home-hero::before{
      content:"";position:absolute;inset:-40% 40% 20% -10%;
      background:radial-gradient(circle at 30% 30%,rgba(255,255,255,0.08),transparent 65%);
      opacity:.8;pointer-events:none;
    }
    .home-hero::after{
      content:"";position:absolute;right:18px;top:18px;width:120px;height:120px;
      border-radius:24px;
      background:linear-gradient(135deg,rgba(255,255,255,0.08),rgba(255,255,255,0));
      border:1px solid rgba(255,255,255,0.06);
      opacity:.7;pointer-events:none;
      transform:rotate(12deg);
    }
    .home-hero-title{font-size:22px;font-weight:700;color:#f8fafc;letter-spacing:.04em}
    .home-hero-sub{font-size:12px;color:#cbd5f5;margin-top:6px}
    .home-hero-pill{
      padding:8px 14px;border-radius:999px;font-size:11px;font-weight:800;
      background:linear-gradient(135deg,#2563eb,#1d4ed8);color:#e0f2fe;
      letter-spacing:.18em;text-transform:uppercase;
      box-shadow:0 10px 20px rgba(37,99,235,0.35);
    }
    .home-hero-pill.is-offline{
      background:linear-gradient(135deg,#ef4444,#b91c1c);
      color:#fee2e2;box-shadow:0 8px 16px rgba(239,68,68,0.25);
    }
    .home-grid{
      display:grid;gap:12px;flex:1;
      grid-template-columns:repeat(2,minmax(0,1fr));
      grid-auto-rows:minmax(140px,1fr);
      align-items:stretch;
    }
    .home-card{
      padding:18px;
      display:flex;flex-direction:column;gap:6px;
      background:rgba(22,26,32,0.9);
      border:1px solid rgba(255,255,255,0.06);
      box-shadow:0 18px 30px rgba(0,0,0,0.35);
    }
    .home-row{
      display:flex;align-items:center;justify-content:space-between;gap:12px;
      padding:8px 0;border-bottom:1px solid rgba(148,163,184,0.12);
    }
    .home-row:last-child{border-bottom:none}
    .home-row-label{font-size:12px;color:#9aa3b2}
    .home-row-value{display:flex;align-items:center;gap:8px;color:#f8fafc;font-size:13px;font-weight:600}
    .home-status-badge{
      display:inline-flex;align-items:center;gap:6px;padding:2px 8px;border-radius:999px;
      font-size:10px;font-weight:700;letter-spacing:.12em;text-transform:uppercase;
      border:1px solid rgba(148,163,184,0.25);color:#9aa3b2;background:rgba(15,23,42,0.5);
    }
    .home-status-badge::before{
      content:"";width:6px;height:6px;border-radius:999px;background:#94a3b8;
      box-shadow:0 0 0 3px rgba(148,163,184,0.12);
    }
    .home-status-badge.is-ok{color:#86efac;border-color:rgba(34,197,94,0.3);background:rgba(22,163,74,0.18)}
    .home-status-badge.is-ok::before{background:#22c55e;box-shadow:0 0 0 3px rgba(34,197,94,0.18)}
    .home-status-badge.is-warn{color:#fbbf24;border-color:rgba(245,158,11,0.35);background:rgba(245,158,11,0.18)}
    .home-status-badge.is-warn::before{background:#f59e0b;box-shadow:0 0 0 3px rgba(245,158,11,0.2)}
    .home-status-badge.is-alert{color:#fecaca;border-color:rgba(239,68,68,0.4);background:rgba(239,68,68,0.2)}
    .home-status-badge.is-alert::before{background:#ef4444;box-shadow:0 0 0 3px rgba(239,68,68,0.2)}
    .home-status-badge.is-off{color:#94a3b8;border-color:rgba(148,163,184,0.25);background:rgba(30,41,59,0.6)}
    .home-status-badge.is-off::before{background:#94a3b8;box-shadow:0 0 0 3px rgba(148,163,184,0.18)}
    .home-actions{
      display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:8px;margin-top:4px;
    }
    .home-action-btn{
      border-radius:12px;border:1px solid rgba(148,163,184,0.2);
      padding:10px 8px;background:rgba(15,23,42,0.8);color:#e2e8f0;font-weight:700;font-size:12px;
      letter-spacing:.08em;text-transform:uppercase;cursor:pointer;
      transition:transform .15s ease, box-shadow .15s ease, border-color .15s ease;
    }
    .home-action-btn:hover{transform:translateY(-1px);box-shadow:0 8px 18px rgba(15,23,42,0.12)}
    .home-action-btn.is-active{
      border-color:rgba(59,130,246,0.55);color:#bfdbfe;background:rgba(59,130,246,0.2);
    }
    .home-action-btn.is-danger{
      border-color:rgba(239,68,68,0.5);color:#fecaca;background:rgba(239,68,68,0.18);
    }
    .home-action-hint{margin-top:6px;font-size:11px;color:#94a3b8}
    .home-card-title{
      color:#a5b4fc;
    }
    .home-log-list{
      color:#cbd5e1;
    }
    .home-card-title{
      font-size:12px;font-weight:700;letter-spacing:.14em;text-transform:uppercase;
      color:#64748b;margin-bottom:6px
    }
    .home-kv{
      display:flex;justify-content:space-between;gap:12px;padding:8px 0;
      border-bottom:1px solid rgba(148,163,184,0.18)
    }
    .home-kv:last-child{border-bottom:none}
    .home-kv span{color:#64748b;font-size:12px}
    .home-kv strong{color:#0f172a;font-size:13px;font-weight:700}
    .home-log-list{
      display:flex;flex-direction:column;gap:8px;font-size:11px;color:#475569;
      line-height:1.5;white-space:pre-line;flex:1;overflow:auto;padding-right:4px
    }
    .home-card-log{grid-column:1 / -1;min-height:180px}
    @media(max-width:920px){
      .home-view{min-height:auto}
      .home-grid{grid-template-columns:1fr;grid-auto-rows:auto}
      .home-actions{grid-template-columns:1fr}
    }
    /* ✅ LOCKOUT 배경(빨간 그라데이션 깜빡임) */
    .page-wrap{
      width:100%;max-width:1240px;display:flex;flex-direction:column;gap:12px;position:relative;z-index:1;flex:1;

      /* ✅ 스플래시 끝나기 전까지 숨김 */
      opacity:0;
      transform:translateY(14px) scale(0.92);
      filter:blur(16px) saturate(0.9);
      pointer-events:none;
      transition:opacity .36s ease, transform .46s ease, filter .42s ease;
    }
    .page-wrap.ready{
      opacity:1;
      transform:none;
      filter:none;
      animation:pageReveal .58s cubic-bezier(.22,1,.36,1);
      pointer-events:auto;
    }

    .lockout-bg{
      position:fixed;inset:0;z-index:0;pointer-events:none;
      opacity:0;transition:opacity .18s ease;
      background:
        radial-gradient(circle at 20% 20%, rgba(239,68,68,.75), transparent 58%),
        radial-gradient(circle at 80% 15%, rgba(234,88,12,.65), transparent 60%),
        radial-gradient(circle at 50% 55%, rgba(220,38,38,.45), transparent 62%),
        radial-gradient(circle at 50% 95%, rgba(127,29,29,.45), transparent 65%),
        linear-gradient(180deg, rgba(127,29,29,.6), rgba(15,23,42,.2));
    }
    .lockout-bg.active{
      opacity:1;
      animation:lockoutPulse 1.05s ease-in-out infinite;
    }
    @keyframes lockoutPulse{
      0%{transform:scale(1);opacity:.28;filter:saturate(1.15)}
      50%{transform:scale(1.03);opacity:.75;filter:saturate(1.6)}
      100%{transform:scale(1);opacity:.28;filter:saturate(1.15)}
    }
    @keyframes pageReveal{
      0%{transform:translateY(14px) scale(0.92);opacity:0;filter:blur(16px) saturate(0.9);}
      60%{transform:translateY(4px) scale(0.98);opacity:1;filter:blur(4px) saturate(1.02);}
      100%{transform:none;opacity:1;filter:none;}
    }

    /* =========================
       ✅ SPLASH (Intro + Preload)
       ========================= */
    #splash{
      position:fixed; inset:0; z-index:9999;
      background:#ffffff; /* “아무것도 없는 바탕” */
      display:flex; flex-direction:column;
      align-items:center; justify-content:center;
      gap:14px;
      transition:opacity .28s ease, transform .28s ease;
    }
    #splash.hide{
      opacity:0;
      pointer-events:none;
      transform:scale(1.01);
    }
    .splash-logo{
      width:min(80px, 17vw);
      height:auto;
      display:block;
      filter:drop-shadow(0 10px 22px rgba(15,23,42,0.12));
      transition:opacity .45s ease, transform .45s ease;
      will-change:opacity, transform;
    }
    .splash-logo--flash{
      position:absolute;
      opacity:0;
      transform:translateY(6px) scale(0.98);
    }
    #splash.flash-on .splash-logo--altis{
      opacity:0;
      transform:translateY(-6px) scale(0.98);
    }
    #splash.flash-on .splash-logo--flash{
      opacity:1;
      transform:translateY(0) scale(1);
    }
    #splashLoading{
      font-size:12px;
      color:#64748b;
      letter-spacing:.14em;
      text-transform:uppercase;
      opacity:0;
      transform:translateY(4px);
      transition:opacity .24s ease, transform .24s ease;
      user-select:none;
    }
    #splashLoading.show{
      opacity:1;
      transform:translateY(0);
    }
    #splashDots{
      display:inline-block;
      width:18px;
      text-align:left;
    }

    .top-bar{display:flex;align-items:center;justify-content:space-between;gap:10px}
    .top-left{display:flex;flex-direction:column;align-items:flex-start;gap:2px}
    .logo-img{height:40px;width:auto;display:block;filter:drop-shadow(0 2px 6px rgba(15,23,42,0.18))}
    .title-block{display:flex;flex-direction:column;gap:2px}
    .title-main{font-size:18px;font-weight:600;letter-spacing:.03em}
    .title-sub{font-size:12px;color:var(--text-soft)}
    .top-right{display:flex;align-items:center;gap:6px;flex-wrap:wrap;justify-content:flex-end}
    .status-bar{
      display:flex;align-items:center;gap:8px;
      padding:0;
      background:transparent;
      border:none;
      box-shadow:none;
      backdrop-filter:none;
    }
    .status-conn-block{
      display:flex;align-items:center;gap:6px;
      height:22px;padding:0 9px;
      background:rgba(255,255,255,0.75);
      border:1px solid rgba(148,163,184,0.35);
      border-radius:999px;
      box-shadow:0 6px 14px rgba(15,23,42,0.08);
    }
    .status-conn-block::before{
      content:"";
      width:6px;height:6px;border-radius:999px;
      background:#94a3b8;
      box-shadow:0 0 0 3px rgba(148,163,184,0.18);
    }
    .status-conn-text{
      font-size:10px;font-weight:600;letter-spacing:.02em;text-transform:none;
      color:#1f2937;opacity:.9;line-height:1;
    }
    .status-bar.is-online .status-conn-text{opacity:.95}
    .status-bar.is-offline .status-conn-text{opacity:.55}
    .status-bar.is-online .status-conn-block,
    .status-bar.is-offline .status-conn-block{
      border-radius:999px;
    }
    .status-bar.is-online .status-conn-block{
      background:rgba(236,253,245,0.9);
      border-color:rgba(34,197,94,0.35);
    }
    .status-bar.is-offline .status-conn-block{
      background:rgba(248,250,252,0.9);
    }
    .status-bar.is-online .status-conn-block::before{
      background:var(--ok);
      box-shadow:0 0 0 3px var(--ok-soft);
    }
    .status-bar.is-offline .status-conn-block::before{
      background:#94a3b8;
      box-shadow:0 0 0 3px rgba(148,163,184,0.2);
    }
    .conn-icon{
      display:none;
    }
    .status-bar.is-online .conn-icon{opacity:.9}
    .status-bar .status-battery{
      display:flex;align-items:center;justify-content:flex-start;
      gap:6px;
      height:22px;padding:0 9px;
      background:rgba(255,255,255,0.75);
      border:1px solid rgba(148,163,184,0.35);
      border-radius:999px;
      box-shadow:0 6px 14px rgba(15,23,42,0.08);
    }
    .status-bar .status-battery .value{font-size:0}
    .status-bar .status-battery .value .num{
      font-size:10px;font-weight:800;letter-spacing:.04em;color:#0f172a
    }
    .status-bar .battery-icon{
      position:relative;display:inline-flex;align-items:center;justify-content:center;
      width:26px;height:12px;padding:1px 2px;box-sizing:border-box;
      border:1px solid #0f172a;border-radius:3px;opacity:.65;
    }
    .status-bar .battery-icon::after{
      content:"";position:absolute;right:-4px;top:50%;
      width:3px;height:6px;border-radius:2px;background:#0f172a;opacity:.5;
      transform:translateY(-50%);
    }
    .status-bar .battery-fill{
      position:absolute;left:1px;right:1px;top:1px;bottom:1px;
      width:45%;border-radius:2px;background:#0f172a;opacity:.7;
      transition:width .2s ease;
    }
    .status-bar .battery-text{
      line-height:1;
      font-size:10px;font-weight:600;letter-spacing:.02em;
      color:#1f2937;
    }
    .status-bar .status-battery.status-ok .battery-icon{border-color:#22c55e;opacity:.75}
    .status-bar .status-battery.status-ok .battery-icon::after{background:#22c55e;opacity:.75}
    .status-bar .status-battery.status-ok .battery-fill{background:#22c55e;opacity:.7}
    .status-bar .status-battery.status-ok .battery-text{color:#15803d}
    .status-bar .status-battery.status-warn .battery-icon{border-color:#f59e0b;opacity:.75}
    .status-bar .status-battery.status-warn .battery-icon::after{background:#f59e0b;opacity:.75}
    .status-bar .status-battery.status-warn .battery-fill{background:#f59e0b;opacity:.7}
    .status-bar .status-battery.status-bad .battery-icon{border-color:var(--danger);opacity:.75}
    .status-bar .status-battery.status-bad .battery-icon::after{background:var(--danger);opacity:.75}
    .status-bar .status-battery.status-bad .battery-fill{background:var(--danger);opacity:.7}
    .chip{
      display:inline-flex;align-items:center;gap:6px;padding:6px 12px;border-radius:var(--radius-pill);
      background:rgba(255,255,255,0.9);border:1px solid var(--border-subtle);
      backdrop-filter:blur(18px);-webkit-backdrop-filter:blur(18px);
      font-size:11px;color:var(--text-soft)
    }
    .chip-group{display:inline-flex;align-items:center;gap:6px}
    .chip-sep{width:1px;height:14px;background:rgba(148,163,184,0.6)}
    .chip-label{font-weight:500}
    .chip-value{font-weight:600;color:var(--text-main)}
    .chip-dot{width:8px;height:8px;border-radius:999px;background:var(--danger);box-shadow:0 0 0 4px var(--danger-soft)}
    .chip-dot.ok{background:var(--ok);box-shadow:0 0 0 4px var(--ok-soft)}
    .shell{width:100%;display:flex;flex-direction:column;gap:var(--shell-gap)}
    .card-base{
      position:relative;background:var(--card-bg);border-radius:var(--radius-xl);
      border:1px solid rgba(148,163,184,0.62);box-shadow:var(--card-shadow);
      padding:var(--card-pad);overflow:hidden;
      backdrop-filter:blur(20px) saturate(1.25);-webkit-backdrop-filter:blur(20px) saturate(1.25)
    }
    .card-base::before{
      content:"";position:absolute;inset:0;border-radius:inherit;padding:1px;
      background:linear-gradient(135deg,var(--card-glass-border-outer),var(--card-glass-border-inner));
      -webkit-mask:linear-gradient(#000 0 0) content-box,linear-gradient(#000 0 0);
      -webkit-mask-composite:xor;mask-composite:exclude;
      opacity:0.92;pointer-events:none
    }
    .card-base::after{
      content:"";position:absolute;inset:0;border-radius:inherit;
      background:radial-gradient(circle at 0 0,rgba(255,255,255,0.32),transparent 55%);
      opacity:0.6;pointer-events:none
    }
    .card-base>*{position:relative;z-index:1}
    .main-card{
      background:#ffffff;
      border:1px solid rgba(148,163,184,0.35);
      box-shadow:0 6px 14px rgba(15,23,42,0.08);
    }
    .main-card::before,.main-card::after{content:none}
    .main-card.status-card{
      background:linear-gradient(135deg,#ffffff 0%,#f8fafc 45%,#eef2ff 100%);
      border:1px solid rgba(148,163,184,0.5);
      box-shadow:0 14px 26px rgba(15,23,42,0.12);
    }
    .main-card.status-card::before{
      content:"";
      position:absolute;
      inset:0;
      border-radius:inherit;
      padding:1px;
      background:linear-gradient(135deg,rgba(59,130,246,0.22),rgba(14,165,233,0.15),rgba(148,163,184,0.18));
      -webkit-mask:linear-gradient(#000 0 0) content-box,linear-gradient(#000 0 0);
      -webkit-mask-composite:xor;
      mask-composite:exclude;
      pointer-events:none;
      opacity:.85;
    }
    .main-card.status-card::after{
      content:"";
      position:absolute;
      inset:0;
      border-radius:inherit;
      background:
        radial-gradient(circle at 0 0,rgba(255,255,255,0.7),transparent 55%),
        radial-gradient(circle at 90% 10%,rgba(125,211,252,0.25),transparent 55%),
        repeating-linear-gradient(120deg,rgba(148,163,184,0.08) 0 1px,transparent 1px 9px);
      opacity:.65;
      pointer-events:none;
    }
    .side-col{display:flex;flex-direction:column;gap:12px}
    .card-header{display:flex;align-items:center;justify-content:space-between;gap:8px;margin-bottom:6px}
    .card-title{font-size:12px;font-weight:600;letter-spacing:.14em;text-transform:uppercase;color:var(--text-soft)}
    .card-badge{padding:3px 10px;border-radius:var(--radius-pill);background:var(--accent-soft);color:var(--accent-strong);font-size:11px;font-weight:500;white-space:nowrap}
    .section-label{margin-top:6px;font-size:11px;font-weight:600;letter-spacing:.10em;text-transform:uppercase;color:#9ca3af}
    .status-row{display:flex;flex-direction:column;gap:2px}
    .status-line{display:flex;align-items:center;justify-content:flex-start;gap:10px}
    .status-title{display:flex;align-items:center;gap:10px}
    .status-title-stack{flex-direction:column;align-items:flex-start;gap:10px}
    .status-main-line{display:flex;align-items:center;gap:10px}
    .status-countdown-inline{display:flex;flex-direction:column;gap:2px}
    .status-countdown-inline .countdown-label{
      font-size:10px;letter-spacing:.14em;text-transform:uppercase;color:var(--text-soft);
    }
    .status-countdown-inline .countdown-mobile,
    .status-countdown-inline #countdownMobile{
      display:block;
      font-family:SFMono-Regular,ui-monospace,Menlo,Monaco,Consolas,"Courier New",monospace;
      font-size:28px;font-weight:800;letter-spacing:.08em;color:#0f172a;
      min-width:0;
    }
    .status-card .status-top{
      background:rgba(255,255,255,0.7);
      border:1px solid rgba(148,163,184,0.3);
      border-radius:16px;
      padding:14px 16px;
      box-shadow:inset 0 1px 0 rgba(255,255,255,0.7),0 10px 20px rgba(15,23,42,0.08);
    }
    .status-card .status-left{display:flex;flex-direction:column;gap:12px}
    .status-card .status-title-stack{
      padding-left:12px;
      border-left:2px solid rgba(59,130,246,0.3);
    }
    .status-card .status-main-line{
      background:rgba(255,255,255,0.9);
      border:1px solid rgba(148,163,184,0.35);
      border-radius:12px;
      padding:6px 10px;
      box-shadow:inset 0 1px 0 rgba(255,255,255,0.7);
    }
    .status-card #statusText{
      font-size:clamp(18px,2.5vw,22px);
      color:#1f2937;
    }
    .status-card #statusPill{
      padding:4px 10px;
      font-size:10px;
      letter-spacing:.16em;
      border-radius:999px;
      box-shadow:0 6px 12px rgba(15,23,42,0.12);
    }
    #statusText{color:#4b5563}
    .status-line{width:100%;justify-content:space-between}
    .status-subline{margin-top:6px;display:flex;gap:10px;align-items:center}
    .status-sub-label{font-size:9px;letter-spacing:.2em;text-transform:uppercase;color:#94a3b8}
    .status-sub-value{font-size:13px;font-weight:700;color:#1f2937}
    .status-gyro{display:none;flex:0 0 auto;align-items:center;align-self:center}
    .status-gyro-title{
      font-size:11px;
      letter-spacing:.14em;
      text-transform:uppercase;
      font-weight:700;
      color:#374151;
    }
    .status-gyro-canvas{
      width:180px;
      height:180px;
      border-radius:14px;
      background:linear-gradient(135deg,#ffffff,#f8fafc);
      border:1px solid rgba(148,163,184,0.4);
      display:block;
      box-shadow:0 10px 18px rgba(15,23,42,0.12);
    }
    .preview-navball .status-gyro-canvas--3d{display:none}
    .preview-3d .status-gyro-canvas--navball{display:none}
    .mode-flight .status-top{gap:16px;align-items:center}
    .mode-flight .status-left{flex:1 1 auto;max-width:520px}
    .mode-flight .status-gyro{display:flex}
    .status-motor-grid{
      margin-top:8px;
      display:grid;
      grid-template-columns:repeat(3,minmax(0,1fr));
      gap:6px 12px;
      max-width:320px;
      padding:6px 0;
    }
    .status-divider{
      height:1px;
      background:rgba(148,163,184,0.22);
      margin:10px 0 6px;
    }
    .status-motor-item{
      display:flex;
      flex-direction:column;
      gap:3px;
    }
    .status-motor-item .label{
      font-size:9px;
      letter-spacing:.18em;
      text-transform:uppercase;
      color:#94a3b8;
      font-weight:600;
    }
    .status-motor-item .value{
      font-size:12px;
      font-weight:700;
      color:#111827;
      letter-spacing:.01em;
    }
    .imu-card{
      background:#ffffff;
      border:1px solid rgba(148,163,184,0.35);
      box-shadow:0 6px 14px rgba(15,23,42,0.08);
    }
    .imu-card::before,.imu-card::after{content:none}
    .imu-grid{
      display:grid;
      grid-template-columns:repeat(4,minmax(0,1fr));
      gap:10px;
      margin-top:8px;
    }
    .imu-item{display:flex;flex-direction:column;gap:4px}
    .imu-item .label{
      font-size:9px;
      letter-spacing:.18em;
      text-transform:uppercase;
      color:#94a3b8;
      font-weight:600;
    }
    .imu-item .value{
      font-size:16px;
      font-weight:700;
      color:#111827;
    }
    .imu-card .row-divider{
      height:1px;
      background:rgba(148,163,184,0.18);
      margin:10px 0 6px;
    }
    .imu-hint{
      margin-top:6px;
      font-size:10px;
      color:var(--text-soft);
    }
    .gyro-stage{
      margin-top:12px;
      display:flex;
      align-items:stretch;
      justify-content:space-between;
      gap:16px;
      padding:12px 0 6px;
    }
    .gyro-left{
      flex:0 0 auto;
      display:flex;
      flex-direction:column;
      gap:6px;
    }
    .gyro-right{
      flex:1;
      min-width:220px;
      display:flex;
      flex-direction:column;
      gap:12px;
    }
    .gyro-right .imu-grid{margin-top:0}
    .gyro-left .navball-wrap{margin-top:6px}
    .gyro-section{
      background:#f9fafb;
      border:1px solid rgba(148,163,184,0.25);
      border-radius:12px;
      padding:10px 12px;
    }
    .gyro-section-title{
      font-size:11px;
      letter-spacing:.14em;
      text-transform:uppercase;
      font-weight:700;
      color:#374151;
      margin-bottom:8px;
    }
    .gyro-status{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      margin:4px 0 10px;
      padding:0;
      border-radius:0;
      background:transparent;
      border:0;
    }
    .gyro-status-left{display:flex;align-items:center;gap:10px;min-width:0}
    .gyro-status-pill{
      padding:3px 8px;
      border-radius:999px;
      font-size:9px;
      font-weight:700;
      letter-spacing:.1em;
      text-transform:uppercase;
      border:1px solid rgba(148,163,184,0.35);
      background:#f3f4f6;
      color:#4b5563;
      white-space:nowrap;
    }
    .gyro-status-text{
      font-size:12px;
      font-weight:600;
      color:#1f2937;
      min-width:0;
      overflow:hidden;
      text-overflow:ellipsis;
      white-space:nowrap;
    }
    .gyro-conn-pill{
      display:flex;
      align-items:center;
      gap:6px;
      font-size:10px;
      font-weight:700;
      letter-spacing:.08em;
      text-transform:uppercase;
      color:#64748b;
      white-space:nowrap;
    }
    .gyro-conn-pill .dot{
      width:8px;
      height:8px;
      border-radius:999px;
      background:#94a3b8;
      box-shadow:0 0 0 4px rgba(148,163,184,0.18);
    }
    .gyro-conn-pill.ok .dot{
      background:var(--ok);
      box-shadow:0 0 0 4px var(--ok-soft);
    }
    .gyro-hidden{
      position:absolute;
      width:0;
      height:0;
      overflow:hidden;
      visibility:hidden;
      pointer-events:none;
    }
    .gyro-hidden canvas{
      width:240px;
      height:240px;
    }
    .gyro-meta{
      display:grid;
      grid-template-columns:repeat(3,minmax(0,1fr));
      gap:10px;
      margin:0;
    }
    .gyro-meta-item{
      background:rgba(248,250,252,0.95);
      border:1px solid rgba(148,163,184,0.35);
      border-radius:12px;
      padding:8px 10px;
      display:flex;
      flex-direction:column;
      gap:6px;
      min-width:0;
    }
    .gyro-meta-label{
      font-size:9px;
      letter-spacing:.18em;
      text-transform:uppercase;
      color:#94a3b8;
      font-weight:600;
    }
    .gyro-meta-value{
      font-size:12px;
      font-weight:700;
      color:#111827;
      min-width:0;
      overflow:hidden;
      text-overflow:ellipsis;
      white-space:nowrap;
    }
    .navball-wrap{
      position:relative;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:10px;
      border-radius:12px;
      width:fit-content;
      max-width:100%;
      background:#ffffff;
      border:1px solid rgba(148,163,184,0.3);
      overflow:hidden;
    }
    .navball-canvas{
      width:240px;
      height:240px;
      display:block;
    }
    .gyro-charts{
      display:flex;
      gap:10px;
      align-items:stretch;
    }
    .gyro-charts .chart-box{flex:1;min-width:0}
    @media(max-width:900px){
      .gyro-charts{flex-direction:column}
    }
    @media(max-width:900px){
      .gyro-stage{flex-direction:column;align-items:stretch}
      .gyro-left,.gyro-right{width:100%}
      .mode-flight .status-gyro{display:none}
    }
    .gyro-canvas{
      width:240px;
      height:240px;
      display:block;
      border-radius:12px;
      background:#ffffff;
      border:1px solid rgba(148,163,184,0.3);
      flex:1;
    }
    .gyro-panel{
      padding:10px 12px;
      height:280px;
      box-sizing:border-box;
      display:flex;
      flex-direction:column;
      border-radius:12px;
      background:#f9fafb;
      border:1px solid rgba(148,163,184,0.25);
    }
    .gyro-panel-header{
      display:flex;
      align-items:center;
      justify-content:space-between;
      margin-bottom:10px;
    }
    .gyro-panel-title{
      font-size:12px;
      font-weight:700;
      letter-spacing:.14em;
      text-transform:uppercase;
      color:#1f2937;
    }
    .gyro-legend{
      display:flex;
      align-items:center;
      gap:10px;
      font-size:10px;
      color:var(--text-soft);
    }
    .gyro-legend span{
      display:inline-flex;
      align-items:center;
      gap:6px;
    }
    .gyro-dot{
      width:8px;
      height:8px;
      border-radius:999px;
      background:#94a3b8;
    }
    @media(max-width:980px){
      .status-motor-grid{grid-template-columns:repeat(2,minmax(0,1fr))}
      .imu-grid{grid-template-columns:repeat(2,minmax(0,1fr))}
    }
    #statusText{font-size:clamp(18px,2.4vw,20px);font-weight:600;color:#4b5563}
    #statusPill{padding:3px 8px;border-radius:8px;font-size:10px;font-weight:700;letter-spacing:.12em;text-transform:uppercase;border:1px solid rgba(148,163,184,0.35);box-shadow:none}
    .status-ready{background:rgba(22,163,74,0.08);color:#15803d;border-color:rgba(22,163,74,0.35)}
    .status-count{background:rgba(245,158,11,0.10);color:#b45309;border-color:rgba(245,158,11,0.35)}
    .status-loadcell{background:rgba(239,68,68,0.10);color:#b91c1c;border-color:rgba(239,68,68,0.4)}
    .status-fire{background:rgba(239,68,68,0.08);color:#b91c1c;border-color:rgba(239,68,68,0.35)}
    .status-seq{background:rgba(37,99,235,0.10);color:#1d4ed8;border-color:rgba(37,99,235,0.35)}
    .status-abort{background:rgba(239,68,68,0.12);color:#b91c1c;border-color:rgba(239,68,68,0.45)}
    .status-disc{background:#f3f4f6;color:#4b5563;border-color:rgba(148,163,184,0.35)}
    .status-lock{background:rgba(239,68,68,0.08);color:#991b1b;border-color:rgba(239,68,68,0.45)}
    .countdown-wrap{margin-top:8px;display:flex;align-items:center;justify-content:space-between;gap:12px;flex-wrap:wrap}
    .status-top{display:flex;align-items:flex-start;justify-content:space-between;gap:20px}
    .status-left{flex:1;min-width:0}
    .status-metrics{display:flex;gap:20px;align-items:center;flex-wrap:wrap;margin-top:20px}
    .status-metric{
      background:#f9fafb;
      border:1px solid rgba(148,163,184,0.3);
      border-radius:10px;
      padding:12px 14px;
      min-width:112px;
      min-height:76px;
      display:flex;
      flex-direction:column;
      justify-content:center;
    }
    .status-metric.is-alert{
      border-color:rgba(239,68,68,0.7);
      box-shadow:0 0 0 1px rgba(239,68,68,0.12);
    }
    .status-metric.is-alert.is-alert-blink{
      animation:loadcellAlertBlink 1.1s ease-in-out infinite;
    }
    .status-metric.is-alert.loadcell-blink{
      animation:loadcellAlertBlinkStrong 1s ease-in-out infinite;
    }
    .status-metric.is-alert .status-metric-value{
      color:#b91c1c;
      font-size:10px;
      line-height:1.2;
      display:-webkit-box;
      -webkit-line-clamp:2;
      -webkit-box-orient:vertical;
      overflow:hidden;
      text-align:left;
      word-break:keep-all;
    }
    @keyframes loadcellAlertBlink{
      0%,100%{border-color:rgba(239,68,68,0.35);box-shadow:0 0 0 1px rgba(239,68,68,0.06)}
      50%{border-color:rgba(239,68,68,0.9);box-shadow:0 0 0 2px rgba(239,68,68,0.2)}
    }
    @keyframes loadcellAlertBlinkStrong{
      0%,100%{
        border-color:rgba(239,68,68,0.45);
        box-shadow:0 0 0 1px rgba(239,68,68,0.08);
        background:linear-gradient(135deg,rgba(248,113,113,0.08),rgba(239,68,68,0.04));
      }
      50%{
        border-color:rgba(239,68,68,0.95);
        box-shadow:0 0 0 2px rgba(239,68,68,0.25);
        background:linear-gradient(135deg,rgba(248,113,113,0.2),rgba(239,68,68,0.12));
      }
    }
    .status-metric-label{font-size:9px;letter-spacing:.2em;text-transform:uppercase;color:#94a3b8;margin-bottom:6px}
    .status-metric-value{font-size:18px;font-weight:700;letter-spacing:.02em;color:#111827}
    .status-metric-value .unit{margin-left:4px;font-size:10px;color:#64748b;letter-spacing:.1em;text-transform:uppercase}
    .status-meta-row{margin-top:16px}
    .status-card .status-meta-row{
      display:grid;
      grid-template-columns:repeat(3,minmax(0,1fr));
      gap:10px;
      background:rgba(255,255,255,0.7);
      border:1px solid rgba(148,163,184,0.3);
      border-radius:14px;
      padding:10px;
      box-shadow:inset 0 1px 0 rgba(255,255,255,0.7);
      margin-top:0;
    }
    .status-card .status-meta-row .pill{
      width:100%;
      justify-content:center;
      background:linear-gradient(135deg,#f8fafc,#e2e8f0);
      border:1px solid rgba(148,163,184,0.55);
      font-weight:700;
      letter-spacing:.08em;
      color:#1f2937;
    }
    .status-slab{
      background:rgba(248,250,252,0.92);
      border:1px solid rgba(148,163,184,0.35);
      border-radius:14px;
      padding:12px;
      box-shadow:inset 0 1px 0 rgba(255,255,255,0.8);
    }
    .status-slab-title{
      font-size:10px;
      letter-spacing:.2em;
      text-transform:uppercase;
      font-weight:700;
      color:#64748b;
      margin-bottom:8px;
    }
    .status-slab-grid{
      display:grid;
      grid-template-columns:repeat(2,minmax(0,1fr));
      gap:10px;
    }
    .status-slab-item{
      background:linear-gradient(135deg,#ffffff,#eef2ff);
      border:1px dashed rgba(148,163,184,0.55);
      border-radius:12px;
      padding:10px 12px;
      display:flex;
      flex-direction:column;
      gap:6px;
      min-width:0;
    }
    .status-slab-label{
      font-size:9px;
      letter-spacing:.18em;
      text-transform:uppercase;
      font-weight:700;
      color:#94a3b8;
    }
    .status-slab-value{
      font-size:16px;
      font-weight:700;
      color:#0f172a;
      letter-spacing:.04em;
    }
    .quick-metrics{
      margin-top:0;
      margin-bottom:12px;
      gap:14px;
    }
    .quick-data-body .quick-metrics{margin-top:6px}
    .quick-data-body{
      display:flex;
      gap:14px;
      align-items:stretch;
    }
    .quick-data-body .quick-metrics{
      flex:0 0 24%;
      flex-direction:column;
      align-items:stretch;
      gap:14px;
      height:100%;
      margin-bottom:0;
    }
    .quick-data-body .quick-metrics .status-metric{flex:1;min-height:72px;height:82px;overflow:hidden}
    .quick-data-body .quick-metrics .status-metric-value{text-align:right;margin-top:6px}
    .quick-data-body .item-grid{
      flex:1 1 auto;
      min-width:0;
      grid-template-columns:repeat(2,minmax(0,1fr));
      align-content:stretch;
      grid-auto-rows:1fr;
    }
    .item.status-time-progress{
      border-color:rgba(245,158,11,0.6);
      background:linear-gradient(135deg,rgba(245,158,11,0.08),rgba(245,158,11,0.03));
      box-shadow:0 4px 12px rgba(245,158,11,0.15);
    }
    .item.status-time-ready{
      border-color:rgba(34,197,94,0.5);
      box-shadow:0 0 0 1px rgba(34,197,94,0.12);
      animation:loadcellReadyBlink 1s ease-in-out infinite;
    }
    @keyframes loadcellReadyBlink{
      0%,100%{
        border-color:rgba(34,197,94,0.45);
        box-shadow:0 0 0 1px rgba(34,197,94,0.12);
        background:linear-gradient(135deg,rgba(22,163,74,0.08),rgba(34,197,94,0.04));
      }
      50%{
        border-color:rgba(16,185,129,0.8);
        box-shadow:0 0 0 2px rgba(16,185,129,0.18);
        background:linear-gradient(135deg,rgba(22,163,74,0.16),rgba(34,197,94,0.12));
      }
    }
    @media(max-width:980px){
      .quick-data-body{
        flex-direction:column;
      }
      .quick-data-body .quick-metrics{
        flex:1 1 auto;
        margin-bottom:10px;
      }
    }
    @media(max-width:980px){
      .status-top{flex-direction:column}
    .status-metrics{width:100%;justify-content:flex-start}
    }
    .countdown-label-block{display:flex;flex-direction:column;gap:2px}
    .countdown-caption{font-size:11px;color:var(--text-soft);letter-spacing:.14em;text-transform:uppercase}
    .countdown-sub{font-size:12px;color:var(--text-soft)}
    .countdown-mobile{
      display:none;
      font-family:SFMono-Regular,ui-monospace,Menlo,Monaco,Consolas,"Courier New",monospace;
      font-size:clamp(28px,9vw,40px);
      font-weight:800;letter-spacing:.05em;color:var(--danger);
      text-align:left;min-width:120px
    }
    .status-left .countdown-mobile{
      display:block;
      font-size:16px;
      letter-spacing:.08em;
      color:#b91c1c;
      min-width:0;
    }
    #countdown{
      font-family:SFMono-Regular,ui-monospace,Menlo,Monaco,Consolas,"Courier New",monospace;
      font-size:clamp(46px,7vw,64px);font-weight:800;letter-spacing:.05em;color:var(--danger);
      text-align:right;min-width:120px
    }
    #countdown span{font-size:14px;margin-left:4px;color:var(--text-soft);letter-spacing:0}
    .pill-row{display:flex;flex-wrap:wrap;gap:10px;margin-top:8px}
    .pill{
      padding:5px 12px;border-radius:var(--radius-pill);font-size:11px;
      border:1px solid rgba(148,163,184,0.5);background:rgba(249,250,251,0.96);color:var(--text-soft);
      display:inline-flex;align-items:center;gap:4px;white-space:nowrap
    }
    .pill-toggle{padding:4px 10px;font-size:10px;min-width:42px;justify-content:center;cursor:pointer}
    .pill-toggle.is-on{
      background:rgba(34,197,94,0.16);
      color:#16a34a;
      border-color:rgba(34,197,94,0.5);
    }
    .pill-toggle.is-off{
      background:rgba(148,163,184,0.2);
      color:#4b5563;
      border-color:rgba(148,163,184,0.5);
    }
    .hidden-input{display:none}
    .pill strong{color:var(--text-main);font-weight:600;margin-right:4px}
    .pill-sep{opacity:.55;margin:0 2px}
    .pill-green{background:rgba(22,163,74,0.12);color:var(--ok);border-color:rgba(22,163,74,0.4)}
    .pill-red{background:rgba(248,113,113,0.12);color:var(--danger);border-color:rgba(248,113,113,0.4)}
    .pill-gray{background:#e5e7eb;color:#374151;border-color:rgba(148,163,184,0.7)}
    .ign-metrics{margin-top:4px;font-size:11px;color:var(--text-soft);display:flex;gap:10px}
    .ign-metrics span{white-space:nowrap}
    .item-grid{display:grid;grid-template-columns:1fr;gap:8px;margin-top:6px}
    .item{
      display:flex;justify-content:space-between;align-items:center;
      padding:7px 10px;border-radius:var(--radius-md);
      background:linear-gradient(135deg,#f9fafb,#eef2ff);
      border:1px solid rgba(209,213,219,0.9)
    }
    .item.status-ok{
      background:linear-gradient(135deg,rgba(34,197,94,0.14),rgba(16,185,129,0.08));
      border-color:rgba(34,197,94,0.45);
    }
    .item.status-warn{
      background:linear-gradient(135deg,rgba(245,158,11,0.16),rgba(251,191,36,0.1));
      border-color:rgba(245,158,11,0.5);
    }
    .item.status-bad{
      background:linear-gradient(135deg,rgba(239,68,68,0.16),rgba(248,113,113,0.1));
      border-color:rgba(239,68,68,0.55);
    }
    .item-quick-state.state-lockout{
      background:linear-gradient(135deg,rgba(248,113,113,0.18),rgba(239,68,68,0.08));
      border-color:rgba(239,68,68,0.6);
      box-shadow:0 0 0 1px rgba(239,68,68,0.12);
      animation:loadcellAlertBlinkStrong 1s ease-in-out infinite;
    }
    .item.relay-lockout{
      background:linear-gradient(135deg,rgba(248,113,113,0.08),rgba(239,68,68,0.04));
      border-color:rgba(239,68,68,0.7);
      box-shadow:0 0 0 1px rgba(239,68,68,0.12);
      animation:loadcellAlertBlinkStrong 1s ease-in-out infinite;
    }
    .label{
      font-size:12px;color:#475569;font-weight:600;letter-spacing:.01em;
      display:flex;align-items:center;gap:8px;
    }
    .label-icon{
      width:6px;height:6px;border-radius:999px;
      background:var(--accent);
      box-shadow:0 0 0 4px var(--accent-soft);
      animation:pulse-dot 3s ease-in-out infinite;
    }
    .value{
      display:flex;justify-content:flex-end;align-items:baseline;gap:7px;
      font-size:0;font-weight:600;color:var(--text-main);
    }
    .value .num{font-size:clamp(17px,2.2vw,21px);font-weight:650;letter-spacing:.01em;}
    .value .unit{font-size:11px;font-weight:700;letter-spacing:.12em;text-transform:uppercase;color:#64748b;}
    .item-quick-state .label{
      font-size:10px;
      letter-spacing:.04em;
    }
    #quick-state{flex:1;min-width:0;justify-content:flex-end}
    #quick-state .num{
      font-size:clamp(7px,0.9vw,10px);
      letter-spacing:0;
      display:-webkit-box;
      -webkit-box-orient:vertical;
      -webkit-line-clamp:2;
      overflow:hidden;
      white-space:normal;
      word-break:keep-all;
      overflow-wrap:normal;
      line-height:1.1;
      text-align:right;
    }
    #quick-state.is-not-armed .num{font-size:clamp(6px,0.8vw,8px)}
    .motor-card{
      background:linear-gradient(135deg,#f7f7fb 0%,#eef2ff 60%,#f8fafc 100%);
      border:1px solid rgba(148,163,184,0.25);
      box-shadow:0 16px 28px rgba(15,23,42,0.08);
    }
    .motor-card .card-header{margin-bottom:14px}
    .motor-card .card-title{
      letter-spacing:.28em;
      color:#475569;
    }
    .motor-card .card-badge{
      background:rgba(59,130,246,0.12);
      color:#1d4ed8;
      border:1px solid rgba(59,130,246,0.28);
      font-weight:700;
    }
    .motor-card .item-grid{
      grid-template-columns:repeat(3,minmax(0,1fr));
      gap:10px;
    }
    .motor-card .item{
      background:#f8f9ff;
      border:1px solid rgba(148,163,184,0.22);
      border-radius:8px;
      padding:11px 13px;
      box-shadow:inset 0 0 0 1px rgba(255,255,255,0.6);
    }
    .motor-card .item.item-null{
      background:linear-gradient(135deg,#f8fafc,#f1f5f9);
      border:1px dashed rgba(148,163,184,0.6);
      color:#94a3b8;
      box-shadow:none;
    }
    .motor-card .item.item-null .label,
    .motor-card .item.item-null .value{
      color:#94a3b8;
    }
    .motor-card .item.status-ok{
      background:linear-gradient(135deg,rgba(34,197,94,0.14),rgba(16,185,129,0.08));
      border-color:rgba(34,197,94,0.45);
    }
    .motor-card .item.status-warn{
      background:linear-gradient(135deg,rgba(245,158,11,0.16),rgba(251,191,36,0.1));
      border-color:rgba(245,158,11,0.5);
    }
    .motor-card .item.status-bad{
      background:linear-gradient(135deg,rgba(239,68,68,0.16),rgba(248,113,113,0.1));
      border-color:rgba(239,68,68,0.55);
    }
    .motor-card .label{
      font-size:10px;
      color:#475569;
      letter-spacing:.06em;
      text-transform:uppercase;
      line-height:1.1;
    }
    .motor-card .label-icon{display:none}
    .motor-card .value{
      color:#6b7280;
      font-weight:600;
      gap:6px;
      line-height:1.1;
    }
    .motor-card .value .num{font-size:11px}
    .motor-card .value .unit{font-size:8px;letter-spacing:.08em;color:#94a3b8}
    #commStatus .num{
      font-size:clamp(8px,0.9vw,10px);
      font-weight:600;
      display:inline-block;
      max-width:90px;
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
      vertical-align:bottom;
    }
    .item-pressure .value-block{display:flex;flex-direction:column;align-items:flex-end;gap:12px}
    .switch{position:relative;display:inline-block;width:52px;height:30px;}
    .switch input{display:none}
    .slider{
      position:absolute;inset:0;cursor:pointer;background:#e5e7eb;border-radius:999px;
      border:1px solid rgba(148,163,184,0.9);transition:.26s
    }
    .slider:before{
      position:absolute;content:'';height:24px;width:24px;left:3px;bottom:2px;background:#ffffff;border-radius:50%;
      box-shadow:0 4px 10px rgba(148,163,184,0.9);transition:.26s
    }
    input:checked+.slider{
      background:linear-gradient(90deg,#22c55e,#4ade80);
      box-shadow: inset 0 0 0 3px rgba(34,197,94,0.32);
    }
    input:checked+.slider:before{transform:translateX(20px)}
    button{
      border:none;border-radius:var(--radius-pill);font-family:inherit;cursor:pointer;
      transition:transform .12s ease,box-shadow .12s ease,background .12s ease,color .12s ease,border-color .12s ease;
      -webkit-tap-highlight-color:transparent;
      touch-action:manipulation;
    }
    button:disabled{opacity:.45;box-shadow:none;cursor:default;transform:none}
    button:hover:not(:disabled){transform:translateY(-1px)}
    button:active:not(:disabled){transform:translateY(0);box-shadow:none}
    .controls-card button,.log-card button,.settings-dialog button,.launcher-dialog button{
      display:inline-flex;align-items:center;justify-content:center;gap:6px;font-size:12px;font-weight:500
    }
    .controls-toolbar .toolbar-btn{
      border-radius:12px;
      height:38px;
    }
    .toolbar-btn{
      border-radius:var(--radius-pill);border:1px solid rgba(209,213,219,0.9);
      background:linear-gradient(135deg,#f9fafb,#eef2ff);color:#111827;
      padding:6px 8px;height:34px;font-size:11px;font-weight:600;
      box-shadow:0 4px 10px rgba(148,163,184,0.18);white-space:nowrap
    }
    .primary-btn{
      border-radius:14px;
      border:1px solid rgba(249,115,22,0.65);
      background:linear-gradient(120deg,rgba(244,67,54,0.78),rgba(249,115,22,0.78));
      color:#fff7ed;
      font-size:14px;font-weight:700;letter-spacing:.05em;
      padding:10px 18px;height:42px;width:100%;
      box-shadow:0 6px 16px rgba(249,115,22,0.24),0 3px 8px rgba(239,68,68,0.18);
      text-shadow:0 1px 2px rgba(0,0,0,0.12);
      backdrop-filter:blur(10px) saturate(1.15);-webkit-backdrop-filter:blur(10px) saturate(1.15);
    }
    .primary-btn.sequence-btn{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      text-align:left;
      height:auto;
      min-height:56px;
      padding:12px 16px;
      border-radius:10px;
      background:#ffffff;
      border:1px solid rgba(148,163,184,0.25);
      box-shadow:none;
      color:var(--text-main);
      text-shadow:none;
      backdrop-filter:none;
      -webkit-backdrop-filter:none;
    }
    .primary-btn.sequence-btn:disabled{
      background:#f1f5f9;
      border-color:rgba(148,163,184,0.35);
      color:#94a3b8;
      box-shadow:none;
      cursor:not-allowed;
    }
    .primary-btn.sequence-btn:disabled .sequence-btn-sub{
      color:#94a3b8;
    }
    .controls-main-row .abort-btn-wrap{
      flex:1.6;
      display:flex;
      align-items:stretch;
    }
    .controls-main-row .abort-btn-wrap .secondary-btn{
      height:auto;
      min-height:56px;
      border-radius:10px;
      font-size:13px;
      letter-spacing:.06em;
    }
    .sequence-btn-text{
      display:flex;
      flex-direction:column;
      gap:4px;
      min-width:0;
    }
    .sequence-btn-title{
      font-size:11px;
      font-weight:700;
      letter-spacing:.05em;
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
    }
    .sequence-btn-sub{
      font-size:10px;
      font-weight:500;
      color:#6b7280;
      opacity:1;
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
    }
    .sequence-status-pill{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      padding:4px 10px;
      border-radius:999px;
      font-size:11px;
      font-weight:700;
      letter-spacing:.08em;
      border:1px solid rgba(148,163,184,0.4);
      color:#475569;
      background:rgba(148,163,184,0.08);
      flex-shrink:0;
      line-height:1.2;
    }
    .secondary-btn{
      border-radius:10px;
      border:1px solid rgba(239,68,68,0.6);
      background:linear-gradient(135deg,#f87171,#ef4444);
      color:#fff7ed;
      font-size:12px;font-weight:700;letter-spacing:.04em;
      padding:10px 16px;height:42px;width:100%;
      box-shadow:0 8px 16px rgba(239,68,68,0.25);
      text-shadow:0 1px 2px rgba(0,0,0,0.12);
    }
    .secondary-btn:disabled{
      background:linear-gradient(135deg,rgba(148,163,184,0.4),rgba(100,116,139,0.4));
      border-color:rgba(148,163,184,0.4);
      color:#e2e8f0;
      box-shadow:none;
      text-shadow:none;
    }
    .force-btn,.launcher-open-btn{
      margin-top:6px;width:100%;padding:10px 14px;border-radius:var(--radius-pill);
      border:1px solid rgba(148,163,184,0.75);background:linear-gradient(135deg,#f9fafb,#e5e7eb);
      color:#111827;font-size:13px;font-weight:600;box-shadow:0 4px 10px rgba(148,163,184,0.2)
    }
    .force-btn{justify-content:center}
    .force-btn.disabled{opacity:.45;pointer-events:none;filter:saturate(0.6) grayscale(0.1)}
    .launcher-open-btn{justify-content:space-between}
    .controls-card{padding-top:14px;padding-bottom:14px;position:relative}
    .controls-card{
      background:linear-gradient(180deg,#ffffff,#f7f8fc);
      border:1px solid rgba(148,163,184,0.26);
      box-shadow:0 18px 30px rgba(15,23,42,0.12);
    }
    .controls-card::before,.controls-card::after{content:none}
    #controlsHeader{
      border-bottom:1px solid rgba(148,163,184,0.35);
      padding-bottom:8px;
      margin-bottom:8px;
    }
    .controls-subtitle{font-size:11px;color:var(--text-soft);margin-top:2px}
    .controls-help{
      font-size:11px;color:var(--accent-strong);margin-top:4px;cursor:pointer;
      text-decoration:none;
    }
    .controls-grid{margin-top:8px;display:flex;flex-direction:column;gap:8px}
    .controls-section-label{margin-top:6px;font-size:11px;font-weight:600;letter-spacing:.10em;text-transform:uppercase;color:#9ca3af}
    .controls-toolbar{margin-top:4px;display:grid;grid-template-columns:repeat(auto-fit,minmax(0,1fr));gap:6px}
    .controls-main-row{display:flex;gap:8px;align-items:stretch;margin-top:4px}
    .primary-btn-wrap{flex:3;display:flex}
    .abort-btn-wrap{flex:1.4;display:flex}
    .control-row{
      display:grid;
      grid-template-columns:repeat(2,minmax(0,1fr));
      gap:8px;
      align-items:stretch;
      margin-top:6px
    }
    .control-tile{
      padding:9px 12px;border-radius:10px;
      border:1px solid rgba(148,163,184,0.25);
      background:#ffffff;
      display:flex;align-items:center;justify-content:space-between;gap:10px;
      min-width:0
    }
    .controls-card .control-tile{
      padding:6px 12px !important;
      min-height:52px;
      height:52px;
    }
    .control-tile.span-2{grid-column:1 / -1}
    .control-tile-label{
      font-size:13px;color:#111827;font-weight:500;
      white-space:nowrap;overflow:hidden;text-overflow:ellipsis;
    }
    .control-tile-sub{
      font-size:11px;color:#6b7280;margin-top:2px;
      white-space:nowrap;overflow:hidden;text-overflow:ellipsis;
    }
    .controls-header-actions{display:flex;align-items:center;gap:6px}
    .controls-gear-btn{
      width:26px;height:26px;border-radius:999px;border:1px solid rgba(148,163,184,0.75);
      background:radial-gradient(circle at 30% 20%,#f9fafb,#e5e7eb);
      color:#4b5563;font-size:14px;display:flex;align-items:center;justify-content:center;
      box-shadow:0 5px 12px rgba(148,163,184,0.32);padding:0
    }
    .controls-gear-btn svg{
      width:14px;height:14px;stroke:currentColor;fill:none;stroke-width:1.8;
      stroke-linecap:round;stroke-linejoin:round;
    }
    .controls-mobile-only{display:none}
    .launcher-desktop-only{display:grid}
    .controls-gear-btn:hover{background:#0f172a;color:#e5e7eb}
    .devtools-panel{
      display:none;flex-direction:column;gap:12px;
      position:absolute;left:14px;right:14px;top:16px;bottom:14px;
    }
    .controls-card.devtools-mode .controls-grid{opacity:0;pointer-events:none}
    .controls-card.devtools-mode .devtools-panel{display:flex}
    .devtools-header{display:flex;align-items:center;justify-content:space-between}
    .devtools-title{font-size:12px;font-weight:700;letter-spacing:.12em;text-transform:uppercase;color:#4b5563}
    .devtools-close-btn{
      width:26px;height:26px;border-radius:999px;border:1px solid rgba(148,163,184,0.75);
      background:radial-gradient(circle at 30% 20%,#f9fafb,#e5e7eb);
      color:#4b5563;font-size:16px;display:flex;align-items:center;justify-content:center;
      box-shadow:0 5px 12px rgba(148,163,184,0.32);padding:0
    }
    .devtools-close-btn:hover{background:#0f172a;color:#e5e7eb}
    .devtools-divider{display:flex;align-items:center;gap:10px}
    .devtools-divider::before,.devtools-divider::after{
      content:"";height:1px;flex:1;background:rgba(148,163,184,0.4);
    }
    .devtools-divider-label{
      font-size:11px;font-weight:700;letter-spacing:.08em;text-transform:uppercase;color:#64748b;
    }
    .devtools-relay-row{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:10px}
    .devtools-relay-btn{
      width:100%;padding:12px 10px;border-radius:14px;border:1px solid rgba(148,163,184,0.6);
      background:#f1f5f9;
      border-color:#9bd7a7;
      color:#2f7d3a;font-weight:800;letter-spacing:.06em;font-size:12px;
      box-shadow:0 4px 10px rgba(15,23,42,0.08);
    }
    .devtools-relay-btn.is-on{
      background:#fee2e2;
      border-color:#f59e9e;
      color:#b4232c;
      box-shadow:0 4px 10px rgba(239,68,68,0.14);
    }
    .devtools-relay-btn.is-warning{
      box-shadow:0 0 0 2px rgba(245,158,11,0.45),0 6px 14px rgba(245,158,11,0.16);
    }
    .devtools-relay-btn.span-2{grid-column:1 / -1}
    .devtools-warning{
      display:none;padding:8px 10px;border-radius:12px;border:1px solid rgba(245,158,11,0.55);
      background:rgba(251,191,36,0.12);color:#92400e;font-size:11px;font-weight:700;text-align:center;
      letter-spacing:.06em;
    }
    .devtools-warning.show{display:block}
    .charts-card{
      padding:12px;
      padding-bottom:18px;
      overflow:hidden;
      display:grid;
      grid-template-rows:auto 1fr;
      height:var(--chart-height);
      min-height:var(--chart-height);
    }
    .chart-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:4px;gap:8px;flex-wrap:wrap}
    .chart-title-main{font-size:12px;font-weight:600;letter-spacing:.12em;text-transform:uppercase;color:var(--text-soft)}
    .chart-title-main--flight{display:none}
    .mode-flight .chart-title-main--daq{display:none}
    .mode-flight .chart-title-main--flight{display:block}
    .chart-controls{display:flex;gap:4px;flex-wrap:wrap;justify-content:flex-end}
    .chart-btn{
      border-radius:var(--radius-pill);border:1px solid rgba(148,163,184,0.7);
      background:#f9fafb;color:#4b5563;padding:2px 8px;font-size:11px;min-width:26px;text-align:center
    }
    .chart-btn-live{background:var(--accent);border-color:var(--accent-strong);color:#eff6ff;font-weight:600;letter-spacing:.05em}
    .chart-row{
      display:flex;flex:1 1 auto;flex-direction:row;flex-wrap:nowrap;
      gap:8px;margin-top:2px;min-height:0;align-items:stretch;
    }
    .chart-box{
      background:linear-gradient(135deg,#f8fafc,#e2e8f0);
      border-radius:var(--radius-md);padding:6px;border:1px solid rgba(148,163,184,0.55);flex:1 1 0;
      display:flex;flex-direction:column;min-height:0;min-width:0;overflow:hidden;
      box-shadow:0 6px 14px rgba(15,23,42,0.08),0 1px 0 rgba(255,255,255,0.8) inset
    }
    .chart-box--flight{display:none}
    .mode-flight .chart-box--daq{display:none}
    .mode-flight .chart-box--flight{display:flex}
    .chart-box-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:4px}
    .chart-title{font-size:12px;font-weight:600;color:#111827}
    .chart-badge{font-size:10px;padding:3px 8px;border-radius:var(--radius-pill);background:rgba(255,255,255,0.8);color:#4b5563}
    .chart-box canvas{width:100%;height:100%;max-height:100%;display:block;flex:1;min-height:0}
    @media(max-width:900px){
      .charts-card{height:auto}
      .chart-row{flex-direction:column;flex-wrap:nowrap}
      .chart-box{flex:1 1 auto;min-height:220px}
    }

    .log-card{
      position:relative;background:#020617;color:#e5e7eb;border-radius:var(--radius-lg);
      padding:10px;box-shadow:0 10px 28px rgba(15,23,42,0.75);
      font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Courier New",monospace;
      font-size:11px;display:flex;flex-direction:column;height:var(--log-height);max-height:var(--log-height);
      border:1px solid rgba(15,23,42,0.95);backdrop-filter:blur(18px) saturate(1.2);-webkit-backdrop-filter:blur(18px) saturate(1.2);
      overflow:hidden
    }
    @media(min-width:1024px){.log-card{height:300px;max-height:300px}}
    .log-card::before{
      content:"";position:absolute;inset:0;border-radius:inherit;padding:1px;
      background:linear-gradient(135deg,rgba(148,163,184,0.8),rgba(37,99,235,0.9),rgba(15,23,42,1));
      -webkit-mask:linear-gradient(#000 0 0) content-box,linear-gradient(#000 0 0);
      -webkit-mask-composite:xor;mask-composite:exclude;opacity:0.8;pointer-events:none
    }
    .log-card::after{
      content:"";position:absolute;inset:0;border-radius:inherit;
      background:radial-gradient(circle at 0 0,rgba(248,250,252,0.12),transparent 55%);
      opacity:0.8;pointer-events:none
    }
    .log-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:6px;gap:8px}
    .log-title{font-size:11px;font-weight:600;letter-spacing:.14em;text-transform:uppercase;color:#9ca3af}
    .terminal-shell{
      margin-top:4px;border-radius:14px;border:1px solid #020617;background:#020617;
      box-shadow:0 10px 26px rgba(15,23,42,0.85);
      flex:1 1 auto;min-height:0;display:flex;flex-direction:column;overflow:hidden;position:relative
    }
    .terminal-header{display:flex;align-items:center;justify-content:space-between;padding:6px 9px;background:#020617;border-bottom:1px solid #111827}
    .term-title{font-size:10px;color:#9ca3af}
    .term-actions{display:flex;align-items:center;gap:6px}
    .term-copy-btn{
      border:1px solid #1f2937;border-radius:999px;padding:2px 8px;
      background:transparent;color:#cbd5e1;font-size:9px;font-weight:600;
      letter-spacing:.08em;text-transform:uppercase;cursor:pointer;
      transition:background .16s ease,color .16s ease,border-color .16s ease
    }
    .term-copy-btn:hover{background:#111827;border-color:#334155;color:#e2e8f0}
    #logView{
      padding:8px 10px;flex:1 1 auto;min-height:0;overflow-y:auto;overflow-x:hidden;
      white-space:pre-wrap;word-wrap:break-word;scrollbar-width:thin;scrollbar-color:#4b5563 #020617
    }
    #logView::-webkit-scrollbar{width:6px}
    #logView::-webkit-scrollbar-track{background:#020617}
    #logView::-webkit-scrollbar-thumb{background:#4b5563;border-radius:999px}
    .log-line{font-family:inherit;font-size:11px;line-height:1.4;color:#e5e7eb}
    .log-prefix{color:#6b7280}
    .terminal-input-row{
      display:flex;align-items:center;gap:8px;padding:8px 10px;border-top:1px solid #111827;background:#020617
    }
    .terminal-prompt{color:#64748b;font-size:11px}
    .terminal-input{
      flex:1 1 auto;background:#0f172a;border:1px solid #1f2937;border-radius:10px;padding:6px 10px;
      color:#e2e8f0;font-size:11px;font-family:inherit;outline:none
    }
    .terminal-input::placeholder{color:#475569}
    .terminal-input:focus{border-color:#334155;box-shadow:0 0 0 2px rgba(148,163,184,0.2)}
    .terminal-send-btn{
      border:1px solid #1f2937;border-radius:999px;padding:4px 10px;
      background:#111827;color:#e2e8f0;font-size:10px;font-weight:600;letter-spacing:.08em;text-transform:uppercase;cursor:pointer;
      transition:background .16s ease,color .16s ease,border-color .16s ease
    }
    .terminal-send-btn:hover{background:#1f2937;border-color:#334155}
    .terminal-view{
      flex:1;
      min-height:0;
    }
    .terminal-view .shell{
      display:flex;
      flex-direction:column;
      align-items:stretch;
      flex:1;
      min-height:0;
    }
    .terminal-view .log-card{
      height:calc(100dvh - 150px - env(safe-area-inset-bottom, 0px));
      max-height:none;
      width:100%;
    }
    .terminal-view .log-card,
    .terminal-view .terminal-shell,
    .terminal-view #logView{
      width:100%;
    }
    .terminal-view .terminal-shell{
      height:100%;
      width:100%;
    }
    .countdown-view{
      flex:1;
      min-height:0;
      display:flex;
      flex-direction:column;
    }
    .countdown-view .shell{
      display:flex;
      flex-direction:column;
      min-height:0;
      flex:1;
    }
    .countdown-card{
      position:relative;
      display:flex;
      align-items:center;
      justify-content:center;
      flex:1;
      min-height:0;
      padding:24px;
      border-radius:24px;
      background:
        radial-gradient(circle at 15% 20%, rgba(255,255,255,0.9), transparent 50%),
        radial-gradient(circle at 85% 0, rgba(148,163,184,0.35), transparent 55%),
        linear-gradient(180deg, rgba(255,255,255,0.98), rgba(241,245,249,0.94));
      border:1px solid rgba(148,163,184,0.35);
      box-shadow:0 18px 40px rgba(15,23,42,0.12),0 2px 0 rgba(255,255,255,0.7) inset;
      overflow:hidden;
    }
    .countdown-card::before{
      content:"";position:absolute;inset:-20%;
      background:radial-gradient(circle at 50% 50%, rgba(59,130,246,0.15), transparent 60%);
      opacity:.6;pointer-events:none;
    }
    .countdown-card::after{
      content:"";position:absolute;inset:0;
      background:
        linear-gradient(transparent 0 97%, rgba(15,23,42,0.05) 100%),
        linear-gradient(90deg, transparent 0 97%, rgba(15,23,42,0.05) 100%);
      background-size:48px 48px;
      opacity:.25;pointer-events:none;
    }
    .countdown-hero{
      display:flex;
      flex-direction:column;
      align-items:center;
      justify-content:center;
      gap:14px;
      text-align:center;
      position:relative;
      z-index:1;
    }
    .countdown-hero-label{
      font-size:13px;
      letter-spacing:.36em;
      text-transform:uppercase;
      color:#64748b;
    }
    .countdown-hero-value{
      font-size:clamp(42px,7vw,96px);
      font-weight:700;
      letter-spacing:.08em;
      color:#0f172a;
      text-shadow:
        0 18px 42px rgba(15,23,42,0.32),
        0 4px 0 rgba(255,255,255,0.7),
        0 0 22px rgba(59,130,246,0.18);
      filter:drop-shadow(0 10px 26px rgba(15,23,42,0.18));
      animation:countdownGlow 2s ease-in-out infinite;
    }
    .countdown-hero-status{
      font-size:13px;
      font-weight:700;
      color:#1f2937;
      padding:6px 14px;
      border-radius:999px;
      background:rgba(15,23,42,0.06);
      border:1px solid rgba(148,163,184,0.3);
      letter-spacing:.06em;
      text-transform:uppercase;
    }
    @keyframes countdownGlow{
      0%,100%{
        text-shadow:
          0 16px 34px rgba(15,23,42,0.22),
          0 3px 0 rgba(255,255,255,0.6),
          0 0 18px rgba(59,130,246,0.18);
      }
      50%{
        text-shadow:
          0 26px 54px rgba(30,64,175,0.45),
          0 4px 0 rgba(255,255,255,0.75),
          0 0 28px rgba(59,130,246,0.32);
      }
    }
    .hardware-view{
      flex:1;
      min-height:0;
    }
    .hardware-view .shell{
      display:flex;
      flex-direction:column;
      gap:16px;
      min-height:0;
    }
    .hardware-card{
      padding:18px;
    }
    .hardware-title{
      font-size:16px;font-weight:700;letter-spacing:.04em;color:#111827;
    }
    .hardware-desc{
      margin-top:8px;font-size:13px;color:#6b7280;line-height:1.6;
    }
    .tetris-overlay{
      position:absolute;inset:0;background:rgba(2,6,23,0.98);color:#e2e8f0;
      display:flex;flex-direction:column;gap:6px;padding:8px 10px 24px;z-index:2;
      overflow:hidden
    }
    .tetris-hud{font-size:12px;color:#94a3b8;letter-spacing:.08em;text-transform:uppercase;display:flex;justify-content:space-between}
    .tetris-screen{
      flex:1 1 auto;min-height:0;white-space:pre;line-height:1.3;font-size:14px;color:#e5e7eb;
      display:flex;align-items:flex-start;overflow-y:auto;overflow-x:hidden;padding-bottom:8px
    }
    .tetris-help{font-size:12px;color:#64748b}
    .fw-f-logo{cursor:pointer}

    .toast-container{
      position:fixed;bottom:22px;left:calc(72px + 22px);transform:none;
      z-index:220;display:flex;flex-direction:column;align-items:flex-start;gap:12px;pointer-events:none;
      transition:left .2s ease, top .2s ease, bottom .2s ease, width .2s ease;
    }
    html.mobile-controls-active .toast-container{
      bottom:auto;
      top:calc(env(safe-area-inset-top, 0px) + 14px);
      left:50%;
      transform:translateX(-50%);
      width:calc(100% - 32px);
      max-width:640px;
      align-items:center;
      z-index:270;
    }
    .toast{
      position:relative;width:min(440px,calc(100vw - 44px));padding:16px 18px 14px;border-radius:14px;
      background:#1f1f1f;
      border:1px solid rgba(255,255,255,0.06);
      box-shadow:0 18px 40px rgba(15,23,42,0.35);
      overflow:hidden;display:flex;align-items:flex-start;gap:14px;
      opacity:0;transform:translateY(10px);pointer-events:auto;cursor:pointer;
      transition:transform .22s ease,opacity .22s ease;
      color:#f8fafc;
    }
    .toast::after{
      content:"";position:absolute;inset:0;
      background:radial-gradient(circle at 20% 0,rgba(255,255,255,0.12),transparent 55%);
      pointer-events:none
    }
    .toast-show{animation:toastIn .24s ease-out forwards}
    .toast-hide{animation:toastOut .18s ease-in forwards}
    @keyframes toastIn{to{opacity:1;transform:translateY(0)}}
    @keyframes toastOut{to{opacity:0;transform:translateY(-8px)}}
    .toast-icon{
      width:36px;height:36px;border-radius:999px;flex-shrink:0;display:flex;align-items:center;justify-content:center;
      position:relative;
      background:var(--toast-icon-bg, #111827);
      border:1px solid rgba(255,255,255,0.08);
      box-shadow:0 8px 18px rgba(0,0,0,0.35);
    }
    .toast-icon::after{
      content:"";
      position:absolute;inset:-8px;border-radius:999px;
      background:var(--toast-glow, rgba(148,163,184,0.18));
      filter:blur(6px);
      opacity:0.6;
      pointer-events:none;
    }
    .toast-icon img{width:18px;height:18px;display:block;filter:drop-shadow(0 2px 4px rgba(0,0,0,0.22))}
    .toast-body{
      flex:1;min-width:0;
      display:flex;flex-direction:column;gap:6px;
      justify-content:flex-start;
      text-align:left;
    }
    .toast-title{
      font-size:12px;
      font-weight:700;
      letter-spacing:.04em;
      color:#e2e8f0;
    }
    .toast-text{
      font-size:13px;color:#d1d5db;line-height:1.5;
      word-break:keep-all;text-align:left;
      white-space:normal;overflow:visible;text-overflow:clip;
      padding-right:28px;
    }
    .toast-close{
      position:absolute;right:12px;top:10px;
      width:28px;height:28px;border-radius:8px;border:none;
      background:transparent;color:rgba(255,255,255,0.7);
      font-size:20px;line-height:1;cursor:pointer;
    }
    .toast-close:hover{color:#ffffff;background:rgba(255,255,255,0.08)}
    .toast-expanded{
      width:min(440px,calc(100vw - 44px));
      padding:16px 18px 14px;
      border-radius:14px;
      background:#1f1f1f;
      box-shadow:0 18px 40px rgba(15,23,42,0.35);
    }
    .toast-expanded .toast-text{
      font-size:inherit;
      line-height:1.5;
    }
    .toast-info{
      --toast-icon-bg:radial-gradient(circle at 30% 30%, #d1d5db, #6b7280);
      --toast-glow:rgba(148,163,184,0.35);
    }
    .toast-success{
      --toast-icon-bg:radial-gradient(circle at 30% 30%, #6ee7b7, #22c55e);
      --toast-glow:rgba(34,197,94,0.35);
    }
    .toast-warn{
      --toast-icon-bg:radial-gradient(circle at 30% 30%, #fcd34d, #f59e0b);
      --toast-glow:rgba(245,158,11,0.38);
    }
    .toast-warn .toast-title,
    .toast-error .toast-title{color:#ef4444 !important}
    .toast-error{
      --toast-icon-bg:radial-gradient(circle at 30% 30%, #fda4af, #ef4444);
      --toast-glow:rgba(239,68,68,0.38);
    }
    .toast-ignite{
      --toast-icon-bg:radial-gradient(circle at 30% 30%, #fdba74, #fb923c);
      --toast-glow:rgba(251,146,60,0.38);
    }
    @media(max-width:920px){
      .toast-container{bottom:14px;left:14px}
    }
    @media(max-width:600px){
      .toast-container{bottom:calc(108px + env(safe-area-inset-bottom, 0px));left:12px;right:12px}
      .toast{width:100%;max-width:calc(100vw - 24px)}
      .toast-icon{display:none}
      #controlsCard.controls-mobile-hidden{display:none}
    }

    .confirm-overlay,.settings-overlay{
      position:fixed;inset:0;background:rgba(15,23,42,0.45);
      display:flex;align-items:center;justify-content:center;padding:16px;z-index:50
    }
    #launcherAutoOverlay{z-index:60}
    .ws-alert-overlay{
      position:fixed;inset:0;background:rgba(15,23,42,0.45);
      display:flex;align-items:center;justify-content:center;padding:16px;z-index:70;
      backdrop-filter:blur(2px);
    }
    .disconnect-overlay{
      position:fixed;inset:0;background:rgba(2,6,23,0.82);
      display:flex;align-items:center;justify-content:center;padding:16px;z-index:65;
      backdrop-filter:blur(10px);
    }
    .controls-overlay{
      position:fixed;inset:0;z-index:85;
      display:flex;align-items:center;justify-content:center;
      background:rgba(15,23,42,0.65);
      padding:16px;
    }
    .controls-overlay.hidden{display:none}
    .controls-overlay-slot{
      position:relative;
      width:min(96vw,560px);
      max-height:min(95vh,calc(100vh - 56px));
      overflow:auto;
      display:flex;
      justify-content:center;
    }
    .controls-card{
      position:relative;
    }
    .controls-overlay-close{
      position:absolute;
      top:6px;
      right:6px;
      width:32px;height:32px;
      border:none;
      border-radius:50%;
      background:transparent;
      color:#0f172a;
      font-size:24px;
      line-height:1;
      cursor:pointer;
      box-shadow:none;
      z-index:5;
      padding:0;
    }
    @media(min-width:601px){
      .controls-overlay{display:none!important}
    }
    .disconnect-dialog{
      min-width:min(360px,calc(100vw - 48px));
      max-width:520px;
      padding:10px 16px 6px;
      text-align:center;
    }
    .disconnect-title{
      font-size:16px;font-weight:700;letter-spacing:.08em;color:#f8fafc;
      margin-top:12px;
    }
    .disconnect-text{
      margin-top:6px;font-size:13px;color:#cbd5f5;line-height:1.5;
    }
    .disconnect-actions{
      display:flex;justify-content:center;margin-top:14px;
    }
    .disconnect-ok{
      background:#e2e8f0;color:#0f172a;border:1px solid rgba(148,163,184,0.35);
      border-radius:999px;padding:8px 18px;font-weight:700;font-size:12px;
      letter-spacing:.06em;cursor:pointer;
      box-shadow:0 6px 18px rgba(15,23,42,0.25);
    }
    .disconnect-ok:hover{background:#f8fafc}
    .hidden{display:none}
    .confirm-dialog{
      position:relative;
      background:linear-gradient(180deg,rgba(255,255,255,0.97),rgba(244,247,252,0.95));
      border-radius:22px;padding:18px 18px 14px;width:100%;max-width:360px;
      box-shadow:0 14px 34px rgba(15,23,42,0.14),0 2px 0 rgba(255,255,255,0.9) inset;
      color:#0f172a;border:1px solid rgba(255,255,255,0.7);
      backdrop-filter:blur(24px) saturate(1.15);-webkit-backdrop-filter:blur(24px) saturate(1.15);overflow:hidden
    }
    .confirm-dialog.force-dialog{min-height:270px;padding-bottom:22px}
    .confirm-dialog>*{position:relative;z-index:1}
    .confirm-dialog::before{
      content:"";position:absolute;inset:0;border-radius:inherit;padding:1px;
      background:linear-gradient(135deg,rgba(255,255,255,0.95),rgba(148,163,184,0.4));
      -webkit-mask:linear-gradient(#000 0 0) content-box,linear-gradient(#000 0 0);
      -webkit-mask-composite:xor;mask-composite:exclude;opacity:0.9;pointer-events:none;z-index:0
    }
    .confirm-dialog::after{
      content:"";position:absolute;inset:0;border-radius:inherit;
      background:radial-gradient(circle at 20% 0,rgba(254,202,202,0.35),transparent 60%);
      opacity:0.6;pointer-events:none;z-index:0
    }
    .confirm-icon{
      width:56px;height:56px;border-radius:18px;
      --icon-bg:radial-gradient(circle at 30% 20%,#ff6b6b,#ef4444);
      --icon-border:rgba(220,38,38,0.85);
      --icon-shadow:0 8px 18px rgba(220,38,38,0.24),0 0 0 6px rgba(248,113,113,0.1);
      --icon-color:#ffffff;
      background:var(--icon-bg);
      border:1px solid var(--icon-border);
      display:flex;align-items:center;justify-content:center;margin:2px auto 10px;
      box-shadow:var(--icon-shadow);
      color:var(--icon-color)
    }
    .confirm-icon span{
      font-size:28px;font-weight:900;color:currentColor;line-height:1;
      text-shadow:0 1px 2px rgba(15,23,42,0.35)
    }
    .confirm-icon img{
      width:24px;height:24px;display:block;
      filter:brightness(0) invert(1) drop-shadow(0 2px 6px rgba(15,23,42,0.35))
    }
    .confirm-icon svg{
      width:26px;height:26px;display:block;
      stroke:currentColor;fill:none;stroke-width:2;
      stroke-linecap:round;stroke-linejoin:round;
    }
    .confirm-icon.is-launcher{
      --icon-bg:radial-gradient(circle at 30% 20%,#ffd7aa,#f97316);
      --icon-border:rgba(249,115,22,0.9);
      --icon-shadow:0 8px 18px rgba(249,115,22,0.25),0 0 0 6px rgba(251,146,60,0.14);
      --icon-color:#ffffff;
    }
    .confirm-icon.is-ws{
      --icon-bg:radial-gradient(circle at 30% 20%,#dbeafe,#3b82f6);
      --icon-border:rgba(59,130,246,0.9);
      --icon-shadow:0 8px 18px rgba(59,130,246,0.25),0 0 0 6px rgba(96,165,250,0.16);
      --icon-color:#ffffff;
    }
    .confirm-icon.is-disconnect{
      --icon-bg:radial-gradient(circle at 30% 20%,#e2e8f0,#64748b);
      --icon-border:rgba(100,116,139,0.9);
      --icon-shadow:0 8px 18px rgba(15,23,42,0.22),0 0 0 6px rgba(148,163,184,0.2);
      --icon-color:#ffffff;
    }
    .confirm-icon.is-lockout{
      --icon-bg:radial-gradient(circle at 30% 20%,#ff8b8b,#ef4444);
      --icon-border:rgba(239,68,68,0.95);
      --icon-shadow:0 8px 18px rgba(239,68,68,0.3),0 0 0 6px rgba(248,113,113,0.18);
      --icon-color:#ffffff;
    }
    .confirm-title{font-size:16px;font-weight:700;color:#0f172a;text-align:center;margin-bottom:6px}
    .confirm-text{font-size:12px;color:#64748b;margin-bottom:10px;line-height:1.5;text-align:center}
    .confirm-note{font-size:11px;color:#94a3b8;text-align:center;margin-bottom:10px}
    .tetris-win-icon{
      width:56px;height:56px;border-radius:18px;
      background:radial-gradient(circle at 30% 20%,#6ee7b7,#22c55e);
      border:1px solid rgba(16,185,129,0.85);
      display:flex;align-items:center;justify-content:center;margin:2px auto 10px;
      box-shadow:0 8px 18px rgba(16,185,129,0.24),0 0 0 6px rgba(110,231,183,0.12)
    }
    .tetris-win-icon svg{width:26px;height:26px;display:block}
    .tetris-win-icon svg *{stroke:#ffffff;stroke-width:2;stroke-linecap:round;stroke-linejoin:round;fill:none;opacity:.95}
    .prize-card{
      width:100%;border-radius:16px;padding:12px 14px;margin:6px 0 4px;
      background:rgba(16,185,129,0.08);border:1px solid rgba(16,185,129,0.3);
      text-align:center
    }
    .prize-code{
      font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Courier New",monospace;
      font-size:16px;letter-spacing:.12em;font-weight:700;color:#0f172a
    }
    .prize-actions{display:flex;flex-direction:row;align-items:center;justify-content:center;gap:8px;margin-top:8px}
    .confirm-actions{display:flex;flex-direction:column;align-items:center;gap:8px;margin-top:4px}
    .confirm-cancel{border:none;background:none;color:#9ca3af;font-size:11px;text-decoration:underline;cursor:pointer;margin-top:2px;box-shadow:none}
    .confirm-cancel:hover{color:#e5e7eb}
    .ws-alert-dialog{
      position:relative;
      background:linear-gradient(180deg,rgba(255,255,255,0.97),rgba(244,247,252,0.95));
      border-radius:22px;padding:18px 18px 16px;width:100%;max-width:420px;
      box-shadow:0 14px 34px rgba(15,23,42,0.14),0 2px 0 rgba(255,255,255,0.9) inset;
      border:1px solid rgba(255,255,255,0.7);
      color:#0f172a;
      backdrop-filter:blur(24px) saturate(1.15);-webkit-backdrop-filter:blur(24px) saturate(1.15);
      overflow:hidden
    }
    .ws-alert-dialog::before{
      content:"";position:absolute;inset:0;border-radius:inherit;padding:1px;
      background:linear-gradient(135deg,rgba(255,255,255,0.95),rgba(148,163,184,0.4));
      -webkit-mask:linear-gradient(#000 0 0) content-box,linear-gradient(#000 0 0);
      -webkit-mask-composite:xor;mask-composite:exclude;opacity:0.9;pointer-events:none
    }
    .ws-alert-dialog::after{
      content:"";position:absolute;inset:0;border-radius:inherit;
      background:radial-gradient(circle at 20% 0,rgba(254,202,202,0.35),transparent 60%);
      opacity:0.6;pointer-events:none
    }
    .ws-alert-dialog > *{position:relative;z-index:1}
    .ws-alert-title{font-size:16px;font-weight:700;text-align:center;margin-bottom:6px}
    .ws-alert-text{font-size:12px;color:#64748b;line-height:1.5;text-align:center;margin-bottom:12px;word-break:keep-all}
    .ws-alert-close-btn{
      width:100%;border:none;border-radius:12px;padding:10px 12px;
      background:linear-gradient(135deg,#0f172a,#1e293b);
      color:#f8fafc;font-size:12px;font-weight:700;letter-spacing:.04em;cursor:pointer;
      box-shadow:0 6px 14px rgba(15,23,42,0.2);
    }
    .ws-alert-close-btn:hover{filter:brightness(1.05)}

    /* ✅ 경고 모달 전체화면 */
    .warning-fullscreen{
      padding:0;
      align-items:stretch;
      justify-content:stretch;
      background:
        radial-gradient(560px 380px at 50% 14%, rgba(239,68,68,0.14), transparent 70%),
        radial-gradient(420px 220px at 12% 88%, rgba(59,130,246,0.12), transparent 70%),
        linear-gradient(180deg, rgba(2,6,23,0.6), rgba(2,6,23,0.72));
      backdrop-filter:blur(6px) saturate(1.05);
    }
    .warning-fullscreen::before{
      content:"";
      position:absolute;
      inset:0;
      background:
        linear-gradient(90deg, rgba(255,255,255,0.04) 1px, transparent 1px),
        linear-gradient(rgba(255,255,255,0.04) 1px, transparent 1px);
      background-size:140px 140px;
      opacity:0.12;
      pointer-events:none;
    }
    .warning-fullscreen .confirm-dialog,
    .warning-fullscreen .ws-alert-dialog{
      width:100%;
      height:100%;
      max-width:none;
      border-radius:0;
      border:none;
      background:transparent;
      box-shadow:none;
      display:flex;
      flex-direction:column;
      align-items:center;
      justify-content:center;
      gap:10px;
      padding:clamp(24px,6vw,64px);
      text-align:center;
      color:#e2e8f0;
      backdrop-filter:none;
    }
    .warning-fullscreen .confirm-dialog::before,
    .warning-fullscreen .confirm-dialog::after,
    .warning-fullscreen .ws-alert-dialog::before,
    .warning-fullscreen .ws-alert-dialog::after{
      display:none;
    }
    .warning-fullscreen .confirm-icon{
      width:72px;height:72px;border-radius:22px;
    }
    .warning-fullscreen .confirm-icon svg{
      width:28px;height:28px;stroke-width:1.8;
    }
    .warning-fullscreen .confirm-title,
    .warning-fullscreen .ws-alert-title{
      font-size:clamp(20px,4vw,30px);
      color:#f1f5f9;
      letter-spacing:.04em;
      text-transform:none;
      font-weight:700;
      text-shadow:0 8px 24px rgba(2,6,23,0.35);
    }
    .warning-fullscreen .confirm-text,
    .warning-fullscreen .ws-alert-text,
    .warning-fullscreen .confirm-note{
      font-size:clamp(12px,2vw,14px);
      color:#cbd5f5;
      max-width:64ch;
    }
    .warning-fullscreen .confirm-text{
      line-height:1.6;
    }
    .warning-fullscreen .confirm-note{
      border-top:1px solid rgba(148,163,184,0.2);
      padding-top:8px;
      letter-spacing:.02em;
    }
    .warning-fullscreen .ws-alert-close-btn{
      width:auto;
      border-radius:0;
      margin-top:6px;
      background:none;
      box-shadow:none;
      border:none;
      color:#cbd5f5;
      text-decoration:underline;
      text-underline-offset:4px;
      letter-spacing:.03em;
    }
    .warning-fullscreen .confirm-cancel{
      color:#94a3b8;
    }
    .warning-fullscreen .confirm-actions{
      gap:12px;
      margin-top:8px;
      width:min(360px,86vw);
    }
    .warning-fullscreen .loadcell-primary{
      padding:10px 20px;
      border-radius:999px;
      font-weight:700;
      letter-spacing:.04em;
      background:linear-gradient(135deg,#f25b56,#e24a46);
      color:#fff;
      box-shadow:0 10px 20px rgba(239,68,68,0.28);
    }
    .warning-fullscreen .loadcell-primary:hover{filter:brightness(1.05)}
    .warning-fullscreen .confirm-cancel{
      text-decoration:none;
      padding:8px 16px;
      border-radius:999px;
      border:1px solid rgba(148,163,184,0.35);
      background:rgba(15,23,42,0.35);
      color:#e2e8f0;
    }
    .warning-fullscreen .force-danger-small{
      height:46px;
      font-size:14px;
    }
    .warning-fullscreen .lockout-dialog .confirm-text,
    .warning-fullscreen .lockout-dialog .confirm-note{
      color:#cbd5f5;
    }
    .warning-fullscreen .lockout-close{
      color:#e2e8f0;
    }
    .longpress-wrap{display:flex;justify-content:center;width:100%;margin-bottom:2px}
    .longpress-btn{
      position:relative;width:86px;height:86px;border-radius:999px;border:none;
      background:radial-gradient(circle at 30% 20%,#ffffff,#e5e7eb);
      color:#0f172a;font-size:11px;display:flex;align-items:center;justify-content:center;
      box-shadow:0 0 0 1px rgba(148,163,184,0.55),0 4px 10px rgba(15,23,42,0.1);overflow:hidden;
      -webkit-user-select:none;user-select:none;-webkit-touch-callout:none
    }
    .longpress-btn::before{content:'';position:absolute;inset:16px;border-radius:999px;background:radial-gradient(circle at 30% 20%,#f8fafc,#e2e8f0);opacity:.95}
    .longpress-btn span{position:relative;text-align:center;line-height:1.2;pointer-events:none;z-index:1;font-weight:500;letter-spacing:.06em}
    .longpress-ring{position:absolute;inset:5px;border-radius:999px;overflow:hidden;pointer-events:none}
    .longpress-spinner{
      position:absolute;inset:0;border-radius:999px;
      background:conic-gradient(#38bdf8 var(--lp-angle,0deg),rgba(15,23,42,0.18) var(--lp-angle,0deg) 360deg);
      -webkit-mask:radial-gradient(farthest-side,transparent calc(100% - 4px),#000 100%);
      mask:radial-gradient(farthest-side,transparent calc(100% - 4px),#000 100%);
      box-shadow:0 0 16px rgba(56,189,248,0.6)
    }
    .force-actions{width:100%;display:flex;flex-direction:column;gap:10px;margin-top:8px}
    .force-slide{
      position:relative;width:100%;max-width:300px;height:46px;border-radius:999px;
      border:1px solid #0f172a;background:#0b0f16;
      box-shadow:inset 0 0 0 1px rgba(148,163,184,0.25),0 6px 14px rgba(2,6,23,0.6);
      display:flex;align-items:center;justify-content:center;overflow:hidden;
      -webkit-user-select:none;user-select:none;touch-action:none;
      margin:8px auto 0;
    }
    .force-slide::before{
      content:"";position:absolute;inset:0;
      background:linear-gradient(90deg,rgba(239,68,68,0.28) var(--slide-pct,0%),transparent 0);
      opacity:.9;pointer-events:none
    }
    .force-slide-arrows{
      position:absolute;right:16px;top:0;bottom:0;
      display:flex;align-items:center;
      font-size:18px;letter-spacing:2px;line-height:1;color:#94a3b8;opacity:.75;pointer-events:none;
      z-index:1;
    }
    .force-slide-thumb{
      position:absolute;left:3px;top:50%;height:40px;border-radius:999px;
      border:1px solid rgba(226,232,240,0.9);background:#f8fafc;color:#0f172a;
      display:flex;align-items:center;justify-content:center;
      padding:0 20px;font-size:12px;font-weight:700;line-height:1;
      box-shadow:0 6px 14px rgba(2,6,23,0.35);
      transform:translate(var(--slide-x,0px), -50%);transition:transform .18s ease;
      z-index:2;
    }
    .force-slide-label{
      pointer-events:none;white-space:nowrap
    }
    .force-slide.dragging .force-slide-thumb{transition:none}
    .force-cancel-link{
      border:none;background:none;color:#94a3b8;
      font-size:11px;letter-spacing:.02em;text-decoration:underline;
      cursor:pointer;padding:2px 4px;align-self:center;margin-top:12px;
    }
    .force-cancel-big{
      width:100%;height:40px;border-radius:var(--radius-pill);
      border:1px solid rgba(148,163,184,0.75);
      background:linear-gradient(135deg,#f9fafb,#e5e7eb);
      color:#111827;font-size:14px;font-weight:800;
      box-shadow:0 4px 10px rgba(15,23,42,0.18);
    }
    .force-danger-small{
      width:100%;height:40px;border-radius:var(--radius-pill);
      border:1px solid rgba(239,68,68,0.9);
      background:linear-gradient(135deg,#ef4444,#f97316);
      color:#fff7ed;font-size:12px;font-weight:800;letter-spacing:.04em;
      box-shadow:0 4px 10px rgba(239,68,68,0.28);
    }

    .launcher-dialog{
      position:relative;background:linear-gradient(180deg,#f8fafc,#eef2f7);border-radius:20px;padding:16px 18px 14px;width:100%;max-width:340px;
      box-shadow:0 12px 30px rgba(15,23,42,0.18),0 2px 0 rgba(255,255,255,0.7) inset;border:1px solid rgba(148,163,184,0.55);color:#0f172a;
      backdrop-filter:blur(20px) saturate(1.1);-webkit-backdrop-filter:blur(20px) saturate(1.1);
      overflow:hidden
    }
    .launcher-dialog::before{
      content:"";position:absolute;inset:0;border-radius:inherit;padding:1px;
      background:linear-gradient(135deg,rgba(255,255,255,0.95),rgba(148,163,184,0.4));
      -webkit-mask:linear-gradient(#000 0 0) content-box,linear-gradient(#000 0 0);
      -webkit-mask-composite:xor;mask-composite:exclude;opacity:0.85;pointer-events:none
    }
    .launcher-dialog::after{content:"";position:absolute;inset:0;border-radius:inherit;background:radial-gradient(circle at 15% 0,rgba(255,255,255,0.45),transparent 60%);opacity:0.9;pointer-events:none}
    .launcher-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:6px}
    .launcher-title{font-size:13px;font-weight:700;letter-spacing:.10em;text-transform:uppercase;color:#0f172a}
    .launcher-close-btn{border:none;background:transparent;font-size:18px;line-height:1;padding:2px 4px;border-radius:999px;box-shadow:none;color:#94a3b8}
    .launcher-close-btn:hover{background:rgba(148,163,184,0.25);color:#0f172a}
    .launcher-note{font-size:11px;color:#64748b;margin-bottom:10px}
    .launcher-divider{height:1px;background:rgba(148,163,184,0.35);margin:6px 0 4px}
    .launcher-controls{margin-top:4px;display:flex;flex-direction:column;gap:10px}
    .launcher-arrow-row{display:flex;flex-direction:column;gap:10px;align-items:center;justify-content:center;padding:10px 0}
    .launcher-angle{
      display:none;
      flex-direction:column;
      align-items:center;
      justify-content:center;
      gap:2px;
      padding:6px 0 2px;
    }
    #launcherOverlay.auto-active .launcher-angle{display:flex}
    .launcher-angle-value{
      font-size:22px;
      font-weight:800;
      color:#0f172a;
      letter-spacing:.02em;
    }
    .launcher-angle-label{
      font-size:9px;
      letter-spacing:.18em;
      text-transform:uppercase;
      color:#94a3b8;
      font-weight:600;
    }
    .launcher-auto-row{display:flex;align-items:center;justify-content:center}
    .launcher-auto-btn{display:none;width:100%;justify-content:center}
    .mode-daq .launcher-auto-btn{display:inline-flex}
    .launcher-auto-desc{
      display:none;
      font-size:11px;
      color:#94a3b8;
      text-align:center;
      line-height:1.35;
    }
    .mode-daq .launcher-auto-desc{display:block}
    .launcher-auto-divider{margin-top:4px;margin-bottom:2px}
    .launcher-text-btn{
      background:transparent;
      border:none;
      color:#64748b;
      font-weight:600;
      letter-spacing:.08em;
      text-transform:uppercase;
      box-shadow:none;
      padding:4px 0;
      text-decoration:underline;
      text-underline-offset:4px;
    }
    .launcher-text-btn:hover{color:#0f172a}
    .launcher-manual-row{display:flex;align-items:center;justify-content:center}
    .launcher-manual-btn{
      width:100%;
      justify-content:center;
    }
    .launcher-arrow-row.is-hidden{display:none}
    .launcher-arrow-btn{
      width:92px;height:46px;border-radius:999px;border:none;
      background:linear-gradient(135deg,#f1f5f9,#d7dee7);
      border:1px solid rgba(148,163,184,0.6);
      color:#111827;font-size:18px;font-weight:800;
      box-shadow:0 4px 10px rgba(15,23,42,0.12);
      user-select:none;touch-action:none
    }
    .launcher-arrow-btn.pressed{background:#111827;color:#f9fafb}
    .launcher-hint{font-size:10px;color:#6b7280;text-align:center;margin-top:2px}
    .controls-hint{font-size:11px;color:#6b7280;margin-top:2px}
    .control-tile.disabled{opacity:.55;pointer-events:none;filter:grayscale(0.1)}

    .inspection-dialog{
      position:relative;width:560px;max-width:92vw;height:420px;max-height:90vh;
      background:linear-gradient(180deg,rgba(255,255,255,0.98),rgba(243,246,251,0.96));
      border-radius:18px;
      box-shadow:0 16px 38px rgba(15,23,42,0.14),0 2px 0 rgba(255,255,255,0.9) inset;
      border:1px solid rgba(255,255,255,0.7);
      padding:20px 20px 16px;
      color:#0f172a;
      backdrop-filter:blur(24px) saturate(1.12);-webkit-backdrop-filter:blur(24px) saturate(1.12);
      display:flex;flex-direction:column;overflow:hidden;
    }
    .inspection-dialog::before{
      content:"";position:absolute;inset:0;border-radius:inherit;padding:1px;
      background:linear-gradient(135deg,rgba(255,255,255,0.95),rgba(148,163,184,0.4));
      -webkit-mask:linear-gradient(#000 0 0) content-box,linear-gradient(#000 0 0);
      -webkit-mask-composite:xor;mask-composite:exclude;
      opacity:.9;pointer-events:none
    }
    .inspection-dialog::after{
      content:"";position:absolute;inset:0;
      background:radial-gradient(circle at 18% 0,rgba(255,255,255,0.75),transparent 55%);
      opacity:.6;pointer-events:none
    }
    .inspection-dialog .settings-title{
      font-size:15px;font-weight:700;letter-spacing:.02em;color:#0f172a
    }
    .inspection-dialog .settings-close-btn{
      font-size:20px;color:#94a3b8;border-radius:999px;padding:4px 8px
    }
    .inspection-dialog .settings-close-btn:hover{background:rgba(148,163,184,0.18);color:#0f172a}
    .inspection-sub{font-size:12px;color:#6b7280;margin-top:2px}
    .inspection-body{
      display:flex;flex-direction:column;gap:10px;flex:1;
      justify-content:center;align-items:center;text-align:center;
      padding:6px 0 8px
    }
    .inspection-kicker{
      font-size:10px;font-weight:700;letter-spacing:.22em;text-transform:uppercase;
      color:#64748b;background:rgba(15,23,42,0.06);padding:4px 10px;border-radius:999px
    }
    .inspection-step-title{font-size:18px;font-weight:700;color:#0f172a}
    .inspection-step-desc{font-size:12px;color:#6b7280;line-height:1.6;max-width:420px}
    .inspection-status-card{
      width:100%;max-width:240px;
      padding:0;border-radius:16px;
      background:transparent;
      border:none;
      box-shadow:none;
      display:flex;justify-content:center;align-items:center
    }
    .inspection-status-pill{
      min-width:100px;padding:8px 14px;border-radius:20px;
      font-size:11px;font-weight:700;letter-spacing:.06em;text-transform:uppercase;
      border:1px solid rgba(148,163,184,0.35);background:rgba(148,163,184,0.12);
      color:#64748b;transition:transform .12s ease,box-shadow .12s ease,background .12s ease,color .12s ease;
      text-align:center;
    }
    .inspection-status-pill.is-active{
      transform:translateY(-1px);
      box-shadow:0 6px 12px rgba(15,23,42,0.12);
    }
    .inspection-status-pill.is-running{
      color:#b45309;border-color:rgba(245,158,11,0.5);background:rgba(245,158,11,0.16)
    }
    .inspection-status-pill.is-ok{
      color:#166534;border-color:rgba(22,163,74,0.45);background:rgba(22,163,74,0.14)
    }
    .inspection-status-pill.is-bad{
      color:#b91c1c;border-color:rgba(239,68,68,0.45);background:rgba(239,68,68,0.14)
    }
    .inspection-footer{
      margin-top:12px;display:flex;justify-content:space-between;align-items:center;gap:10px;
      padding-top:10px;border-top:1px solid rgba(148,163,184,0.2)
    }
    .inspection-result{font-size:12px;font-weight:600;color:#475569}
    .inspection-result.ok{color:#166534}
    .inspection-result.error{color:#b91c1c}
    .inspection-result.running{color:#f59e0b}
    .inspection-actions{display:flex;gap:8px}

    .settings-dialog{
      position:relative;width:640px;max-width:95vw;height:460px;max-height:90vh;
      background:rgba(255,255,255,0.97);border-radius:14px;box-shadow:0 12px 30px rgba(15,23,42,0.14);
      padding:14px 18px 12px;color:var(--text-main);
      border:1px solid rgba(148,163,184,0.7);
      display:flex;flex-direction:column;
      backdrop-filter:blur(22px) saturate(1.2);-webkit-backdrop-filter:blur(22px) saturate(1.2);
      overflow:hidden
    }
    .settings-dialog::before{
      content:"";position:absolute;inset:0;border-radius:inherit;padding:1px;
      background:linear-gradient(145deg,rgba(255,255,255,0.98),rgba(148,163,184,0.8));
      -webkit-mask:linear-gradient(#000 0 0) content-box,linear-gradient(#000 0 0);
      -webkit-mask-composite:xor;mask-composite:exclude;opacity:0.85;pointer-events:none
    }
    .settings-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px;flex-shrink:0}
    .settings-title{font-size:13px;font-weight:600;letter-spacing:.12em;text-transform:uppercase;color:var(--text-soft)}
    .settings-close-btn{border:none;background:transparent;font-size:18px;line-height:1;padding:2px 4px;border-radius:999px;box-shadow:none;color:#9ca3af}
    .settings-close-btn:hover{background:rgba(229,231,235,0.7);color:#111827}
    .settings-body{margin-top:4px;display:flex;gap:12px;flex:1;overflow:hidden;min-height:0}
    .settings-nav{width:160px;border-right:1px solid rgba(209,213,219,0.9);padding-right:8px;display:flex;flex-direction:column;gap:4px;flex-shrink:0}
    .settings-nav-title{font-size:11px;font-weight:600;text-transform:uppercase;letter-spacing:.10em;color:#9ca3af;margin-bottom:4px}

    /* ✅ 설정 네비/버튼 살짝 업그레이드 */
    .settings-nav-btn{
      border:none;background:transparent;padding:6px 10px;border-radius:12px;font-size:12px;text-align:left;color:#6b7280;
      display:flex;justify-content:space-between;align-items:center;box-shadow:none;
      border:1px solid transparent;position:relative;
      transition:background .12s ease,border-color .12s ease,color .12s ease;
    }
    .settings-nav-btn span{font-weight:500}
    .settings-nav-badge{font-size:10px;color:#9ca3af}
    .settings-nav-btn:hover{background:#f3f4f6}
    .settings-nav-btn.active{
      background:linear-gradient(135deg,#0f172a,#111827);
      border-color:rgba(148,163,184,0.28);
      color:#e5e7eb;
    }
    .settings-nav-btn.active .settings-nav-badge{color:#e5e7eb;opacity:.7}

    .settings-panels{flex:1;padding-left:4px;padding-right:12px;min-width:0;overflow-y:auto}
    .settings-panel{display:none;animation:fadeInSettings .15s ease-out}
    .settings-panel.active{display:block}
    .settings-group{padding:6px 0 10px;border-top:1px solid rgba(229,231,235,0.9)}
    .settings-group:first-of-type{border-top:none}
    .settings-group-title{font-size:12px;font-weight:600;letter-spacing:.10em;text-transform:uppercase;color:#9ca3af;margin-bottom:6px}
    .settings-row{display:flex;align-items:flex-start;justify-content:space-between;gap:10px;padding:6px 0}
    .settings-row > div{flex:1;min-width:0}
    .settings-row .switch{flex:0 0 auto;align-self:flex-start}
    .settings-label{font-size:13px;color:#111827;font-weight:600}
    .settings-desc{font-size:11px;color:#6b7280;text-align:right;line-height:1.35}
    .settings-select{min-width:110px;padding:4px 8px;font-size:12px;border-radius:999px;border:1px solid rgba(148,163,184,0.9);background:#f9fafb}
    .settings-number-wrap{display:flex;flex-direction:column;align-items:flex-end;gap:2px}
    .settings-number-row{display:flex;align-items:center;gap:8px}
    .settings-inline-btn{
      padding:6px 10px;
      font-size:11px;
      border-radius:10px;
      border:1px solid rgba(148,163,184,0.7);
      background:#f8fafc;
      color:#1f2937;
      font-weight:700;
      letter-spacing:.04em;
      cursor:pointer;
    }
    .settings-inline-btn:hover{filter:brightness(0.98)}
    .settings-number{width:90px;padding:6px 8px;font-size:13px;border-radius:999px;border:1px solid rgba(148,163,184,0.9);background:#f9fafb;text-align:center;outline:none}
    .settings-number:focus{box-shadow:0 0 0 2px rgba(59,130,246,0.35);border-color:rgba(59,130,246,0.9)}
    .settings-footer{margin-top:8px;display:flex;justify-content:flex-end;flex-shrink:0}
    .settings-save-btn{padding:8px 16px;font-size:13px;border-radius:999px;border:none;background:#0f172a;color:#e5e7eb;box-shadow:0 5px 12px rgba(15,23,42,0.3)}
    .settings-btn{
      padding:7px 14px;font-size:12px;border-radius:999px;border:1px solid rgba(148,163,184,0.7);
      background:#ffffff;color:#0f172a;font-weight:700;
      box-shadow:0 5px 12px rgba(15,23,42,0.08);
    }
    .settings-btn:hover{filter:brightness(0.98)}

    .mission-dialog{
      position:relative;width:600px;max-width:94vw;
      background:#ffffff;
      border-radius:24px;padding:18px 20px 16px;color:#0f172a;
      min-height:480px;
      box-shadow:0 20px 44px rgba(15,23,42,0.18),0 2px 0 rgba(255,255,255,0.7) inset;
      border:1px solid rgba(255,255,255,0.8);
      backdrop-filter:blur(26px) saturate(1.2);-webkit-backdrop-filter:blur(26px) saturate(1.2);
      overflow:hidden;display:flex;flex-direction:column
    }
    .mission-dialog::before{
      content:"";position:absolute;inset:0;border-radius:inherit;padding:1px;
      background:rgba(148,163,184,0.45);
      -webkit-mask:linear-gradient(#000 0 0) content-box,linear-gradient(#000 0 0);
      -webkit-mask-composite:xor;mask-composite:exclude;opacity:0.9;pointer-events:none;
      z-index:0
    }
    .mission-dialog > *{position:relative;z-index:1}
    .mission-header{
      display:flex;justify-content:space-between;align-items:flex-start;gap:8px;
      padding-bottom:10px;margin-bottom:12px;
      border-bottom:1px solid rgba(148,163,184,0.3)
    }
    .mission-title{font-size:14px;font-weight:800;letter-spacing:.16em;text-transform:uppercase;color:#0f172a}
    .mission-sub{font-size:11px;color:#6b7280;margin-top:6px;max-width:320px}
    .mission-kicker{
      display:inline-flex;align-items:center;gap:6px;
      padding:4px 10px;border-radius:999px;
      background:rgba(15,23,42,0.06);color:#334155;
      font-size:10px;font-weight:800;letter-spacing:.18em;text-transform:uppercase
    }
    .mission-close-btn{
      border:none;background:rgba(255,255,255,0.7);font-size:18px;line-height:1;
      padding:4px 6px;border-radius:999px;box-shadow:0 4px 10px rgba(15,23,42,0.12);color:#64748b
    }
    .mission-close-btn:hover{background:#ffffff;color:#111827}
    .mission-grid{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:14px}
    .mission-field{display:flex;flex-direction:column;gap:4px}
    .mission-label{font-size:11px;font-weight:700;letter-spacing:.08em;text-transform:uppercase;color:#94a3b8}
    .mission-input{
      padding:9px 10px;border-radius:12px;border:1px solid rgba(148,163,184,0.65);
      background:#f8fafc;
      font-size:13px;color:#0f172a;outline:none;
      box-shadow:0 1px 0 rgba(255,255,255,0.8) inset;
      transition:border-color .2s ease, box-shadow .2s ease, transform .2s ease
    }
    .mission-input:focus{
      box-shadow:0 0 0 3px rgba(59,130,246,0.25),0 1px 0 rgba(255,255,255,0.8) inset;
      border-color:rgba(59,130,246,0.9);transform:translateY(-1px)
    }
    .mission-row{display:flex;align-items:center;gap:8px}
    .mission-unit{
      padding:6px 10px;border-radius:999px;
      background:rgba(15,23,42,0.04);border:1px solid rgba(148,163,184,0.35);
      font-size:11px;font-weight:700;color:#475569;white-space:nowrap
    }
    .mission-divider{height:1px;background:rgba(148,163,184,0.28);margin:8px 0 10px}
    .mission-fields .mission-divider{display:none}
    .mission-dialog.custom-mode .mission-header,
    .mission-dialog.ask-test .mission-header,
    .mission-dialog.review-mode .mission-header{
      border-bottom:none;margin-bottom:8px;padding-bottom:0
    }
    #missionPresetDivider{display:none}
    .mission-preset-block{
      flex:1;display:flex;flex-direction:column;justify-content:center;gap:12px;
      padding-top:2px;padding-bottom:16px
    }
    .mission-preset-title{
      font-size:16px;font-weight:700;letter-spacing:.1em;text-transform:uppercase;
      color:#475569;text-align:center
    }
    .mission-preset-row{transform:translateY(6px)}
    .mission-footer{
      display:flex;justify-content:center;gap:8px;margin-top:auto;padding-top:12px;
      border-top:1px solid rgba(148,163,184,0.25)
    }
    .mission-confirm-btn{
      border-radius:999px;border:1px solid rgba(34,197,94,0.6);
      background:#22c55e;
      color:#f0fdf4;font-weight:800;font-size:12px;padding:9px 16px;
      box-shadow:0 10px 18px rgba(34,197,94,0.25);
      transition:transform .18s ease, box-shadow .18s ease, filter .18s ease
    }
    .mission-confirm-btn:hover{transform:translateY(-1px);box-shadow:0 14px 22px rgba(34,197,94,0.3)}
    .mission-preset-row{display:flex;align-items:center;justify-content:center;gap:8px}
    .mission-preset-row.hidden{display:none}
    .mission-scroll-btn{
      width:40px;height:40px;border-radius:999px;border:none;
      background:transparent;
      color:#6b7280;font-weight:700;font-size:0;
      display:inline-flex;align-items:center;justify-content:center;
      box-shadow:none;text-shadow:none;
      transition:transform .18s ease, opacity .18s ease
    }
    .mission-scroll-btn:hover{transform:translateY(-2px);opacity:.7}
    .mission-scroll-btn:active{transform:translateY(0)}
    .mission-scroll-btn::before{
      content:"";width:14px;height:14px;border-right:2px solid #334155;border-bottom:2px solid #334155;
      transform:rotate(135deg);
    }
    .mission-scroll-btn.right::before{transform:rotate(-45deg)}
    .mission-preset-viewport{
      position:relative;overflow:hidden;
      flex:0 0 calc(var(--preset-card) * 3 + var(--preset-gap) * 2);
      max-width:calc(var(--preset-card) * 3 + var(--preset-gap) * 2);
      padding:40px 0 18px;
      border-radius:20px;
      background:#ffffff;
    }
    .mission-preset-viewport::before,
    .mission-preset-viewport::after{content:none}
    .mission-preset-grid{
      --preset-card:160px;--preset-gap:10px;
      display:flex;gap:var(--preset-gap);overflow:hidden;scroll-behavior:smooth;
      width:100%;
      box-sizing:content-box;
      scroll-snap-type:x mandatory;
    }
    .mission-preset-btn{scroll-snap-align:center}
    .mission-preset-spacer{
      flex:0 0 calc(50% - (var(--preset-card) / 2));
    }
    .mission-preset-grid.hidden{display:none}
    .mission-preset-btn{
      border-radius:16px;border:1px solid rgba(148,163,184,0.3);
      background:linear-gradient(180deg,#ffffff,#f6f8fc);
      padding:6px;display:flex;flex-direction:column;align-items:center;gap:6px;
      min-width:var(--preset-card);flex:0 0 var(--preset-card);
      min-height:165px;
      box-shadow:0 6px 16px rgba(15,23,42,0.08);
      transform:scale(0.94);
      transition:transform .18s ease, box-shadow .18s ease, border-color .18s ease;
      position:relative;overflow:hidden
    }
    .mission-preset-btn:hover,
    .mission-preset-btn:active{transform:scale(0.94);box-shadow:0 10px 20px rgba(15,23,42,0.14)}
    .mission-preset-btn.is-center{
      transform:scale(1);
      box-shadow:0 12px 24px rgba(15,23,42,0.16);
      border-color:rgba(59,130,246,0.55)
    }
    .mission-preset-photo{
      width:100%;aspect-ratio:4/3;border-radius:12px;overflow:hidden;
      min-height:140px;
      background:linear-gradient(180deg,#f8fafc,#eef2f7);
      border:1px solid rgba(148,163,184,0.25);
      box-shadow:0 1px 0 rgba(255,255,255,0.8) inset;
      display:flex;align-items:center;justify-content:center;color:#64748b;font-size:10px;font-weight:800;
      letter-spacing:.08em;text-transform:uppercase
    }
    .mission-preset-btn.has-spec{min-height:150px}
    .mission-preset-btn.has-spec .mission-preset-photo{min-height:150px}
    .mission-preset-btn.no-spec{min-height:0;padding-bottom:0}
    .mission-preset-btn.no-spec .mission-preset-photo{min-height:150px;margin-bottom:0}
    .mission-preset-photo img{
      width:100%;height:100%;object-fit:cover
    }
    .mission-preset-name{font-size:11px;font-weight:700;text-align:center;color:#374151}
    .mission-preset-sub{
      font-size:9px;font-weight:600;color:#94a3b8;text-align:center;line-height:1.1;margin-bottom:-2px
    }
    .mission-preset-btn.has-info:hover .mission-preset-photo,
    .mission-preset-btn.has-info:hover .mission-preset-name,
    .mission-preset-btn.has-info:focus-visible .mission-preset-photo,
    .mission-preset-btn.has-info:focus-visible .mission-preset-name,
    .mission-preset-btn.has-info:active .mission-preset-photo,
    .mission-preset-btn.has-info:active .mission-preset-name{opacity:0}
    .mission-preset-info{
      position:absolute;inset:10px;border-radius:12px;
      background:rgba(248,250,252,0.94);
      border:1px solid rgba(148,163,184,0.4);
      box-shadow:0 10px 18px rgba(15,23,42,0.12);
      padding:8px 10px;display:flex;flex-direction:column;gap:4px;
      justify-content:center;
      opacity:0;transform:translateY(6px);pointer-events:none;
      max-height:100%;overflow:hidden;
      transition:opacity .18s ease, transform .18s ease
    }
    .mission-preset-btn.has-info:hover .mission-preset-info,
    .mission-preset-btn.has-info:focus-visible .mission-preset-info,
    .mission-preset-btn.has-info:active .mission-preset-info{opacity:1;transform:translateY(0)}
    .mission-info-line{
      display:flex;align-items:center;justify-content:space-between;gap:8px;
      padding:3px 0
    }
    .mission-info-line.is-divider{
      border-top:1px solid rgba(148,163,184,0.25);
      margin-top:2px;padding-top:6px
    }
    .mission-info-label{
      font-size:9px;font-weight:700;letter-spacing:.08em;text-transform:uppercase;color:#64748b;line-height:1.1
    }
    .mission-info-value{
      font-size:10px;font-weight:700;color:#0f172a;text-align:right;line-height:1.1
    }
    .mission-info-value.is-muted{
      color:#6b7280;font-weight:600
    }
    .mission-info-message{
      font-size:11px;font-weight:600;color:#0f172a;text-align:center;line-height:1.3
    }
    .mission-preset-vendor{
      font-size:8px;font-weight:500;letter-spacing:.08em;text-transform:uppercase;
      color:#94a3b8;text-align:center;margin-bottom:-2px;line-height:1
    }
    .mission-fields.hidden{display:none}
    .mission-dialog.custom-mode #missionPresetBlock{display:none}
    .mission-dialog.custom-mode #missionFields{display:block}
    .mission-test-inline{
      display:none;align-items:center;justify-content:center;gap:14px;
      padding:8px 0;margin-top:6px;
      border-top:1px solid rgba(148,163,184,0.35)
    }
    .mission-dialog.ask-test .mission-test-inline{display:flex}
    .mission-dialog.ask-test #missionPresetBlock{display:none}
    .mission-dialog.ask-test .mission-test-inline{
      flex:1;
      flex-direction:column;
      align-items:center;
      justify-content:center;
      text-align:center;
    }
    .mission-review{
      display:none;
      flex:1;
      margin-top:0;
      padding-top:10px;
      border-top:1px solid rgba(148,163,184,0.35);
      text-align:left;
      align-items:stretch;
      justify-content:flex-start
    }
    .mission-review-title{
      font-size:14px;font-weight:800;letter-spacing:.08em;text-transform:uppercase;
      color:#0f172a;text-align:left;margin:0 0 4px;
      align-self:flex-start
    }
    .mission-review-grid{
      display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:10px;
      width:100%;max-width:420px;
      margin:0 auto;
      margin-top:auto;
      margin-bottom:auto
    }
    .mission-review-item{
      display:flex;justify-content:space-between;align-items:flex-start;gap:8px;
      padding:4px 2px 8px;
      border-bottom:1px solid rgba(148,163,184,0.25)
    }
    .mission-review-label{
      font-size:11px;font-weight:700;letter-spacing:.04em;text-transform:uppercase;
      color:#94a3b8;white-space:nowrap
    }
    .mission-review-value{
      font-size:13px;font-weight:700;color:#0f172a;text-align:right
    }
    .mission-dialog.review-mode #missionPresetBlock,
    .mission-dialog.review-mode #missionFields,
    .mission-dialog.review-mode #missionTestInline{display:none}
    .mission-dialog.review-mode .mission-review{display:flex;flex-direction:column}
    .mission-test-title{font-size:15px;font-weight:800;letter-spacing:.08em;color:#0f172a}
    .mission-test-sub{font-size:12px;color:#6b7280;letter-spacing:.02em}
    .mission-test-input{
      width:100px;padding:7px 8px;border-radius:12px;
      border:1px solid rgba(148,163,184,0.7);background:#f8fafc;
      font-size:13px;text-align:center;box-shadow:0 1px 0 rgba(255,255,255,0.7) inset
    }
    .mission-test-actions{display:flex;align-items:center;gap:6px}
    .mission-test-cancel{border:none;background:transparent;color:#6b7280;font-size:12px}
    .mission-back-btn{
      border:none;background:transparent;color:#2563eb;font-size:12px;font-weight:700;
      padding:4px 0;cursor:pointer;letter-spacing:.02em;
      display:inline-flex;align-items:center;gap:6px
    }
    @media(max-width:700px){.mission-grid{grid-template-columns:1fr}}

    .loadcell-dialog{
      position:relative;width:620px;max-width:92vw;height:480px;
      background:linear-gradient(180deg,rgba(255,255,255,0.96),rgba(244,247,252,0.95));
      border-radius:24px;
      box-shadow:0 16px 38px rgba(15,23,42,0.14),0 2px 0 rgba(255,255,255,0.9) inset;
      border:1px solid rgba(255,255,255,0.7);
      padding:22px 22px 18px;color:#0f172a;
      backdrop-filter:blur(26px) saturate(1.15);-webkit-backdrop-filter:blur(26px) saturate(1.15);
      display:flex;flex-direction:column;overflow:hidden;
    }
    .loadcell-dialog::before{
      content:"";position:absolute;inset:0;border-radius:inherit;padding:1px;
      background:linear-gradient(135deg,rgba(255,255,255,0.95),rgba(148,163,184,0.4));
      -webkit-mask:linear-gradient(#000 0 0) content-box,linear-gradient(#000 0 0);
      -webkit-mask-composite:xor;mask-composite:exclude;
      opacity:.9;pointer-events:none
    }
    .loadcell-dialog::after{
      content:"";position:absolute;inset:0;
      background:radial-gradient(circle at 20% 0,rgba(255,255,255,0.75),transparent 55%);
      opacity:.6;pointer-events:none
    }
    .loadcell-dialog .settings-title{
      font-size:15px;font-weight:700;letter-spacing:.02em;color:#0f172a
    }
    .loadcell-dialog .settings-close-btn{
      font-size:20px;color:#94a3b8;border-radius:999px;padding:4px 8px
    }
    .loadcell-dialog .settings-close-btn:hover{background:rgba(148,163,184,0.18);color:#0f172a}
    .loadcell-body{
      display:flex;flex-direction:column;gap:16px;margin-top:2px;
      flex:1;justify-content:center;align-items:center;
      position:relative;padding-bottom:78px
    }
    .loadcell-main{
      display:flex;flex-direction:column;gap:16px;flex:1;justify-content:center;
      width:100%;max-width:420px;align-items:center;text-align:center
    }
    .loadcell-kicker{
      font-size:10px;font-weight:700;letter-spacing:.22em;text-transform:uppercase;
      color:#64748b;background:rgba(15,23,42,0.06);padding:4px 10px;border-radius:999px
    }
    .loadcell-steps{font-size:13px;color:#4b5563;line-height:1.55}
    .loadcell-card{
      display:block;text-align:center;
      padding:14px 16px;border-radius:16px;
      background:rgba(255,255,255,0.9);
      border:1px solid rgba(148,163,184,0.25);width:100%;
      box-shadow:0 6px 14px rgba(15,23,42,0.08)
    }
    .loadcell-card > div{
      width:100%;
      display:flex;flex-direction:column;align-items:center;gap:6px;
      text-align:center
    }
    .loadcell-value-wrap{display:flex;flex-direction:column;align-items:center;gap:2px;margin-top:6px;width:100%}
    .loadcell-value,.loadcell-unit{display:block;text-align:center}
    .loadcell-value{
      font-size:28px;font-weight:700;color:#0f172a;letter-spacing:.01em
    }
    .loadcell-unit{
      font-size:11px;letter-spacing:.12em;color:#94a3b8;font-weight:700;text-transform:uppercase
    }
    .loadcell-input-row{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:8px;width:100%}
    .loadcell-input{
      width:170px;padding:10px 12px;font-size:15px;border-radius:14px;border:1px solid rgba(148,163,184,0.35);
      background:rgba(255,255,255,0.95);text-align:center;outline:none;
      box-shadow:0 4px 10px rgba(15,23,42,0.08)
    }
    .loadcell-input:focus{box-shadow:0 0 0 4px rgba(10,132,255,0.2),0 8px 16px rgba(15,23,42,0.08);border-color:rgba(10,132,255,0.6)}
    .loadcell-note{font-size:11px;color:#6b7280}
    .loadcell-actions{
      display:flex;gap:8px;justify-content:center;width:100%;
      position:absolute;left:0;right:0;bottom:0;
      padding:14px 0;
      border-top:1px solid rgba(226,232,240,0.7)
    }
    .loadcell-primary{
      padding:9px 16px;font-size:12px;border-radius:12px;border:1px solid rgba(17,24,39,0.15);
      background:#111827;color:#f9fafb;font-weight:700;box-shadow:0 5px 12px rgba(17,24,39,0.18)
    }
    .loadcell-secondary{
      padding:9px 14px;font-size:12px;border-radius:12px;border:1px solid rgba(34,197,94,0.4);
      background:rgba(34,197,94,0.12);color:#166534;font-weight:700
    }
    .loadcell-cancel{
      padding:9px 14px;font-size:12px;border-radius:12px;border:1px solid rgba(148,163,184,0.7);
      background:#ffffff;color:#374151
    }
    .loadcell-warning{
      display:none;
      padding:0;border:none;
      background:transparent;
      box-shadow:none;
      text-align:center;
      align-items:center;
      justify-content:flex-start;
      flex-direction:column;
      gap:10px;
      width:100%;
      max-width:none;
      margin:0 auto;
      min-height:360px;
      position:relative;
      flex:1;
      align-self:stretch;
      height:100%;
      padding-bottom:78px
    }
    .loadcell-warning::before{
      content:"";position:absolute;left:-10px;right:-10px;top:-18px;height:220px;
      background:
        radial-gradient(circle at 50% 30%, rgba(254,202,202,0.6), transparent 60%),
        radial-gradient(circle at 50% 0, rgba(219,234,254,0.45), transparent 70%);
      pointer-events:none;filter:blur(4px);opacity:0.6;z-index:0
    }
    .loadcell-warning-content{
      display:flex;
      flex-direction:column;
      align-items:center;
      gap:8px;
      margin-top:auto;
      margin-bottom:auto;
      position:relative;z-index:1
    }
    .loadcell-warning-icon{
      width:56px;height:56px;border-radius:18px;margin:0 auto 10px;
      background:radial-gradient(circle at 30% 20%,#ff6b6b,#ef4444);
      border:1px solid rgba(220,38,38,0.85);
      display:flex;align-items:center;justify-content:center;
      box-shadow:0 14px 28px rgba(220,38,38,0.28),0 0 0 6px rgba(248,113,113,0.12)
    }
    .loadcell-warning-icon span{
      font-size:28px;font-weight:900;color:#ffffff;line-height:1;
      text-shadow:0 1px 2px rgba(15,23,42,0.35)
    }
    .loadcell-warning-kicker{
      font-size:10px;letter-spacing:.22em;text-transform:uppercase;
      color:#94a3b8;font-weight:700
    }
    .loadcell-warning-title{
      font-size:16px;font-weight:700;color:#0f172a;margin-bottom:6px;text-align:center
    }
    .loadcell-warning .confirm-text{
      color:#64748b;text-align:center;margin-bottom:12px
    }
    .loadcell-warning-sub{
      color:#94a3b8;font-size:11px;line-height:1.5;text-align:center
    }
    .loadcell-step-input{display:none;flex-direction:column;align-items:center;gap:8px;width:100%}
    .loadcell-dialog.step-input .loadcell-step-current{display:none}
    .loadcell-dialog.step-input .loadcell-step-input{display:flex}
    .loadcell-dialog.show-warning .loadcell-main{display:none}
    .loadcell-dialog.show-warning .loadcell-warning{
      display:flex;
      position:absolute;
      inset:0;
    }
    .footer-nav{margin-top:6px;display:flex;justify-content:center}
    .footer-meta{font-size:11px;color:#9ca3af}
    .hint-mini{margin-top:3px;font-size:11px;color:#64748b;line-height:1.35}
    .hint-mini strong{color:#0f172a}
    .mono{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Courier New",monospace}
    .serial-pill{display:inline-flex;align-items:center;gap:6px;padding:5px 10px;border-radius:999px;border:1px solid rgba(148,163,184,0.55);background:rgba(249,250,251,0.96);font-size:11px;color:#64748b}
    .serial-pill.ok{border-color:rgba(22,163,74,0.45);background:rgba(22,163,74,0.10);color:#166534}
    .serial-pill.bad{border-color:rgba(239,68,68,0.45);background:rgba(239,68,68,0.10);color:#991b1b}
    .serial-pill .dot{width:8px;height:8px;border-radius:999px;background:#94a3b8;box-shadow:0 0 0 4px rgba(148,163,184,0.18)}
    .serial-pill.ok .dot{background:var(--ok);box-shadow:0 0 0 4px var(--ok-soft)}
    .serial-pill.bad .dot{background:var(--danger);box-shadow:0 0 0 4px var(--danger-soft)}

    button:focus-visible,input:focus-visible,select:focus-visible{
      outline:none;
      box-shadow:0 0 0 3px rgba(59,130,246,0.35);
    }
    .side-nav-item:focus-visible,
    .side-nav-action:focus-visible,
    .side-nav-btn:focus-visible{
      box-shadow:none;
    }
    .side-nav-item:focus,
    .side-nav-action:focus,
    .side-nav-btn:focus,
    .side-nav-item:active,
    .side-nav-action:active,
    .side-nav-btn:active{
      outline:none;
      box-shadow:none;
    }

    @keyframes pulse-dot{
      0%{transform:scale(1);box-shadow:0 0 0 3px rgba(37,99,235,0.18)}
      50%{transform:scale(1.05);box-shadow:0 0 0 5px rgba(37,99,235,0.26)}
      100%{transform:scale(1);box-shadow:0 0 0 3px rgba(37,99,235,0.18)}
    }
    @keyframes fadeInSettings{from{opacity:0;transform:translateY(2px)}to{opacity:1;transform:translateY(0)}}
    #launcherOverlay{align-items:center;justify-content:center}
    #inspectionOverlay{align-items:center;justify-content:center}
    @media(max-width:600px){#launcherOverlay{align-items:center!important;justify-content:center!important;padding:16px!important}}
    @media(max-width:600px){#inspectionOverlay{align-items:center!important;justify-content:center!important;padding:0 12px!important}}
    @media(max-width:767px){
      :root{--shell-gap:10px;--page-pad-x:18px;--page-pad-y:18px;--page-pad-bottom:40px}
      .shell{display:flex;flex-direction:column;gap:var(--shell-gap)}
      .row-top,.row-bottom{display:contents}
      .side-col{display:contents}
      .main-card{order:1}
      .controls-card{order:2}
      .motor-card{order:3}
      .charts-card{order:4}
      .log-card{order:5}
    }
    @media(min-width:768px){
      .shell{display:flex;flex-direction:column;gap:var(--shell-gap)}
      .row-top{
        display:grid;
        grid-template-columns:minmax(0,1.25fr) minmax(320px,1.35fr);
        gap:14px;
        align-items:stretch
      }
      .row-bottom{
        display:grid;
        grid-template-columns:minmax(0,2.4fr) minmax(220px,0.8fr);
        gap:14px;
        align-items:stretch
      }
      .row-top > .card-base,
      .row-bottom > .card-base{height:100%}
      .row-bottom > .charts-card{height:var(--chart-height);min-height:var(--chart-height)}
      .item-grid{grid-template-columns:repeat(2,minmax(0,1fr))}
      #dashboardView{flex:1;min-height:0}
      #dashboardView .shell{
        height:100%;
        min-height:0;
        display:grid;
        grid-template-rows:auto minmax(0,1fr);
        gap:var(--shell-gap);
      }
      #dashboardView .row-top,
      #dashboardView .row-bottom{min-height:0}
      #dashboardView .row-top > .card-base{height:auto}
    }
    @media(min-width:1100px){
      .row-top{grid-template-columns:minmax(0,1.45fr) minmax(320px,1.35fr)}
      .row-bottom{grid-template-columns:minmax(0,2.55fr) minmax(220px,0.9fr)}
    }
    @media(min-width:768px) and (max-width:1100px){
      :root{
        --page-pad-x:32px;
        --page-pad-y:20px;
        --page-pad-bottom:24px;
        --shell-gap:12px;
        --card-pad:14px;
        --chart-height:clamp(360px,42vh,480px);
        --log-height:clamp(160px,20vh,230px);
      }
      body{overflow-y:auto}
      .page-wrap{height:auto;overflow:visible}
      .row-bottom{min-height:var(--chart-height)}
      .charts-card{height:100%;min-height:var(--chart-height)}
      .page-title{font-size:32px}
    }
    @media (hover: none) and (pointer: coarse) and (min-width: 768px) and (max-width: 1100px){
      :root{--chart-height:clamp(360px,42vh,480px)}
      .chart-box{min-height:clamp(160px,24vh,220px)}
    }
    @media(max-width:980px){
      .app-shell{flex-direction:row}
    }
    @media(max-width:600px){
      body{padding:0;overflow-y:auto;display:block}
      .app-shell{
        min-height:100vh;
        padding-bottom:calc(96px + env(safe-area-inset-bottom, 0px));
      }
      .side-nav-desktop{display:none}
      .side-nav-mobile{
        display:flex;
        position:fixed;left:12px;right:12px;bottom:12px;z-index:60;
        width:auto;min-height:auto;height:72px;
        flex-direction:row;justify-content:space-between;align-items:center;
        border-right:none;border-bottom:none;
        background:rgba(255,255,255,0.98);
        border:1px solid rgba(148,163,184,0.25);
        border-radius:28px;
        box-shadow:0 18px 40px rgba(15,23,42,0.18);
        padding:10px 12px;
        overflow:visible;
      }
      .mobile-controls-active .side-nav-mobile::after{
        content:"";
        position:absolute;
        top:-8px;
        left:12px;
        right:12px;
        height:1px;
        background:rgba(15,23,42,0.08);
        border-radius:1px;
        pointer-events:none;
      }
      .side-nav-mobile .side-nav-menu{
        flex:1;
        flex-direction:row;align-items:center;justify-content:space-between;
        width:auto;gap:4px;
      }
      .side-nav-divider-mobile{
        width:1px;height:26px;
        background:rgba(148,163,184,0.4);
        margin:0 2px;
      }
      .side-nav-mobile .side-nav-item,
      .side-nav-mobile .side-nav-btn{
        width:48px;height:48px;border-radius:14px;
        border:1px solid transparent;
        -webkit-tap-highlight-color:transparent;
      }
      .side-nav-mobile .side-nav-item:focus,
      .side-nav-mobile .side-nav-item:focus-visible,
      .side-nav-mobile .side-nav-item:active,
      .side-nav-mobile .side-nav-btn:focus,
      .side-nav-mobile .side-nav-btn:focus-visible,
      .side-nav-mobile .side-nav-btn:active{
        outline:none;
        box-shadow:none;
      }
      .side-nav-mobile .side-nav-item.active{
        background:#cfe3ff;color:#3b82f6;
        box-shadow:0 6px 12px rgba(59,130,246,0.18);
      }
      .mobile-abort-wrapper{
        position:absolute;
        bottom:100%;
        left:50%;
        transform:translate(-50%, -22px);
        pointer-events:none;
        width:100%;
        display:flex;
        justify-content:center;
      }
      .mobile-abort-panel{
        display:none;
        pointer-events:auto;
        flex-direction:column;
        align-items:center;
        gap:6px;
        padding:10px 12px;
        border-radius:16px;
        border:1px solid rgba(148,163,184,0.25);
        background:#ffffff;
      }
      .mobile-abort-panel.is-visible{display:flex}
      .mobile-abort-help{
        font-size:11px;
        color:#6b7280;
        text-align:center;
        line-height:1.4;
      }
      .mobile-abort-btn{
        display:none;
        pointer-events:auto;
        background:#dc2626;
        color:#fff;
        border:none;
        border-radius:14px;
        padding:10px 28px;
        font-weight:700;
        letter-spacing:.08em;
        text-transform:uppercase;
        box-shadow:0 15px 35px rgba(220,38,38,0.35);
        transition:transform .2s ease,opacity .2s ease;
        opacity:0;
        transform:translateY(6px);
      }
      .mobile-abort-btn.is-visible{
        display:inline-flex;
        opacity:1;
        transform:translateY(0);
      }
      .page-wrap{
        height:auto;overflow:visible;
        padding-bottom:calc(108px + env(safe-area-inset-bottom, 0px));
      }
      .top-bar{flex-direction:column;align-items:flex-start;gap:6px}
      .top-left{width:100%}
      .top-right{width:100%;display:flex;justify-content:flex-end}
      .status-bar{width:100%;justify-content:flex-end}
      .logo-img{height:40px}
      .title-main{font-size:16px}
      .title-sub{font-size:11px}
      .card-base{padding:14px 14px}
      .countdown-wrap{display:flex;flex-direction:column;align-items:flex-start;gap:6px}
      .countdown-mobile{display:block}
      .pill-row{width:100%;justify-content:flex-start}
      .countdown-label-block{min-width:0}
      #countdown{justify-self:end;min-width:0;line-height:1;font-size:clamp(34px,11vw,48px)}
      .item-grid{grid-template-columns:repeat(2,minmax(0,1fr))}
      .motor-card .item-grid{grid-template-columns:repeat(2,minmax(0,1fr))}
      .motor-card .item{min-height:48px}
      #lt{flex-direction:column;align-items:flex-end;gap:2px}
      #lt .lt-line{display:flex;align-items:baseline;gap:4px}
      #lt .lt-sep{display:none}
      #lt .num,#lt .unit{
        font-size:10px;color:#64748b;font-weight:700;letter-spacing:.12em;text-transform:uppercase
      }
      @media(min-width:601px){
        #lt{flex-direction:row;align-items:baseline;gap:6px}
        #lt .lt-sep{display:inline}
      }
      .controls-main-row{flex-direction:column}
      .primary-btn,.secondary-btn{height:44px}
      .controls-mobile-only{display:inline-flex}
      .launcher-desktop-only{display:none}
      .chart-row{flex-direction:column}
      .chart-box{flex:1 1 auto}
      .settings-overlay{align-items:center;justify-content:center;padding:12px}
      .settings-dialog{
        width:100%;max-width:520px;height:70vh;max-height:70vh;border-radius:12px;margin:0;
        padding:14px 16px max(12px,env(safe-area-inset-bottom,12px))
      }
      .mobile-controls-panel{
        display:flex;
        position:fixed;
        left:12px;
        right:12px;
        bottom:calc(12px + env(safe-area-inset-bottom, 0px));
        max-width:640px;
        margin:0 auto;
        width:auto;
        border-radius:28px 28px 18px 18px;
        padding:44px 20px 28px;
        background:linear-gradient(180deg,#ffffff,#f7f8fc);
        border:1px solid rgba(148,163,184,0.26);
        box-shadow:0 18px 30px rgba(15,23,42,0.12);
        flex-direction:column;
        gap:18px;
        min-height:360px;
        transform:translateY(calc(100% + 20px));
        transition:transform .32s cubic-bezier(0.22,0.61,0.36,1),opacity .28s ease;
        opacity:0;
        pointer-events:none;
        z-index:70;
        will-change:transform,opacity;
        overflow:hidden;
      }
      .mobile-controls-panel.is-open{
        transform:translateY(0);
        opacity:1;
        pointer-events:auto;
      }
      .mobile-controls-handle{
        position:absolute;
        top:10px;
        left:50%;
        transform:translateX(-50%);
        width:48px;
        height:5px;
        border-radius:999px;
        background:rgba(15,23,42,0.15);
      }
      .mobile-controls-head{
        display:flex;
        flex-direction:column;
        gap:4px;
        font-size:12px;
        text-transform:uppercase;
        letter-spacing:.2em;
        color:#94a3b8;
      }
      .mobile-controls-head-title{font-weight:600;color:#94a3b8}
      .mobile-controls-head-sub{font-size:14px;font-weight:700;color:var(--text-main);letter-spacing:0;text-transform:none}
      .mobile-controls-slot{
        display:grid;
        grid-template-columns:repeat(2,minmax(0,1fr));
        gap:10px;
        width:100%;
        max-height:calc(60vh);
        overflow-y:auto;
        padding-right:4px;
        grid-auto-flow:row dense;
      }
      .mobile-controls-slot .control-tile:first-of-type{
        grid-column:1 / -1;
      }
      .mobile-controls-slot .control-tile{
        width:100%;
        padding:14px 16px;
        border-radius:16px;
        border:1px solid rgba(148,163,184,0.25);
        justify-content:space-between;
        min-height:56px;
        background:#fff;
      }
      .mobile-control-main{
        display:flex;
        align-items:center;
        justify-content:space-between;
        gap:12px;
        width:100%;
      }
      .mobile-control-text{
        flex:1;
        display:flex;
        flex-direction:column;
        align-items:flex-start;
        text-align:left;
        gap:4px;
      }
      .mobile-control-text .control-tile-label,
      .mobile-control-text .control-tile-sub{
        width:100%;
        text-align:left;
      }
      .mobile-control-status{
        display:inline-flex;
        align-items:center;
        justify-content:center;
        padding:4px 10px;
        border-radius:999px;
        font-size:11px;
        font-weight:700;
        letter-spacing:0.08em;
        border:1px solid rgba(148,163,184,0.4);
        color:#475569;
        background:rgba(148,163,184,0.08);
        flex-shrink:0;
        line-height:1.2;
      }
      .mobile-controls-panel .control-tile-actions{margin-left:auto}
      .mobile-controls-toolbar{
        display:flex;
        flex-wrap:wrap;
        gap:10px;
      }
      .mobile-controls-toolbar-top{
        margin-top:6px;
        margin-bottom:-2px;
      }
      .mobile-toolbar-btn{
        flex:1 1 calc(50% - 5px);
        min-width:0;
      }
      .settings-body{flex-direction:column;overflow:hidden;padding-right:2px}
      .settings-panels{overflow-y:auto;padding-right:10px}
      .settings-nav{
        width:100%;border-right:none;border-bottom:1px solid rgba(209,213,219,0.9);
        padding-right:0;padding-bottom:6px;flex-direction:row;gap:6px;overflow-x:auto
      }
      .settings-nav-title{display:none}
      .settings-nav-btn{
        flex:0 0 auto;justify-content:center;align-items:center;flex-direction:column;
        padding:8px 10px;gap:3px;min-height:64px;min-width:88px;text-align:center
      }
      .settings-nav-btn span{display:block;white-space:nowrap;word-break:keep-all}
      .settings-nav-btn::before{display:none}
      .launcher-arrow-btn{width:110px;height:54px;font-size:20px}
    }
    @media(max-width:380px){
      .countdown-wrap{grid-template-columns:1fr}
      #countdown{margin-top:6px;justify-self:end}
      .item-grid{grid-template-columns:1fr}
    }
    @media(max-height:900px){
      :root{
        --page-pad-y:20px;
        --card-pad:14px;
        --chart-height:clamp(360px,50vh,520px);
        --log-height:clamp(170px,22vh,230px);
      }
      .page-title{font-size:32px}
      .controls-card{padding-top:12px;padding-bottom:12px}
      .primary-btn,.secondary-btn{height:38px}
    }
    @media(max-height:760px){
      :root{
        --page-pad-y:16px;
        --card-pad:12px;
        --shell-gap:10px;
        --chart-height:clamp(320px,48vh,460px);
        --log-height:clamp(140px,18vh,200px);
      }
      .page-title{font-size:28px}
      .chart-box{min-height:150px}
      .toolbar-btn{height:30px;font-size:10px}
      .control-tile{padding:7px 10px}
      .controls-card .control-tile{
        padding:5px 10px !important;
        min-height:48px;
        height:48px;
      }
      .control-tile-label{font-size:12px}
      .control-tile-sub{font-size:10px}
      .status-metric{min-height:60px}
    }
    @media(max-height:680px){
      .page-wrap{overflow:auto}
    }

    /* ✅ LOCKOUT 모달 */
    .lockout-dialog{
      max-width:440px;border:1px solid rgba(248,113,113,0.9);
      background:
        linear-gradient(180deg,#fee2e2 0,#fde7e7 18%,#ffffff 56%);
      box-shadow:0 16px 38px rgba(15,23,42,0.2);
    }
    .lockout-dialog::after{
      background:radial-gradient(circle at 20% 0,rgba(248,113,113,0.32),transparent 62%);
    }
    .lockout-dialog::before{display:none}
    .lockout-close{position:absolute;right:12px;top:12px;color:#94a3b8;}
    .lockout-close:hover{background:rgba(148,163,184,0.22);color:#0f172a;}
    .lockout-dialog .confirm-icon{
      width:64px;height:64px;border-radius:20px;margin-top:8px;
      background:radial-gradient(circle at 30% 20%,#ff7a7a,#ef4444);
      box-shadow:0 8px 18px rgba(239,68,68,0.24),0 0 0 8px rgba(248,113,113,0.12);
    }
    .lockout-dialog .confirm-title{letter-spacing:.08em}
    .lockout-dialog .confirm-text{color:#475569}
    .lockout-dialog .confirm-icon{margin-bottom:22px}
    .lockout-dialog .confirm-text{margin-top:12px}

    /* ✅ FW 섹션에 작은 F 로고 */
    .fw-head{
      display:flex;align-items:stretch;gap:14px;
      padding:6px 0 6px;
    }
    .fw-logo-block{
      display:flex;flex-direction:column;gap:6px;align-items:flex-start;
      min-width:0;
    }
    .fw-f-logo{
      width:40px;height:40px;object-fit:contain;
      filter:drop-shadow(0 2px 6px rgba(15,23,42,0.16));
      opacity:.95;
    }
    .fw-altis-logo{
      width:108px;height:40px;object-fit:contain;
      filter:drop-shadow(0 2px 6px rgba(15,23,42,0.16));
      opacity:.95;
    }
    .fw-gnu-logo{
      width:132px;height:36px;object-fit:contain;
      filter:drop-shadow(0 2px 6px rgba(15,23,42,0.16));
      opacity:.95;
    }
    .fw-team-inline{
      display:flex;flex-direction:column;align-items:flex-start;gap:6px;
      margin-bottom:6px;
    }
    .fw-team-inline img{
      height:28px;width:auto;object-fit:contain;
      filter:drop-shadow(0 1px 4px rgba(15,23,42,0.12));
      opacity:.9;
    }
    .fw-team-inline img.is-small{
      height:16px;
    }
    html:not([data-theme="dark"]) .fw-team-inline img.is-invert{
      filter:invert(1) drop-shadow(0 1px 4px rgba(15,23,42,0.12));
    }
    html[data-theme="dark"] .fw-team-inline img.is-invert{
      filter:drop-shadow(0 1px 4px rgba(15,23,42,0.12));
    }
    .fw-team-inline-label{
      font-size:10px;font-weight:700;letter-spacing:.16em;text-transform:uppercase;
      color:#94a3b8;
    }
    .fw-team-inline-logos{
      display:flex;align-items:center;gap:8px;flex-wrap:wrap;
    }

    /* ✅ 접근성/JS 호환용 숨김 버튼 */
    .sr-only{
      position:absolute !important;
      width:1px;height:1px;
      padding:0;margin:-1px;
      overflow:hidden;clip:rect(0,0,0,0);
      white-space:nowrap;border:0;
    }

    /* ✅ 타일을 "버튼"처럼 */
    .control-tile.is-btn{
      cursor:pointer;
      user-select:none;
      padding:10px 12px;        /* 세로 길이 줄임 */
      min-height:62px;          /* 기존 70px → 줄임 */
      transition:transform .12s ease, box-shadow .12s ease, background .12s ease, border-color .12s ease;
    }

    .control-tile.is-btn:hover{
      transform:translateY(-1px);
      border-color:rgba(37,99,235,0.55);
      box-shadow:0 6px 14px rgba(37,99,235,0.12);
    }

    .control-tile.is-btn:active{
      transform:translateY(0);
      box-shadow:0 4px 10px rgba(148,163,184,0.2);
    }

    .control-tile.is-btn:focus-visible{
      outline:none;
      box-shadow:0 0 0 3px rgba(59,130,246,0.35), 0 6px 14px rgba(37,99,235,0.12);
      border-color:rgba(59,130,246,0.9);
    }
    .force-tile{justify-content:space-between}
    .force-tile .control-tile-actions{margin-left:auto}

    /* ✅ 오른쪽 액션 영역 정렬 고정(줄바꿈 방지) */
    .control-tile-actions{
      display:flex;
      align-items:center;
      flex-wrap:nowrap;
      gap:10px;
    }

    /* ✅ 서브텍스트 조금 타이트하게 */
    .control-tile-sub{
      line-height:1.25;
    }

    /* ✅ 위험 타일(강제 점화) 강조 */
    .control-tile.is-danger:hover{
      border-color:rgba(239,68,68,0.55);
      box-shadow:0 10px 22px rgba(239,68,68,0.18);
    }

    :root{
      --ui-bg:#f7f7f5;
      --ui-surface:#ffffff;
      --ui-line:#ededed;
      --ui-text:#111827;
      --ui-muted:#6b7280;
      --ui-accent:#1e6cff;
      --ui-accent-soft:rgba(30,108,255,0.12);
    }
    html[data-theme="dark"]{
      --ui-bg:#0b0f14;
      --ui-surface:#0f172a;
      --ui-line:#1f2937;
      --ui-text:#e2e8f0;
      --ui-muted:#94a3b8;
      --ui-accent:#60a5fa;
      --ui-accent-soft:rgba(96,165,250,0.16);
      color-scheme:dark;
    }
    html,body{height:100%}
    body{
      font-family:"SUIT","Pretendard","Noto Sans KR","Apple SD Gothic Neo","Segoe UI",sans-serif;
      background:var(--ui-bg);
      color:var(--ui-text);
      overflow:hidden;
    }
    @media(max-width:600px){
      body{overflow-y:auto}
      .page-wrap{height:auto;overflow:visible}
    }
    html[data-theme="dark"] .side-nav-desktop,
    html[data-theme="dark"] .side-nav-mobile{
      background:#0f141b;
      border-right:1px solid var(--ui-line);
      box-shadow:8px 0 30px rgba(2,6,23,0.6);
    }
    html[data-theme="dark"] .card-base{
      background:rgba(15,23,42,0.92);
      border:1px solid rgba(51,65,85,0.8);
      box-shadow:0 18px 30px rgba(2,6,23,0.55);
    }
    html[data-theme="dark"] .chart-box{
      background:linear-gradient(135deg,#111827,#0b1220);
      border-color:rgba(51,65,85,0.7);
    }
    html[data-theme="dark"] .chart-title{color:#e2e8f0}
    html[data-theme="dark"] .chart-badge{
      background:rgba(15,23,42,0.8);
      color:#cbd5f5;
      border:1px solid rgba(51,65,85,0.7);
    }
    html[data-theme="dark"] .pill{
      background:#111827;
      color:#e2e8f0;
      border-color:rgba(51,65,85,0.8);
    }
    html[data-theme="dark"] .pill strong{
      color:#e2e8f0;
    }
    html[data-theme="dark"] .pill-gray{
      background:rgba(51,65,85,0.6);
      color:#cbd5f5;
      border-color:rgba(71,85,105,0.8);
    }
    html[data-theme="dark"] .control-tile{
      background:rgba(15,23,42,0.72);
      border-color:rgba(51,65,85,0.7);
      color:var(--ui-text);
    }
    html[data-theme="dark"] .control-tile-label{
      color:#e2e8f0;
    }
    html[data-theme="dark"] .control-tile-sub{
      color:#94a3b8;
    }
    html[data-theme="dark"] .toolbar-btn{
      background:linear-gradient(135deg,#111827,#0f172a);
      border-color:rgba(51,65,85,0.8);
      color:#e2e8f0;
      box-shadow:0 4px 10px rgba(2,6,23,0.35);
    }
    html[data-theme="dark"] .settings-dialog{
      background:rgba(15,23,42,0.96);
      border-color:rgba(51,65,85,0.8);
      box-shadow:0 12px 30px rgba(2,6,23,0.55);
      color:var(--ui-text);
    }
    html[data-theme="dark"] .settings-dialog::before{
      background:linear-gradient(145deg,rgba(30,41,59,0.9),rgba(51,65,85,0.9));
    }
    html[data-theme="dark"] .settings-nav{
      border-right:1px solid rgba(51,65,85,0.8);
    }
    html[data-theme="dark"] .settings-nav-btn:hover{background:rgba(30,41,59,0.8)}
    html[data-theme="dark"] .settings-label{color:#e2e8f0}
    html[data-theme="dark"] .settings-desc{color:#94a3b8}
    html[data-theme="dark"] .settings-select,
    html[data-theme="dark"] .settings-number{
      background:#0f172a;
      border-color:rgba(51,65,85,0.8);
      color:#e2e8f0;
    }
    html[data-theme="dark"] .settings-inline-btn{
      background:#0f172a;
      border-color:rgba(51,65,85,0.8);
      color:#e2e8f0;
    }
    html[data-theme="dark"] .settings-close-btn:hover{
      background:rgba(30,41,59,0.8);
      color:#e2e8f0;
    }
    html[data-theme="dark"] .serial-pill{
      background:rgba(15,23,42,0.9);
      border-color:rgba(51,65,85,0.8);
      color:#cbd5f5;
    }
    html[data-theme="dark"] .card-title,
    html[data-theme="dark"] .section-label,
    html[data-theme="dark"] .controls-section-label,
    html[data-theme="dark"] .countdown-caption,
    html[data-theme="dark"] .countdown-sub,
    html[data-theme="dark"] .countdown-hero-label,
    html[data-theme="dark"] .status-metric-label{
      color:var(--ui-muted);
    }
    html[data-theme="dark"] .countdown-card{
      background:
        radial-gradient(circle at 15% 20%, rgba(30,41,59,0.9), transparent 50%),
        radial-gradient(circle at 85% 0, rgba(59,130,246,0.2), transparent 55%),
        linear-gradient(180deg, rgba(15,23,42,0.98), rgba(2,6,23,0.96));
      border-color:rgba(51,65,85,0.7);
      box-shadow:0 18px 40px rgba(2,6,23,0.55),0 2px 0 rgba(30,41,59,0.7) inset;
    }
    html[data-theme="dark"] .countdown-card::before{
      background:radial-gradient(circle at 50% 50%, rgba(59,130,246,0.22), transparent 60%);
      opacity:.7;
    }
    html[data-theme="dark"] .countdown-card::after{
      background:
        linear-gradient(transparent 0 97%, rgba(148,163,184,0.08) 100%),
        linear-gradient(90deg, transparent 0 97%, rgba(148,163,184,0.08) 100%);
      opacity:.25;
    }
    html[data-theme="dark"] .countdown-hero-value{
      color:#e2e8f0;
      text-shadow:0 18px 40px rgba(59,130,246,0.22);
    }
    html[data-theme="dark"] .countdown-hero-status{
      color:#e2e8f0;
      background:rgba(148,163,184,0.12);
      border-color:rgba(51,65,85,0.7);
    }
    html[data-theme="dark"] #statusText{
      color:#e2e8f0;
    }
    html[data-theme="dark"] .status-metric-value{
      color:var(--ui-text);
    }
    html[data-theme="dark"] .status-metric-value .unit{
      color:var(--ui-muted);
    }
    html[data-theme="dark"] .status-metric{
      background:#0f172a;
      border-color:rgba(51,65,85,0.7);
    }
    html[data-theme="dark"] .status-metric.is-alert{
      border-color:rgba(248,113,113,0.8);
      box-shadow:0 0 0 1px rgba(248,113,113,0.18);
    }
    html[data-theme="dark"] .status-metric.is-alert.is-alert-blink{
      animation:loadcellAlertBlinkDark 1.1s ease-in-out infinite;
    }
    html[data-theme="dark"] .status-metric.is-alert .status-metric-value{
      color:#fecaca;
    }
    @keyframes loadcellAlertBlinkDark{
      0%,100%{border-color:rgba(248,113,113,0.45);box-shadow:0 0 0 1px rgba(248,113,113,0.12)}
      50%{border-color:rgba(248,113,113,0.95);box-shadow:0 0 0 2px rgba(248,113,113,0.3)}
    }
    html[data-theme="dark"] .item{
      background:linear-gradient(135deg,#0f172a,#0b1220);
      border-color:rgba(51,65,85,0.7);
    }
    html[data-theme="dark"] .item.status-ok{
      background:linear-gradient(135deg,rgba(22,163,74,0.18),rgba(34,197,94,0.12));
      border-color:rgba(34,197,94,0.45);
    }
    html[data-theme="dark"] .item.status-warn{
      background:linear-gradient(135deg,rgba(245,158,11,0.2),rgba(251,191,36,0.12));
      border-color:rgba(245,158,11,0.5);
    }
    html[data-theme="dark"] .item.status-bad{
      background:linear-gradient(135deg,rgba(239,68,68,0.22),rgba(248,113,113,0.14));
      border-color:rgba(239,68,68,0.6);
    }
    html[data-theme="dark"] .label{
      color:#cbd5f5;
    }
    html[data-theme="dark"] .value{
      color:var(--ui-text);
    }
    html[data-theme="dark"] .value .unit{
      color:var(--ui-muted);
    }
    html[data-theme="dark"] .motor-card{
      background:linear-gradient(135deg,#0f172a 0%,#101826 60%,#0b1220 100%);
      border-color:rgba(51,65,85,0.55);
      box-shadow:0 16px 28px rgba(2,6,23,0.5);
    }
    html[data-theme="dark"] .motor-card .card-title{
      color:#cbd5f5;
    }
    html[data-theme="dark"] .motor-card .card-badge{
      background:rgba(96,165,250,0.18);
      color:#bfdbfe;
      border-color:rgba(96,165,250,0.35);
    }
    html[data-theme="dark"] .motor-card .item{
      background:#0f172a;
      border-color:rgba(51,65,85,0.7);
      box-shadow:inset 0 0 0 1px rgba(15,23,42,0.6);
    }
    html[data-theme="dark"] .motor-card .item.status-ok{
      background:linear-gradient(135deg,rgba(22,163,74,0.2),rgba(34,197,94,0.12));
      border-color:rgba(34,197,94,0.45);
    }
    html[data-theme="dark"] .motor-card .item.status-warn{
      background:linear-gradient(135deg,rgba(245,158,11,0.22),rgba(251,191,36,0.12));
      border-color:rgba(245,158,11,0.5);
    }
    html[data-theme="dark"] .motor-card .item.status-bad{
      background:linear-gradient(135deg,rgba(239,68,68,0.24),rgba(248,113,113,0.14));
      border-color:rgba(239,68,68,0.6);
    }
    html[data-theme="dark"] .motor-card .label{
      color:#cbd5f5;
    }
    html[data-theme="dark"] .motor-card .value{
      color:#e2e8f0;
    }
    html[data-theme="dark"] .motor-card .value .unit{
      color:#94a3b8;
    }
    html[data-theme="dark"] .chart-btn{
      background:#0f172a;
      color:#e2e8f0;
      border-color:rgba(51,65,85,0.8);
    }
    html[data-theme="dark"] .chart-btn-live{
      background:#1d4ed8;
      border-color:#1e3a8a;
      color:#e2e8f0;
    }
    html[data-theme="dark"] .primary-btn{
      border-color:rgba(249,115,22,0.5);
      box-shadow:0 6px 16px rgba(2,6,23,0.45),0 3px 8px rgba(249,115,22,0.18);
    }
    html[data-theme="dark"] .secondary-btn{
      border-color:rgba(248,113,113,0.55);
      background:linear-gradient(135deg,rgba(185,28,28,0.88),rgba(239,68,68,0.88));
      color:#fff7ed;
    }
    html[data-theme="dark"] .card-badge{
      background:rgba(96,165,250,0.16);
      color:#bfdbfe;
      border-color:rgba(96,165,250,0.3);
    }
    html[data-theme="dark"] .slider{
      background:#111827;
      border-color:rgba(51,65,85,0.8);
    }
    html[data-theme="dark"] .slider:before{
      background:#e2e8f0;
      box-shadow:0 4px 10px rgba(2,6,23,0.6);
    }
    html[data-theme="dark"] .settings-overlay,
    html[data-theme="dark"] .confirm-overlay{
      background:rgba(2,6,23,0.72);
    }
    html[data-theme="dark"] .launcher-dialog{
      background:linear-gradient(180deg,#0f172a,#0b1220);
      border-color:rgba(51,65,85,0.7);
      color:#e2e8f0;
      box-shadow:0 12px 30px rgba(2,6,23,0.6),0 2px 0 rgba(15,23,42,0.7) inset;
    }
    html[data-theme="dark"] .launcher-dialog::before{
      background:linear-gradient(135deg,rgba(30,41,59,0.9),rgba(51,65,85,0.6));
    }
    html[data-theme="dark"] .launcher-dialog::after{
      background:radial-gradient(circle at 15% 0,rgba(30,41,59,0.6),transparent 60%);
    }
    html[data-theme="dark"] .launcher-title{color:#e2e8f0}
    html[data-theme="dark"] .launcher-note,
    html[data-theme="dark"] .launcher-hint{color:#94a3b8}
    html[data-theme="dark"] .launcher-divider{background:rgba(51,65,85,0.7)}
    html[data-theme="dark"] .launcher-arrow-btn{
      background:linear-gradient(135deg,#111827,#0f172a);
      border-color:rgba(51,65,85,0.8);
      color:#e2e8f0;
      box-shadow:0 4px 10px rgba(2,6,23,0.35);
    }
    html[data-theme="dark"] .inspection-dialog{
      background:linear-gradient(180deg,#0f172a,#0b1220);
      border-color:rgba(51,65,85,0.7);
      color:#e2e8f0;
      box-shadow:0 12px 30px rgba(2,6,23,0.55);
    }
    html[data-theme="dark"] .inspection-dialog::before{
      background:linear-gradient(145deg,rgba(30,41,59,0.9),rgba(51,65,85,0.6));
    }
    html[data-theme="dark"] .inspection-dialog::after{
      background:radial-gradient(circle at 18% 0,rgba(148,163,184,0.35),transparent 60%);
    }
    html[data-theme="dark"] .inspection-dialog .settings-title{color:#e2e8f0}
    html[data-theme="dark"] .inspection-sub{color:#94a3b8}
    html[data-theme="dark"] .inspection-kicker{
      color:#cbd5f5;background:rgba(148,163,184,0.12)
    }
    html[data-theme="dark"] .inspection-step-title{color:#e2e8f0}
    html[data-theme="dark"] .inspection-step-desc{color:#94a3b8}
    html[data-theme="dark"] .inspection-status-card{
      background:transparent;
      border:none;
      box-shadow:none;
    }
    html[data-theme="dark"] .inspection-status-pill{
      color:#cbd5f5;
      border-color:rgba(51,65,85,0.7);
      background:rgba(51,65,85,0.25);
    }
    html[data-theme="dark"] .inspection-status-pill.is-running{
      color:#fbbf24;border-color:rgba(245,158,11,0.45);background:rgba(245,158,11,0.2)
    }
    html[data-theme="dark"] .inspection-status-pill.is-ok{
      color:#86efac;border-color:rgba(34,197,94,0.45);background:rgba(34,197,94,0.2)
    }
    html[data-theme="dark"] .inspection-status-pill.is-bad{
      color:#fca5a5;border-color:rgba(248,113,113,0.45);background:rgba(248,113,113,0.2)
    }
    html[data-theme="dark"] .inspection-result{color:#cbd5f5}
    html[data-theme="dark"] .mission-dialog{
      background:rgba(15,23,42,0.98);
      border-color:rgba(51,65,85,0.7);
      color:#e2e8f0;
      box-shadow:0 20px 44px rgba(2,6,23,0.6),0 2px 0 rgba(15,23,42,0.7) inset;
    }
    html[data-theme="dark"] .mission-dialog::before{
      background:rgba(51,65,85,0.7);
    }
    html[data-theme="dark"] .mission-title,
    html[data-theme="dark"] .mission-review-title,
    html[data-theme="dark"] .mission-test-title{color:#e2e8f0}
    html[data-theme="dark"] .mission-sub,
    html[data-theme="dark"] .mission-test-sub{color:#94a3b8}
    html[data-theme="dark"] .mission-kicker{
      background:rgba(148,163,184,0.16);
      color:#cbd5f5;
    }
    html[data-theme="dark"] .mission-close-btn{
      background:rgba(30,41,59,0.8);
      color:#cbd5f5;
      box-shadow:0 4px 10px rgba(2,6,23,0.4);
    }
    html[data-theme="dark"] .mission-close-btn:hover{background:#1f2937;color:#e2e8f0}
    html[data-theme="dark"] .mission-divider{background:rgba(51,65,85,0.6)}
    html[data-theme="dark"] .mission-label{color:#94a3b8}
    html[data-theme="dark"] .mission-input,
    html[data-theme="dark"] .mission-test-input{
      background:#0f172a;
      color:#e2e8f0;
      border-color:rgba(51,65,85,0.8);
      box-shadow:0 1px 0 rgba(15,23,42,0.6) inset;
    }
    html[data-theme="dark"] .mission-unit{
      background:rgba(15,23,42,0.8);
      border-color:rgba(51,65,85,0.6);
      color:#cbd5f5;
    }
    html[data-theme="dark"] .mission-preset-title{color:#cbd5f5}
    html[data-theme="dark"] .mission-preset-viewport{
      background:#0f172a;
      border:1px solid rgba(51,65,85,0.7);
    }
    html[data-theme="dark"] .mission-preset-btn{
      background:linear-gradient(180deg,#0f172a,#0b1220);
      border-color:rgba(51,65,85,0.7);
      box-shadow:0 6px 16px rgba(2,6,23,0.5);
    }
    html[data-theme="dark"] .mission-preset-photo{
      background:linear-gradient(180deg,#111827,#0f172a);
      border-color:rgba(51,65,85,0.7);
      color:#94a3b8;
    }
    html[data-theme="dark"] .mission-preset-name{color:#e2e8f0}
    html[data-theme="dark"] .mission-preset-sub,
    html[data-theme="dark"] .mission-preset-vendor{color:#94a3b8}
    html[data-theme="dark"] .mission-preset-info{
      background:rgba(15,23,42,0.96);
      border-color:rgba(51,65,85,0.7);
      box-shadow:0 10px 18px rgba(2,6,23,0.55);
    }
    html[data-theme="dark"] .mission-info-label,
    html[data-theme="dark"] .mission-review-label{color:#94a3b8}
    html[data-theme="dark"] .mission-info-value,
    html[data-theme="dark"] .mission-info-message,
    html[data-theme="dark"] .mission-review-value{color:#e2e8f0}
    html[data-theme="dark"] .mission-review-item{border-bottom:1px solid rgba(51,65,85,0.6)}
    html[data-theme="dark"] .mission-test-cancel{color:#94a3b8}
    html[data-theme="dark"] .mission-back-btn{color:#93c5fd}
    html[data-theme="dark"] .loadcell-dialog{
      background:linear-gradient(180deg,rgba(15,23,42,0.98),rgba(11,18,32,0.96));
      border-color:rgba(51,65,85,0.7);
      color:#e2e8f0;
      box-shadow:0 16px 38px rgba(2,6,23,0.6),0 2px 0 rgba(15,23,42,0.7) inset;
    }
    html[data-theme="dark"] .loadcell-dialog::before{
      background:linear-gradient(135deg,rgba(30,41,59,0.9),rgba(51,65,85,0.6));
    }
    html[data-theme="dark"] .loadcell-dialog::after{
      background:radial-gradient(circle at 20% 0,rgba(30,41,59,0.6),transparent 55%);
    }
    html[data-theme="dark"] .loadcell-kicker{
      background:rgba(148,163,184,0.16);
      color:#cbd5f5;
    }
    html[data-theme="dark"] .loadcell-steps,
    html[data-theme="dark"] .loadcell-note{color:#94a3b8}
    html[data-theme="dark"] .loadcell-card{
      background:rgba(15,23,42,0.95);
      border-color:rgba(51,65,85,0.7);
      box-shadow:0 6px 14px rgba(2,6,23,0.45);
    }
    html[data-theme="dark"] .loadcell-value{color:#e2e8f0}
    html[data-theme="dark"] .loadcell-unit{color:#94a3b8}
    html[data-theme="dark"] .loadcell-input{
      background:#0f172a;
      border-color:rgba(51,65,85,0.8);
      color:#e2e8f0;
      box-shadow:0 4px 10px rgba(2,6,23,0.4);
    }
    html[data-theme="dark"] .loadcell-actions{border-top:1px solid rgba(51,65,85,0.7)}
    html[data-theme="dark"] .loadcell-secondary{
      background:rgba(34,197,94,0.18);
      color:#86efac;
      border-color:rgba(34,197,94,0.45);
    }
    html[data-theme="dark"] .loadcell-cancel{
      background:#0f172a;
      color:#e2e8f0;
      border-color:rgba(51,65,85,0.8);
    }
    html[data-theme="dark"] .loadcell-warning-title{color:#e2e8f0}
    html[data-theme="dark"] .loadcell-warning .confirm-text,
    html[data-theme="dark"] .loadcell-warning-sub{color:#94a3b8}
    html[data-theme="dark"] .lockout-dialog{
      background:linear-gradient(180deg,#2b0f14 0,#1f1015 20%,#0f172a 70%);
      border-color:rgba(248,113,113,0.6);
      box-shadow:0 16px 38px rgba(2,6,23,0.7);
    }
    html[data-theme="dark"] .lockout-dialog .confirm-text{color:#cbd5f5}
    .app-shell{gap:0;height:100dvh;min-height:100dvh}
    .side-nav-desktop{
      width:72px;
      background:#fdfdfc;
      border-right:1px solid var(--ui-line);
      box-shadow:8px 0 30px rgba(15,23,42,0.04);
      height:100dvh;
      min-height:100dvh;
      padding:22px 12px calc(22px + env(safe-area-inset-bottom, 0px));
      gap:14px;
      overflow-x:hidden;
      overflow-y:auto;
      overscroll-behavior:contain;
      transition:box-shadow .2s ease, background-color .2s ease, border-color .2s ease;
    }
    .side-nav-desktop:hover,
    .side-nav-desktop.is-expanded{
      width:176px;
      align-items:flex-start;
      padding-left:14px;
      padding-right:14px;
    }
    .side-nav-desktop:hover .side-nav-menu,
    .side-nav-desktop.is-expanded .side-nav-menu{
      align-items:stretch;
    }
    .side-nav-desktop .side-nav-logo{
      width:42px;height:42px;border-radius:0;
      border:none;
      background:transparent;
    }
    .side-nav-item,.side-nav-action,.side-nav-btn{
      width:40px;height:40px;border-radius:12px;
      color:#6b7280;
      display:flex;align-items:center;justify-content:center;
      gap:0;padding:0 10px;overflow:hidden;
      transition:background .18s ease,color .18s ease;
    }
    .side-nav-item::after,
    .side-nav-action::after,
    .side-nav-btn::after{
      content:attr(aria-label);
      font-size:12px;font-weight:600;letter-spacing:.02em;
      color:currentColor;white-space:nowrap;
      opacity:0;transform:translateX(-6px);
      max-width:0;overflow:hidden;
      transition:opacity .18s ease,transform .18s ease,max-width .2s ease;
      pointer-events:none;
    }
    .side-nav-desktop:hover .side-nav-item,
    .side-nav-desktop:hover .side-nav-action,
    .side-nav-desktop:hover .side-nav-btn,
    .side-nav-desktop.is-expanded .side-nav-item,
    .side-nav-desktop.is-expanded .side-nav-action,
    .side-nav-desktop.is-expanded .side-nav-btn{
      width:100%;
      justify-content:flex-start;
      gap:10px;
    }
    .side-nav-desktop:hover .side-nav-item::after,
    .side-nav-desktop:hover .side-nav-action::after,
    .side-nav-desktop:hover .side-nav-btn::after,
    .side-nav-desktop.is-expanded .side-nav-item::after,
    .side-nav-desktop.is-expanded .side-nav-action::after,
    .side-nav-desktop.is-expanded .side-nav-btn::after{
      opacity:1;
      transform:translateX(0);
      max-width:140px;
    }
    .side-nav-desktop:hover ~ .page-wrap .toast-container,
    .side-nav-desktop.is-expanded ~ .page-wrap .toast-container{
      left:calc(176px + 22px);
    }
    @media (hover: none) and (pointer: coarse){
      .side-nav-desktop:hover{
        width:72px;
        align-items:center;
        padding-left:12px;
        padding-right:12px;
      }
      .side-nav-desktop:hover .side-nav-menu{align-items:center}
      .side-nav-desktop:hover .side-nav-item,
      .side-nav-desktop:hover .side-nav-action,
      .side-nav-desktop:hover .side-nav-btn{
        width:40px;
        justify-content:center;
        gap:0;
      }
      .side-nav-desktop:hover .side-nav-item::after,
      .side-nav-desktop:hover .side-nav-action::after,
      .side-nav-desktop:hover .side-nav-btn::after{
        opacity:0;
        transform:translateX(-6px);
        max-width:0;
      }
    }
    .side-nav-item.active{
      border-color:rgba(59,130,246,0.25);
      background:#cfe3ff;
      color:#3b82f6;
      box-shadow:0 10px 20px rgba(59,130,246,0.25);
    }
    .page-wrap{
      max-width:none;
      height:100dvh;
      min-height:100dvh;
      padding:var(--page-pad-y) var(--page-pad-x) var(--page-pad-bottom);
      gap:var(--shell-gap);
      overflow:hidden;
    }
    .top-bar{align-items:flex-start;margin-bottom:6px}
    body.countdown-view-active .countdown-header{display:none}
    body.dashboard-view-active .countdown-header{display:none}
    .page-kicker{
      font-size:12px;font-weight:600;letter-spacing:.12em;text-transform:uppercase;
      color:var(--ui-text);
    }
    .page-kicker .board-name-strong{color:#111827}
    .page-kicker .board-name-regular{color:#1f2937}
    .page-kicker .board-name-light{color:#4b5563}
    html[data-theme="dark"] .page-kicker .board-name-strong,
    html[data-theme="dark"] .page-kicker .board-name-regular,
    html[data-theme="dark"] .page-kicker .board-name-light{color:#f8fafc}
    .board-name-strong{font-weight:700}
    .board-name-regular{font-weight:500}
    .board-name-light{font-weight:300}
    .page-title{
      font-size:36px;font-weight:700;letter-spacing:.01em;color:var(--ui-text);
    }
    .card-base{
      background:rgba(255,255,255,0.98);
      border:1px solid var(--ui-line);
      box-shadow:0 18px 30px rgba(15,23,42,0.06);
    }
    .card-base::before,.card-base::after{content:none}
    .home-view .card-base{
      background:rgba(22,26,32,0.9);
      border:1px solid rgba(255,255,255,0.06);
      box-shadow:0 18px 30px rgba(0,0,0,0.35);
    }
    .card-title{
      color:var(--ui-muted);
      font-weight:700;
      letter-spacing:.22em;
    }
    .card-badge{
      background:var(--ui-accent-soft);
      color:var(--ui-accent);
      border:1px solid rgba(29,78,216,0.2);
    }
    .pill{
      background:#f9fafb;
      border:1px solid var(--ui-line);
      color:var(--ui-muted);
    }
    .home-view{
      min-height:calc(100vh - 170px);
      animation:homeRise .6s cubic-bezier(.22,1,.36,1);
    }
    .home-mini{
      display:flex;align-items:center;gap:10px;font-size:13px;color:var(--ui-muted);
    }
    .home-mini span:last-child{color:var(--ui-text);font-weight:600}
    .home-data{display:none}
    .home-board-title{
      margin-top:6px;
      font-size:36px;
      font-weight:700;
      letter-spacing:.06em;
      color:var(--ui-text);
      text-transform:uppercase;
    }
    .countdown-header{
      display:flex;
      flex-direction:column;
      align-items:flex-start;
      gap:4px;
      min-width:140px;
    }
    .view-label{
      font-size:14px;
      font-weight:700;
      letter-spacing:.22em;
      text-transform:uppercase;
      color:var(--ui-muted);
      padding-top:6px;
    }
    .countdown-label{
      font-size:12px;
      letter-spacing:.32em;
      text-transform:uppercase;
      color:var(--ui-muted);
    }
    #countdown{
      font-size:28px;
      font-weight:700;
      letter-spacing:.08em;
      color:var(--ui-text);
      text-align:left;
    }
    @keyframes homeRise{
      from{opacity:0;transform:translateY(16px)}
      to{opacity:1;transform:translateY(0)}
    }
    @media(max-width:760px){
      :root{--page-pad-x:18px;--page-pad-y:22px;--page-pad-bottom:40px}
      .page-title{font-size:30px}
      .home-board-title{font-size:28px}
    }
    @media(max-width:540px){
      .side-nav-mobile{width:auto}
    }
    @media(max-width:600px){
      html,body{height:auto}
      body{overflow-y:auto}
      .app-shell{height:auto}
      :root{
        --page-pad-x:16px;
        --page-pad-y:16px;
        --page-pad-bottom:calc(108px + env(safe-area-inset-bottom, 0px));
      }
      .page-wrap{height:auto;min-height:auto;overflow:visible}
    }

    .confirm-overlay,
    .settings-overlay,
    .ws-alert-overlay,
    .disconnect-overlay,
    .controls-overlay,
    #launcherOverlay,
    #inspectionOverlay,
    #missionOverlay,
    #loadcellOverlay,
    #lockoutOverlay,
    #forceOverlay,
    #missionRequiredOverlay,
    #noMotorOverlay,
    #tetrisOverlay,
    #tetrisWinOverlay,
    #tetrisPrizeOverlay,
    #easterOverlay,
    #launcherAutoOverlay {
      z-index:95;
    }
  </style>
</head>
<body>
  <!-- ✅ LOCKOUT 배경 오버레이 -->
  <div id="lockoutBg" class="lockout-bg" aria-hidden="true"></div>

  <!-- ✅ SPLASH: 로고 먼저 → 2초 뒤 로딩중 → 이미지 프리로드 완료되면 진입 -->
  <div id="splash" aria-label="loading">
    <img class="splash-logo splash-logo--altis" src="img/altis_logo2.svg" alt="ALTIS">
    <img class="splash-logo splash-logo--flash" src="img/Flash_logo.svg" alt="FLASH">
    <div id="splashLoading" data-i18n-html="splashLoading">로딩중<span id="splashDots"></span></div>
  </div>

    <div id="toastContainer" class="toast-container"></div>

    <div class="app-shell">
    <aside class="side-nav side-nav-desktop" aria-label="sidebar">
      <div class="side-nav-logo">
        <img src="img/Flash_logo.svg " alt="FLASH">
      </div>
      <div class="side-nav-menu">
        <button class="side-nav-item" data-page-title="Home" aria-label="Home">
          <svg viewBox="0 0 24 24"><path d="M4 12l8-7 8 7"/><path d="M6 10v9h12v-9"/></svg>
        </button>
        <button class="side-nav-item active" data-page-title="Dashboard" aria-label="Dashboard">
          <svg viewBox="0 0 24 24">
            <path d="M3.5 16a8.5 8.5 0 0 1 17 0"/>
            <path d="M12 15l2.8-3"/>
          </svg>
        </button>
        <button class="side-nav-item" data-page-title="Countdown" aria-label="Countdown">
          <svg viewBox="0 0 24 24">
            <path d="M10 2h4"/>
            <circle cx="12" cy="13" r="7"/>
            <path d="M12 10v4l3 2"/>
          </svg>
        </button>
        <button class="side-nav-item" data-page-title="Hardware" aria-label="Hardware">
          <svg viewBox="0 0 24 24"><path d="M7 3v6"/><path d="M17 3v6"/><path d="M3 11h18"/><path d="M5 11v7h14v-7"/><path d="M8 21h8"/></svg>
        </button>
        <button id="sidebarTerminalBtn" class="side-nav-item" data-page-title="Terminal" aria-label="Terminal">
          <svg viewBox="0 0 24 24"><path d="M3 6h18v12H3z"/><path d="M7 10l3 2-3 2"/><path d="M12 14h5"/></svg>
        </button>
        <div class="side-nav-divider" aria-hidden="true"></div>
        <button id="launcherOpenBtn" class="side-nav-action js-launcher-open launcher-desktop-only" aria-label="Launcher">
          <svg viewBox="0 0 24 24">
            <path d="M7 17l10-10"/>
            <path d="M9 7h8v8"/>
            <path d="M6 18l-2 2"/>
          </svg>
        </button>
      </div>
      <div class="side-nav-spacer"></div>
      <button id="sidebarSettingsBtn" class="side-nav-btn js-sidebar-settings" aria-label="Settings">
        <svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="3"/><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1-2.83 2.83l-.06-.06A1.65 1.65 0 0 0 15 19.4a1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-4 0v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83-2.83l.06-.06A1.65 1.65 0 0 0 4.6 15a1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1 0-4h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 1 1 2.83-2.83l.06.06A1.65 1.65 0 0 0 9 4.6a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 4 0v.09A1.65 1.65 0 0 0 15 4.6a1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 1 1 2.83 2.83l-.06.06A1.65 1.65 0 0 0 19.4 9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 0 4h-.09A1.65 1.65 0 0 0 19.4 15z"/></svg>
      </button>
    </aside>
    <aside class="side-nav side-nav-mobile" aria-label="mobile navigation">
      <div id="mobileControlsPanel" class="mobile-controls-panel" aria-hidden="true">
        <div class="mobile-controls-handle" aria-hidden="true"></div>
        <div class="mobile-controls-head">
          <div class="mobile-controls-head-title">CONTROL PANEL</div>
        </div>
        <div class="mobile-controls-toolbar mobile-controls-toolbar-top">
          <button type="button" class="toolbar-btn mobile-toolbar-btn" data-mobile-control="mission">미션 지정</button>
          <button type="button" class="toolbar-btn mobile-toolbar-btn" data-mobile-control="export">보고서 내보내기</button>
        </div>
        <div class="mobile-controls-slot">
          <button type="button" class="control-tile mobile-control mobile-control-primary" data-mobile-control="sequence">
            <div class="mobile-control-main">
              <div class="mobile-control-text">
              <div id="mobileSequenceLabel" class="control-tile-label" data-i18n="sequenceStartBtn">SEQUENCE START</div>
                <div class="control-tile-sub">시퀀스 작동 시작/종료</div>
              </div>
              <span class="mobile-control-status" data-mobile-status="sequence">준비</span>
            </div>
          </button>
          <button type="button" class="control-tile mobile-control mobile-control-danger" data-mobile-control="force">
            <div>
              <div class="control-tile-label" data-i18n="forceIgniteBtn">강제 점화</div>
              <div class="control-tile-sub" data-i18n="forceIgniteSub">고위험 동작</div>
            </div>
            <div class="control-tile-actions">
              <span class="pill pill-red" data-mobile-pill="force" data-i18n="forceIgniteDanger">위험</span>
            </div>
          </button>
          <button type="button" class="control-tile mobile-control" data-mobile-control="serial">
            <div>
              <div class="control-tile-label" data-i18n="controlSerialLabel">WebSerial</div>
              <div class="control-tile-sub" data-i18n="controlSerialSub">시리얼 연결</div>
            </div>
            <div class="control-tile-actions">
              <span class="pill pill-gray" data-mobile-pill="serial">OFF</span>
            </div>
          </button>
          <button type="button" class="control-tile mobile-control" data-mobile-control="inspection">
            <div>
              <div class="control-tile-label" data-i18n="controlInspectionLabel">설비 점검</div>
            </div>
            <div class="control-tile-actions">
              <span class="pill pill-gray" data-mobile-pill="inspection">대기</span>
            </div>
          </button>
          <button type="button" class="control-tile mobile-control" data-mobile-control="safety">
            <div>
              <div class="control-tile-label" data-i18n="controlSafetyLabel">안전 모드</div>
              <div class="control-tile-sub" data-i18n="controlSafetySub">Safety Mode</div>
            </div>
            <div class="control-tile-actions">
              <span class="pill pill-gray" data-mobile-pill="safety">OFF</span>
            </div>
          </button>
        </div>
      </div>
      <div class="mobile-abort-wrapper">
        <div id="mobileAbortPanel" class="mobile-abort-panel">
          <div class="mobile-abort-help">시퀀스를 중단하시려면<br>아래 버튼을 클릭하세요</div>
          <button id="mobileAbortBtn" class="mobile-abort-btn" type="button" aria-label="Abort sequence">ABORT</button>
        </div>
      </div>
      <div class="side-nav-menu">
        <button class="side-nav-item active" data-page-title="Dashboard" aria-label="Dashboard">
          <svg viewBox="0 0 24 24">
            <path d="M3.5 16a8.5 8.5 0 0 1 17 0"/>
            <path d="M12 15l2.8-3"/>
          </svg>
        </button>
        <button class="side-nav-item" data-page-title="Hardware" aria-label="Hardware">
          <svg viewBox="0 0 24 24"><path d="M7 3v6"/><path d="M17 3v6"/><path d="M3 11h18"/><path d="M5 11v7h14v-7"/><path d="M8 21h8"/></svg>
        </button>
        <button class="side-nav-item" data-page-title="Terminal" aria-label="Terminal">
          <svg viewBox="0 0 24 24"><path d="M3 6h18v12H3z"/><path d="M7 10l3 2-3 2"/><path d="M12 14h5"/></svg>
        </button>
        <div class="side-nav-divider side-nav-divider-mobile" aria-hidden="true"></div>
        <button class="side-nav-btn js-launcher-open" aria-label="Launcher">
          <svg viewBox="0 0 24 24">
            <path d="M7 17l10-10"/>
            <path d="M9 7h8v8"/>
            <path d="M6 18l-2 2"/>
          </svg>
        </button>
        <button class="side-nav-btn js-controls-open" aria-label="Control panel">
          <svg viewBox="0 0 24 24">
            <rect x="4" y="5" width="16" height="6" rx="2"/>
            <rect x="4" y="13" width="10" height="6" rx="2"/>
          </svg>
        </button>
        <button class="side-nav-btn js-sidebar-settings" aria-label="Settings">
          <svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="3"/><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1-2.83 2.83l-.06-.06A1.65 1.65 0 0 0 15 19.4a1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-4 0v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83-2.83l.06-.06A1.65 1.65 0 0 0 4.6 15a1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1 0-4h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 1 1 2.83-2.83l.06.06A1.65 1.65 0 0 0 9 4.6a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 4 0v.09A1.65 1.65 0 0 0 15 4.6a1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 1 1 2.83 2.83l-.06.06A1.65 1.65 0 0 0 19.4 9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 0 4h-.09A1.65 1.65 0 0 0 19.4 15z"/></svg>
        </button>
      </div>
    </aside>

    <div class="page-wrap">
    <header class="top-bar">
      <div class="top-left">
        <div class="countdown-header">
          <div id="countdownLabel" class="countdown-label">COUNTDOWN</div>
          <div id="countdown">T- --</div>
        </div>
        <div id="viewLabel" class="view-label hidden">Dashboard</div>
      </div>
      <div class="top-right">
        <div id="statusBar" class="status-bar is-offline" aria-label="Device status">
          <div id="connStatusLabel" class="status-conn-block">
            <svg class="conn-icon" viewBox="0 0 24 24" aria-hidden="true">
              <path d="M10 13a5 5 0 0 1 0-7l1.5-1.5a5 5 0 1 1 7 7L17 13"/>
              <path d="M14 11a5 5 0 0 1 0 7L12.5 19.5a5 5 0 1 1-7-7L7 11"/>
            </svg>
            <span id="connStatusText" class="status-conn-text">DISCONNECTED</span>
          </div>
          <div class="status-battery" aria-label="Battery">
            <span class="battery-icon" aria-hidden="true">
              <span id="batteryFill" class="battery-fill"></span>
            </span>
            <span id="batteryStatus" class="battery-text">--%</span>
          </div>
          <span id="commStatus" class="sr-only">DISCONNECTED</span>
        </div>
      </div>
    </header>

    <section id="homeView" class="home-view hidden"></section>

    <section id="terminalView" class="dashboard-view terminal-view hidden">
      <main class="shell">
        <section class="card-base log-card" style="background:#020617;border-color:#111827;">
          <div class="log-header"><div class="log-title">TERMINAL</div></div>
          <div class="terminal-shell" style="box-shadow:none;margin-top:0;">
            <div class="terminal-header">
              <div id="termTitle" class="term-title">hanwool-tms@board: ~</div>
              <div class="term-actions">
                <button id="copyLogBtn" class="term-copy-btn" type="button">COPY</button>
              </div>
            </div>
            <div id="logView"></div>
            <div class="terminal-input-row">
              <span class="terminal-prompt">$</span>
              <input id="termInput" class="terminal-input" type="text" autocomplete="off" placeholder="터미널 명령은 최고 권한입니다. 안전 확인 후 실행하세요.">
              <button id="termSendBtn" class="terminal-send-btn" type="button">SEND</button>
            </div>
            <div id="tetrisOverlay" class="tetris-overlay hidden" aria-hidden="true">
              <div class="tetris-hud">
                <span id="tetrisScore">TETRIS · SCORE 000</span>
                <span id="tetrisLines">LINES 0</span>
              </div>
              <pre id="tetrisScreen" class="tetris-screen" aria-label="Tetris"></pre>
              <div class="tetris-help">←/→ move·↑ rotate·↓ drop·C hold·ESC to exit</div>
            </div>
          </div>
        </section>
      </main>
    </section>

    <section id="hardwareView" class="dashboard-view hardware-view hidden">
      <main class="shell">
        <section class="card-base hardware-card">
          <div class="card-header">
            <div class="card-title">HARDWARE</div>
          </div>
          <div class="hardware-title">Hardware Overview</div>
          <div class="hardware-desc">보드 정보/핀맵/연결 상태를 요약하는 페이지를 구성할 수 있습니다.</div>
          <div class="settings-row" style="margin-top:16px;">
            <div>
              <div class="settings-label">업데이트</div>
              <div class="hint-mini">펌웨어 + FLASH 프로그램 최신 버전 확인</div>
            </div>
            <button id="swUpdateBtn" class="settings-btn" type="button">업데이트 확인</button>
          </div>
        </section>
      </main>
    </section>

    <section id="countdownView" class="dashboard-view countdown-view hidden">
      <main class="shell">
        <section class="card-base countdown-card">
          <div class="countdown-hero">
            <div class="countdown-hero-label">COUNTDOWN</div>
            <div id="countdownBig" class="countdown-hero-value">T- --:--.---</div>
            <div id="countdownStatus" class="countdown-hero-status">--</div>
          </div>
        </section>
      </main>
    </section>

    <div id="dashboardView" class="dashboard-view">
    <main class="shell">
      <div class="gyro-hidden" aria-hidden="true">
        <canvas id="gyroGl" width="240" height="240"></canvas>
        <canvas id="navBall" width="240" height="240" data-fixed-width="240" data-fixed-height="240"></canvas>
      </div>
      <div class="row-top">
        <section class="card-base main-card">
        <div class="card-header">
          <div class="card-title">STATUS</div>
        </div>

        <div class="status-top">
          <div class="status-left">
            <div class="status-row">
              <div class="status-line">
              <div class="status-title status-title-stack">
                <div class="status-main-line">
                  <div id="statusText">System ready</div>
                </div>
                <div class="status-countdown-inline">
                  <div id="countdownMobile" class="countdown-mobile">T- --</div>
                </div>
              </div>
              </div>
            </div>

            <div class="pill-row status-meta-row">
              <div class="pill">
                <strong>WS</strong>
                <span id="snap-hz">-- Hz</span>
              </div>

              <div class="pill">
                <strong>HX711</strong>
                <span id="hx-hz">-- Hz</span>
              </div>

              <div class="pill"><strong>Mode</strong> <span id="mode-pill">-</span></div>
            </div>
          </div>
          <div class="status-gyro">
            <canvas id="gyroGlPreview" class="status-gyro-canvas status-gyro-canvas--3d" width="180" height="180" aria-label="gyro preview"></canvas>
            <canvas id="navBallPreview" class="status-gyro-canvas status-gyro-canvas--navball" width="180" height="180" aria-label="navball preview"></canvas>
          </div>

        </div>
      </section>
        <section class="card-base motor-card">
          <div class="card-header">
            <div class="card-title">QUICK DATA</div>
            <div class="card-badge">LIVE Telemetry</div>
          </div>
          <div class="quick-data-body">
            <div class="status-metrics quick-metrics">
              <div class="status-metric">
                <div class="status-metric-label">Thrust</div>
                <div id="thrust" class="status-metric-value">--</div>
              </div>
              <div class="status-metric">
                <div class="status-metric-label">Pressure</div>
                <div id="pressure" class="status-metric-value">--</div>
              </div>
            </div>
            <div class="item-grid">
            <div class="item item-quick-state">
              <span class="label"><span class="label-icon"></span>State</span>
              <span id="quick-state" class="value"><span class="num">--</span></span>
            </div>
            <div class="item">
              <span class="label"><span class="label-icon"></span>Delay</span>
              <span id="motorDelay" class="value"><span class="num">--.-</span><span class="unit">S</span></span>
            </div>
            <div class="item">
              <span class="label"><span class="label-icon"></span>Burn</span>
              <span id="motorBurn" class="value"><span class="num">--.-</span><span class="unit">S</span></span>
            </div>
            <div class="item">
              <span class="label"><span class="label-icon"></span>Switch</span>
              <span id="quick-sw" class="value"><span class="num">--</span></span>
            </div>
            <div class="item">
              <span class="label"><span class="label-icon"></span>Igniter</span>
              <span id="quick-igniter" class="value"><span class="num">--</span></span>
            </div>
            <div class="item">
              <span class="label"><span class="label-icon"></span>RELAY1</span>
              <span id="quick-relay-1" class="value"><span class="num">--</span></span>
            </div>
            <div class="item">
              <span class="label"><span class="label-icon"></span>RELAY2</span>
              <span id="quick-relay-2" class="value"><span class="num">--</span></span>
            </div>
            <div class="item">
              <span class="label"><span class="label-icon"></span>Loop</span>
              <span id="loop-pill" class="value"><span class="num">--</span><span class="unit">ms</span></span>
            </div>
            <div class="item item-null">
              <span class="label"><span class="label-icon"></span>null</span>
              <span class="value"><span class="num">.</span></span>
            </div>
            </div>
          </div>
        </section>
      </div>

      <div class="row-bottom">
        <section class="card-base charts-card">
        <div class="chart-header">
          <div class="chart-title-main chart-title-main--daq">THRUST & PRESSURE TREND</div>
          <div class="chart-title-main chart-title-main--flight">GYRO ACCELERATION TREND</div>
          <div class="chart-controls">
            <button id="chartZoomOut" class="chart-btn">-</button>
            <button id="chartZoomIn" class="chart-btn">+</button>
            <button id="chartLeft" class="chart-btn">◀</button>
            <button id="chartRight" class="chart-btn">▶</button>
            <button id="chartLive" class="chart-btn chart-btn-live">LIVE</button>
          </div>
        </div>

        <div class="chart-row">
          <div class="chart-box chart-box--daq">
            <div class="chart-box-header">
              <div class="chart-title">Thrust</div>
              <div class="chart-badge" data-badge="thrust-unit">RED · kgf</div>
            </div>
            <canvas id="thrustChart"></canvas>
          </div>

          <div class="chart-box chart-box--daq">
            <div class="chart-box-header">
              <div class="chart-title">Pressure</div>
              <div class="chart-badge" data-badge="pressure-unit">BLUE · V</div>
            </div>
            <canvas id="pressureChart"></canvas>
          </div>

          <div class="chart-box chart-box--flight">
            <div class="chart-box-header">
              <div class="chart-title">Acceleration</div>
              <div class="chart-badge">G · |A|</div>
            </div>
            <canvas id="accelChartFlight"></canvas>
          </div>

          <div class="chart-box chart-box--flight">
            <div class="chart-box-header">
              <div class="chart-title">Accel XYZ</div>
              <div class="chart-badge">X/Y/Z · g</div>
            </div>
            <canvas id="accelXYZChartFlight"></canvas>
          </div>
        </div>
      </section>
        <section id="controlsCard" class="card-base controls-card controls-mobile-hidden">
          <div id="controlsHeader" class="card-header">
            <div>
              <div class="card-title">CONTROL PANEL</div>
              <div id="controlsHelpLink" class="controls-help" data-i18n="controlsHelpLink">도움말로 바로가기</div>
            </div>
            <div class="controls-header-actions"></div>
          </div>

          <div id="controlsMain" class="controls-grid">
            <div class="controls-toolbar">
              <button id="missionOpenBtn" class="toolbar-btn">미션 지정</button>
              <button id="exportCsvBtn" class="toolbar-btn" data-i18n="exportXlsx">보고서 내보내기</button>
            </div>

            <div class="controls-main-row">
              <div class="primary-btn-wrap">
                <button id="igniteBtn" class="primary-btn sequence-btn">
                  <span class="sequence-btn-text">
                    <span id="igniteBtnLabel" class="sequence-btn-title" data-i18n="sequenceStartBtn">SEQUENCE START</span>
                    <span class="sequence-btn-sub">시퀀스 제어</span>
                  </span>
                  <span id="sequenceStatusDesktop" class="sequence-status-pill">준비</span>
                </button>
              </div>
              <div class="abort-btn-wrap">
                <button id="abortBtn" class="secondary-btn" disabled>ABORT</button>
              </div>
            </div>
            <div class="control-row">
              <button id="forceIgniteBtn" class="control-tile is-btn is-danger force-tile">
                <div>
                  <div class="control-tile-label" data-i18n="forceIgniteBtn">강제 점화</div>
                  <div class="control-tile-sub" data-i18n="forceIgniteSub">고위험 동작</div>
                </div>
                <div class="control-tile-actions">
                  <span class="pill pill-red" data-i18n="forceIgniteDanger">위험</span>
                </div>
              </button>

              <div id="serialControlTile" class="control-tile is-btn" role="button" tabindex="0">
                <div>
                  <div id="serialControlTitle" class="control-tile-label" data-i18n="controlSerialLabel">WebSerial</div>
                  <div id="serialControlSub" class="control-tile-sub" data-i18n="controlSerialSub">시리얼 연결</div>
                </div>
                <div class="control-tile-actions">
                  <input type="checkbox" id="serialToggle" class="hidden-input">
                  <button id="serialTogglePill" class="pill pill-toggle is-off" type="button">OFF</button>
                </div>
              </div>

              <div id="inspectionOpenBtn" class="control-tile is-btn" role="button" tabindex="0">
                <div>
                  <div class="control-tile-label" data-i18n="controlInspectionLabel">설비 점검</div>
                </div>
                <div class="control-tile-actions">
                  <span id="inspectionStatusPill" class="pill pill-gray" data-i18n="inspectionWait">대기</span>
                </div>
              </div>

              <div id="safetyModeTile" class="control-tile is-btn" role="button" tabindex="0">
                <div>
                  <div class="control-tile-label" data-i18n="controlSafetyLabel">안전 모드</div>
                  <div class="control-tile-sub" data-i18n="controlSafetySub">Safty Mode</div>
                </div>
                <div class="control-tile-actions">
                  <input type="checkbox" id="safeModeToggle" class="hidden-input">
                  <button id="safeModePill" class="pill pill-toggle is-off" type="button">OFF</button>
                </div>
              </div>

            </div>
          </div>

          <div id="devToolsPanel" class="devtools-panel">
            <div class="devtools-header">
              <div class="devtools-title" data-i18n="devToolsTitle">DEV TOOLS</div>
              <button id="devToolsClose" class="devtools-close-btn" type="button" aria-label="close">×</button>
            </div>
            <div class="devtools-divider">
              <span class="devtools-divider-label" data-i18n="devRelayStatus">릴레이 상태</span>
            </div>
            <div class="devtools-relay-row">
              <button id="devRelay1Btn" class="devtools-relay-btn" type="button" data-i18n="devRelay1Btn">RELAY 1</button>
              <button id="devRelay2Btn" class="devtools-relay-btn" type="button" data-i18n="devRelay2Btn">RELAY 2</button>
              <button id="devWsOffBtn" class="devtools-relay-btn span-2" type="button" data-i18n="devWsOffBtn">WS OFF (SIM)</button>
              <button id="devLoadcellErrBtn" class="devtools-relay-btn span-2" type="button" data-i18n="devLoadcellErrBtn">LOADCELL ERROR (SIM)</button>
            </div>
          </div>
        </section>
      </div>
    </main>

    </div>

    <!-- 설정 -->
    <div id="settingsOverlay" class="settings-overlay hidden">
      <div class="settings-dialog">
        <div class="settings-header">
          <div class="settings-title">SETTINGS</div>
          <button id="settingsClose" class="settings-close-btn">×</button>
        </div>

        <div class="settings-body">
          <nav class="settings-nav">
            <div class="settings-nav-title" data-i18n="settingsNavTitle">섹션</div>
            <button class="settings-nav-btn active" data-target="connect"><span data-i18n="settingsNavConnect">하드웨어</span><span class="settings-nav-badge">Hardware</span></button>
            <button class="settings-nav-btn" data-target="units"><span data-i18n="settingsNavInterface">인터페이스</span><span class="settings-nav-badge">Interface</span></button>
            <button class="settings-nav-btn" data-target="sequence"><span data-i18n="settingsNavSequence">시퀀스</span><span class="settings-nav-badge">Sequence</span></button>
            <button class="settings-nav-btn" data-target="safety"><span data-i18n="settingsNavSafety">SAFETY</span><span class="settings-nav-badge">Safety</span></button>
            <button class="settings-nav-btn" data-target="fw"><span data-i18n="settingsNavInfo">정보</span><span class="settings-nav-badge">Info</span></button>
          </nav>

          <div class="settings-panels">
            <!-- CONNECT -->
            <div class="settings-panel active" data-panel="connect">

              <div class="settings-group">
                <div class="settings-group-title" data-i18n="settingsHardwareInfoTitle">하드웨어 정보</div>
                <div class="settings-row">
                  <div>
                    <div class="settings-label" data-i18n="settingsBoardNameLabel">보드 이름</div>
                  </div>
                  <span id="hwBoardName" class="settings-desc mono">-</span>
                </div>
                <div class="settings-row">
                  <div>
                    <div class="settings-label" data-i18n="settingsFirmwareNameLabel">펌웨어 정보</div>
                  </div>
                  <span id="hwFirmwareName" class="settings-desc mono">-</span>
                </div>
                <div class="settings-row">
                  <div>
                    <div class="settings-label" data-i18n="settingsProtocolLabel">프로토콜</div>
                  </div>
                  <span id="hwProtocolName" class="settings-desc mono">-</span>
                </div>
              </div>

              <div class="settings-group">
                <div class="settings-group-title" data-i18n="settingsGroupSerial">시리얼</div>

                <div class="settings-row">
                  <div>
                    <div class="settings-label" data-i18n="settingsSerialStatusLabel">시리얼 연결 상태</div>
                  </div>
                  <div id="serialStatus" class="serial-pill">
                    <span class="dot"></span><span class="mono" id="serialStatusText">DISCONNECTED</span>
                  </div>
                </div>

                <div class="settings-row">
                  <div>
                    <div class="settings-label" data-i18n="settingsSerialRxLabel">시리얼 수신 로그 반영</div>
                    <div class="hint-mini" data-i18n="settingsSerialRxHint">보드가 JSON 라인을 출력하면 그대로 파싱해 UI/차트에 반영합니다.</div>
                  </div>
                  <label class="switch" title="Serial RX">
                    <input type="checkbox" id="serialRxToggle" checked>
                    <span class="slider"></span>
                  </label>
                </div>

                <div class="settings-row">
                  <div>
                    <div class="settings-label" data-i18n="settingsSerialTxLabel">시리얼 명령 전송</div>
                    <div class="hint-mini" data-i18n="settingsSerialTxHint">ON이면 /set?… 같은 HTTP 명령을 시리얼 “SET …” 라인으로도 전송합니다.</div>
                  </div>
                  <label class="switch" title="Serial TX">
                    <input type="checkbox" id="serialTxToggle" checked>
                    <span class="slider"></span>
                  </label>
                </div>

                <div class="settings-row">
                  <div>
                    <div class="settings-label" data-i18n="settingsWsKeepLabel">WebSocket 유지</div>
                    <div class="hint-mini" data-i18n="settingsWsKeepHint">연결이 끊겨도 자동 재연결을 시도합니다.</div>
                  </div>
                  <span class="settings-desc mono">ws /ws</span>
                </div>

              </div>

              <div class="settings-group">
                <div class="settings-group-title" data-i18n="settingsGroupOperation">운용 모드</div>
                <div class="settings-row">
                  <div>
                    <div class="settings-label" data-i18n="settingsOpModeLabel">모드</div>
                    <div class="hint-mini" data-i18n="settingsOpModeHint">플라이트/DAQ 모드를 전환합니다.</div>
                  </div>
                  <select id="opModeSelect" class="settings-select">
                    <option value="daq" data-i18n="opModeDaq">DAQ</option>
                    <option value="flight" data-i18n="opModeFlight">Flight</option>
                  </select>
                </div>
              </div>

              <div class="settings-group">
                <div class="settings-group-title" data-i18n="loadcellSettingsTitle">로드셀 보정</div>
                <div class="settings-row">
                  <div>
                    <div class="settings-label" data-i18n="loadcellSettingsLabel">로드셀 영점/보정</div>
                    <div class="hint-mini" data-i18n="loadcellSettingsHint">영점/보정 값을 보드에 저장합니다.</div>
                  </div>
                  <button id="loadcellCalOpen" class="settings-btn" data-i18n="loadcellOpenBtn">로드셀 영점 조절</button>
                </div>
              </div>
              <div class="settings-group">
                <div class="settings-group-title" data-i18n="settingsWifiInfoTitle">Wi-Fi</div>
                <div class="settings-row">
                  <div>
                    <div class="settings-label" data-i18n="settingsWifiModeLabel">모드</div>
                  </div>
                  <span id="wifiMode" class="settings-desc mono">-</span>
                </div>
                <div class="settings-row">
                  <div>
                    <div class="settings-label" data-i18n="settingsWifiSsidLabel">SSID</div>
                  </div>
                  <span id="wifiSsid" class="settings-desc mono">-</span>
                </div>
                <div class="settings-row">
                  <div>
                    <div class="settings-label" data-i18n="settingsWifiChannelLabel">채널</div>
                  </div>
                  <span id="wifiChannel" class="settings-desc mono">-</span>
                </div>
                <div class="settings-row">
                  <div>
                    <div class="settings-label" data-i18n="settingsWifiBandwidthLabel">대역폭</div>
                  </div>
                  <span id="wifiBandwidth" class="settings-desc mono">-</span>
                </div>
                <div class="settings-row">
                  <div>
                    <div class="settings-label" data-i18n="settingsWifiTxPowerLabel">TX 전력</div>
                  </div>
                  <span id="wifiTxPower" class="settings-desc mono">-</span>
                </div>
                <div class="settings-row">
                  <div>
                    <div class="settings-label" data-i18n="settingsWifiIpLabel">IP</div>
                  </div>
                  <span id="wifiIp" class="settings-desc mono">-</span>
                </div>
                <div class="settings-row">
                  <div>
                    <div class="settings-label" data-i18n="settingsWifiStaCountLabel">접속 장치</div>
                  </div>
                  <span id="wifiStaCount" class="settings-desc mono">-</span>
                </div>
                <div class="settings-row">
                  <div>
                    <div class="settings-label" data-i18n="settingsWifiRssiLabel">신호(RSSI)</div>
                  </div>
                  <span id="wifiRssi" class="settings-desc mono">-</span>
                </div>
              </div>
            </div>

            <!-- UNITS -->
            <div class="settings-panel" data-panel="units">
              <div class="settings-group">
                <div class="settings-group-title" data-i18n="settingsGroupInterface">인터페이스 설정</div>
                <div class="settings-row">
                  <div>
                    <div class="settings-label" data-i18n="settingsThrustUnitLabel">추력 단위</div>
                    <div class="hint-mini" data-i18n-html="settingsThrustUnitHint">표시 단위만 변환됩니다. 저장 데이터(RAW)는 <strong>kgf 기준</strong>입니다.</div>
                  </div>
                  <select id="unitThrust" class="settings-select">
                    <option value="kgf">kgf</option>
                    <option value="N">N</option>
                  </select>
                </div>
                <div class="settings-row">
                  <div>
                    <div class="settings-label" data-i18n="settingsPressureUnitLabel">압력 단위</div>
                    <div class="hint-mini" data-i18n="settingsPressureUnitHint">현재는 Voltage(V) 기준. 센서 보정이 들어가면 kPa/psi로 확장 가능합니다.</div>
                  </div>
                </div>

                <div class="settings-row">
                  <div>
                    <div class="settings-label" data-i18n="settingsLangLabel">언어</div>
                    <div class="hint-mini" data-i18n="settingsLangHint">표시 언어를 변경합니다.</div>
                  </div>
                 <select id="langSelect" class="settings-select">
                    <option value="ko" data-i18n="langOptionKo">한국어</option>
                    <option value="en" data-i18n="langOptionEn">English</option>
                  </select>
                </div>
                <div class="settings-row">
                  <div>
                    <div class="settings-label" data-i18n="settingsThemeLabel">다크 모드</div>
                    <div class="hint-mini" data-i18n="settingsThemeHint">라이트/다크 테마를 전환합니다.</div>
                  </div>
                  <label class="switch">
                    <input type="checkbox" id="themeToggle">
                    <span class="slider"></span>
                  </label>
                </div>
                <div class="settings-row">
                  <div>
                    <div class="settings-label" data-i18n="settingsGyroPreviewLabel">자이로 프리뷰</div>
                    <div class="hint-mini" data-i18n="settingsGyroPreviewHint">플라이트 모드 프리뷰 형태를 선택합니다.</div>
                  </div>
                  <select id="gyroPreviewSelect" class="settings-select">
                    <option value="3d" data-i18n="settingsGyroPreview3d">3D Attitude</option>
                    <option value="navball" data-i18n="settingsGyroPreviewNav">Navball</option>
                  </select>
                </div>
                <div class="settings-row">
                  <div>
                    <div class="settings-label" data-i18n="settingsSimLabel">가상 기기 (개발자 모드)</div>
                    <div class="hint-mini" data-i18n="settingsSimHint">가상 센서 값을 생성해 모든 기능을 테스트합니다.</div>
                  </div>
                  <label class="switch" title="Simulation">
                    <input type="checkbox" id="simToggle">
                    <span class="slider"></span>
                  </label>
                </div>
              </div>

            </div>

            <!-- SEQUENCE -->
            <div class="settings-panel" data-panel="sequence">
              <div class="settings-group">
                <div class="settings-group-title" data-i18n="settingsGroupSequence">점화 시퀀스</div>
                <div class="settings-row">
                  <div>
                    <div class="settings-label" data-i18n="settingsIgnitionTimeLabel">점화 시간 (릴레이 ON)</div>
                    <div class="hint-mini" data-i18n-html="settingsIgnitionTimeHint">보드에 <span class="mono">/set?ign_ms=...</span> 전송. 과열/인가 시간에 주의.</div>
                  </div>
                  <div class="settings-number-wrap">
                    <div class="settings-number-row">
                      <input id="ignTimeInput" type="number" min="1" max="10" step="1" class="settings-number">
                      <button id="ignTimeSave" class="settings-inline-btn" data-i18n="settingsSaveBtn">저장</button>
                    </div>
                    <div class="settings-desc" data-i18n="settingsIgnitionTimeRange">1~10초</div>
                  </div>
                </div>
              </div>

              <div class="settings-group">
                <div class="settings-group-title" data-i18n="settingsGroupCountdown">카운트다운</div>
                <div class="settings-row">
                  <div>
                    <div class="settings-label" data-i18n="settingsCountdownTimeLabel">카운트다운 시간</div>
                    <div class="hint-mini" data-i18n-html="settingsCountdownTimeHint">보드에 <span class="mono">/set?cd_ms=...</span> 전송. 인원 통제 시간을 충분히 확보.</div>
                  </div>
                  <div class="settings-number-wrap">
                    <div class="settings-number-row">
                      <input id="countdownSecInput" type="number" min="3" max="30" step="1" class="settings-number">
                      <button id="countdownSave" class="settings-inline-btn" data-i18n="settingsSaveBtn">저장</button>
                    </div>
                    <div class="settings-desc" data-i18n="settingsCountdownTimeRange">3~30초</div>
                  </div>
                </div>
              </div>
            </div>

            <!-- SAFETY -->
            <div class="settings-panel" data-panel="safety">
              <div class="settings-group">
                <div class="settings-group-title" data-i18n="settingsGroupSafety">SAFETY</div>

                <div class="settings-row">
                  <div>
                    <div class="settings-label">RelaySafe (LOCKOUT)</div>
                    <div class="hint-mini" data-i18n-html="settingsRelaySafeHint">릴레이가 <strong>비정상</strong>일때 모든 제어권한 정지 + 재시작 후 제어 권한 반환</div>
                  </div>
                  <label class="switch">
                    <input type="checkbox" id="relaySafeToggle" checked>
                    <span class="slider"></span>
                  </label>
                </div>

                <div class="settings-row">
                  <div>
                    <div class="settings-label">Igniter Safety Test (IGS)</div>
                    <div class="hint-mini" data-i18n="settingsIgniterSafetyHint">이그나이터의 결선 확인/테스트</div>
                  </div>
                  <label class="switch">
                    <input type="checkbox" id="igswitch">
                    <span class="slider"></span>
                  </label>
                </div>

                <div class="settings-row">
                  <div>
                    <div class="settings-label" data-i18n="settingsSafetyToastLabel">안전 알림</div>
                    <div class="hint-mini" data-i18n="settingsSafetyToastHint">각종 상태 변화 시 토스트 알림이 표시됩니다. 클릭하면 닫힙니다.</div>
                  </div>
                </div>
              </div>
            </div>

            <!-- FW -->
            <div class="settings-panel" data-panel="fw">
              <div class="settings-group">
                <!-- ✅ 여기: "소프트웨어" 설정 안에 작은 F 로고 -->
                <div class="fw-head">
                  <div class="fw-logo-block">
                    <img id="fwLogoEaster" class="fw-f-logo" src="img/Flash_logo.svg " alt="FLASH">
                  </div>
                </div>
                <div class="settings-group-title" style="margin:0;">HANWOOL FLASH6</div>

                <div class="settings-row"><div class="settings-label"><br>Program</div><div class="settings-desc"><br>FLASH</div></div>
                <div class="settings-row"><div class="settings-label">Build ID</div><div class="settings-desc">v6 · B0</div></div>
                <div class="settings-row"><div class="settings-label">Protocol</div><div class="settings-desc">FLASH JSON v1.0</div></div>
                <div class="settings-row">
                  <div class="settings-desc" style="text-align:left;">
                    <div class="fw-team-inline" aria-hidden="true">
                      <div class="fw-team-inline-label">TEAM</div>
                      <div class="fw-team-inline-logos">
                        <img src="img/altis_logo1.png" alt="">
                        <img src="img/gnu_logo.png" alt="">
                        <img class="is-invert is-small" src="img/hanwool_logo.png" alt="">
                      </div>
                    </div>
                    Copyright (c네) 2026 ALTIS - YBB<br>
                    Permission is hereby granted, free of charge, to any person obtaining a copy
                    of this software and associated documentation files (the “Software”), to deal
                    in the Software without restriction, including without limitation the rights
                    to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
                    copies of the Software, and to permit persons to whom the Software is furnished
                    to do so, subject to the following conditions:<br>
                    • THE SOFTWARE IS PROVIDED “AS IS”, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED.
                  </div>
                </div>
              </div>
            </div>

          </div>
        </div>

      </div>
    </div>

    <!-- 미션 지정 -->
    <div id="missionOverlay" class="settings-overlay hidden">
      <div id="missionDialog" class="mission-dialog" role="dialog" aria-modal="true" aria-labelledby="missionTitle">
        <div class="mission-header">
          <div>
            <div id="missionTitle" class="mission-title">MISSION PROFILE</div>
            <div class="mission-sub">테스트 기록에 함께 저장되는 실험 메타 정보</div>
          </div>
          <button id="missionClose" class="mission-close-btn" aria-label="close">×</button>
        </div>
        <div id="missionPresetBlock" class="mission-preset-block">
          <div id="missionPresetDivider" class="mission-divider"></div>
          <div id="missionPresetWrap" class="mission-preset-row">
            <button id="missionScrollLeft" class="mission-scroll-btn left" type="button" aria-label="scroll left">&lt;</button>
            <div id="missionPresetViewport" class="mission-preset-viewport">
              <div id="missionPresetGrid" class="mission-preset-grid" role="group" aria-label="preset motors">
                <div class="mission-preset-spacer" aria-hidden="true"></div>
                <button class="mission-preset-btn" type="button" data-mission="no-motor">
                  <div class="mission-preset-photo">No Motor</div>
                  <div class="mission-preset-name">메타데이터 미지정</div>
                  <div class="mission-preset-sub">메타데이터 없이 진행</div>
                </button>
                <button class="mission-preset-btn" type="button" data-mission="frontier2025">
                  <div class="mission-preset-photo"><img src="img/frontier2025_img.png" alt="frontier2025"></div>
                  <div class="mission-preset-name">frontier2025</div>
                </button>
                <button class="mission-preset-btn" type="button" data-mission="frontier2026 stg1">
                  <div class="mission-preset-photo"><img src="img/frontier2026_stg1_img.png" alt="frontier2026 stg1"></div>
                  <div class="mission-preset-name">frontier2026 stg1</div>
                </button>
                <button class="mission-preset-btn" type="button" data-mission="frontier2026 stg2 cnc">
                  <div class="mission-preset-photo">Photo</div>
                  <div class="mission-preset-name">frontier2026 stg2 cnc</div>
                </button>
                <button class="mission-preset-btn" type="button" data-mission="frontier2026 stg2 pvc">
                  <div class="mission-preset-photo"><img src="img/frontier2026_stg2_pvc_img.png" alt="frontier2026 stg2 pvc"></div>
                  <div class="mission-preset-name">frontier2026 stg2 pvc</div>
                </button>
                <button class="mission-preset-btn" type="button" data-mission="QUAIL1 motor">
                  <div class="mission-preset-photo"><img src="img/QUAIL1_path.svg" alt="QUAIL1"></div>
                  <div class="mission-preset-name">QUAIL1 motor</div>
                </button>
                <button class="mission-preset-btn" type="button" data-mission="motor-support">
                  <div class="mission-preset-photo">Photo</div>
                  <div class="mission-preset-name">모터 추가 문의</div>
                  <div class="mission-preset-sub">ybb1833@naver.com</div>
                </button>
                <button id="missionCustomBtn" class="mission-preset-btn" type="button">
                  <div class="mission-preset-photo">+</div>
                  <div class="mission-preset-name">사용자 지정</div>
                  <div class="mission-preset-sub">직접 입력하기</div>
                </button>
                <div class="mission-preset-spacer" aria-hidden="true"></div>
              </div>
            </div>
            <button id="missionScrollRight" class="mission-scroll-btn right" type="button" aria-label="scroll right">&gt;</button>
          </div>
        </div>

        <div id="missionFields" class="mission-fields hidden">
          <div class="mission-divider"></div>
          <button id="missionBackBtn" class="mission-back-btn" type="button">← 모터 목록으로</button>
          <div class="mission-grid">
            <div class="mission-field">
              <label class="mission-label" for="missionName">미션 이름</label>
            <input id="missionName" class="mission-input" type="text" placeholder="예: FLASH-TEST A">
          </div>
          <div class="mission-field">
            <label class="mission-label" for="missionTestCount">테스트 회차</label>
            <input id="missionTestCount" class="mission-input" type="number" min="1" step="1" placeholder="1">
          </div>
          <div class="mission-field">
            <label class="mission-label" for="missionMotorDia">모터 직경 (mm)</label>
            <div class="mission-row">
              <input id="missionMotorDia" class="mission-input" type="number" min="0" step="0.1" placeholder="0">
              <span class="mission-unit">mm</span>
            </div>
          </div>
          <div class="mission-field">
            <label class="mission-label" for="missionMotorLen">모터 길이 (mm)</label>
            <div class="mission-row">
              <input id="missionMotorLen" class="mission-input" type="number" min="0" step="0.1" placeholder="0">
              <span class="mission-unit">mm</span>
            </div>
          </div>
          <div class="mission-field">
            <label class="mission-label" for="missionIgnDelay">점화 지연 (s)</label>
            <div class="mission-row">
              <input id="missionIgnDelay" class="mission-input" type="number" min="0" step="0.1" placeholder="0.0">
              <span class="mission-unit">s</span>
            </div>
          </div>
          <div class="mission-field">
            <label class="mission-label" for="missionGrainMass">그레인 질량 (g)</label>
            <div class="mission-row">
              <input id="missionGrainMass" class="mission-input" type="number" min="0" step="0.1" placeholder="0">
              <span class="mission-unit">g</span>
            </div>
          </div>
          <div class="mission-field">
            <label class="mission-label" for="missionTotalMass">총 질량 (g)</label>
            <div class="mission-row">
              <input id="missionTotalMass" class="mission-input" type="number" min="0" step="0.1" placeholder="0">
              <span class="mission-unit">g</span>
            </div>
          </div>
          <div class="mission-field">
            <label class="mission-label" for="missionVendor">제조사</label>
            <input id="missionVendor" class="mission-input" type="text" placeholder="제조사명">
          </div>
        </div>
        </div>
        <div id="missionTestInline" class="mission-test-inline" aria-hidden="true">
          <div class="mission-test-title">실험 회차</div>
          <div class="mission-test-sub">이번 시험의 회차를 입력하세요.</div>
          <input id="missionTestPromptInput" class="mission-test-input" type="number" min="1" step="1" placeholder="1">
        </div>
        <div id="missionReview" class="mission-review" aria-hidden="true">
          <div class="mission-review-title">모터 정보</div>
          <div class="mission-review-grid">
            <div class="mission-review-item">
              <span class="mission-review-label">모터</span>
              <span id="missionReviewMotor" class="mission-review-value">-</span>
            </div>
            <div class="mission-review-item">
              <span class="mission-review-label">실험 회차</span>
              <span id="missionReviewTestCount" class="mission-review-value">-</span>
            </div>
            <div class="mission-review-item">
              <span class="mission-review-label">직경</span>
              <span id="missionReviewDia" class="mission-review-value">-</span>
            </div>
            <div class="mission-review-item">
              <span class="mission-review-label">길이</span>
              <span id="missionReviewLen" class="mission-review-value">-</span>
            </div>
            <div class="mission-review-item">
              <span class="mission-review-label">점화 지연</span>
              <span id="missionReviewIgnDelay" class="mission-review-value">-</span>
            </div>
            <div class="mission-review-item">
              <span class="mission-review-label">그레인 질량</span>
              <span id="missionReviewGrain" class="mission-review-value">-</span>
            </div>
            <div class="mission-review-item">
              <span class="mission-review-label">총 질량</span>
              <span id="missionReviewTotal" class="mission-review-value">-</span>
            </div>
            <div class="mission-review-item">
              <span class="mission-review-label">제조사</span>
              <span id="missionReviewVendor" class="mission-review-value">-</span>
            </div>
          </div>
        </div>
        <div class="mission-footer">
          <button id="missionCloseBtn" class="settings-btn" type="button">닫기</button>
          <button id="missionConfirmBtn" class="mission-confirm-btn" type="button">다음</button>
        </div>
      </div>
    </div>

    <!-- 로드셀 영점 조절 모달 -->
    <div id="loadcellOverlay" class="settings-overlay hidden" style="display:none;">
      <div id="loadcellDialog" class="loadcell-dialog">
        <div class="settings-header">
          <div class="settings-title" data-i18n="loadcellModalTitle">로드셀 영점 조절</div>
          <button id="loadcellClose" class="settings-close-btn">×</button>
        </div>
        <div class="loadcell-body">
          <div class="loadcell-main">
            <div class="loadcell-kicker" data-i18n="loadcellModalBadge">Calibration</div>
            <div class="loadcell-steps" data-i18n="loadcellModalGuide">무게추를 올려놓고 값을 확인하세요. 다음을 누르세요.</div>
            <div class="loadcell-card loadcell-step-current">
              <div>
                <div class="settings-label" data-i18n="loadcellModalValueLabel">현재 측정값 (kg)</div>
                <div class="loadcell-note" data-i18n="loadcellModalValueHint">보정은 kg 기준으로 저장됩니다.</div>
                <div class="loadcell-value-wrap">
                  <div id="loadcellLiveValue" class="loadcell-value">--</div>
                  <div class="loadcell-unit">kg</div>
                </div>
              </div>
            </div>
            <div class="loadcell-step-input">
              <div class="loadcell-input-row">
                <div class="settings-label" data-i18n="loadcellModalInputLabel">중량 입력 (kg)</div>
                <div class="loadcell-note" data-i18n="loadcellModalInputHint">1Kg = 1000g</div>
                <input id="loadcellWeightInput" class="loadcell-input" type="number" min="0.001" step="0.001" placeholder="0.000">
              </div>
              <div class="loadcell-note" data-i18n="loadcellModalNote">이 값은 보드에 저장됩니다.</div>
            </div>
            <div class="loadcell-actions">
              <button id="loadcellApplyBtn" class="loadcell-secondary" data-i18n="loadcellModalApply">다음</button>
              <button id="loadcellCancelBtn" class="loadcell-cancel" data-i18n="loadcellModalCancel">취소</button>
            </div>
          </div>

          <div class="loadcell-warning">
            <div class="loadcell-warning-content">
              <div class="loadcell-warning-icon"><span>!</span></div>
              <div class="loadcell-warning-kicker">ALERT</div>
              <div id="loadcellWarningTitle" class="loadcell-warning-title" data-i18n="loadcellModalConfirmTitle">보정값을 저장할까요?</div>
              <div id="loadcellWarningText" class="confirm-text" data-i18n="loadcellModalConfirmText">
                이전에 저장된 로드셀 보정값이 삭제되고 새 값으로 저장됩니다.
              </div>
              <div class="loadcell-warning-sub" data-i18n="loadcellModalConfirmSub">
                저장 후에는 측정 기준이 변경됩니다. 보정에 사용한 무게추를 제거한 뒤 측정값을 확인하세요.
              </div>
            </div>
            <div class="loadcell-actions">
              <button id="loadcellWarningProceed" class="loadcell-primary" data-i18n="loadcellModalConfirmProceed">진행</button>
              <button id="loadcellWarningCancel" class="loadcell-cancel" data-i18n="loadcellModalConfirmCancel">취소</button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- 이스터에그 경고 모달 -->
    <div id="easterOverlay" class="confirm-overlay hidden" style="display:none;">
      <div class="confirm-dialog">
        <div class="confirm-icon" aria-hidden="true"><span>!</span></div>
        <div class="confirm-title" data-i18n="easterEggTitle">이스터에그 발견!</div>
        <div class="confirm-text" data-i18n-html="easterEggText">
          로고를 5번 두드리는 바람에 테트리스가 깨어났습니다.<br>
          잠깐만... 이거 공식 기능 맞죠?
        </div>
        <div class="confirm-actions">
          <button id="easterEggOk" class="loadcell-primary" data-i18n="easterEggOk">ㅋㅋ 확인</button>
        </div>
      </div>
    </div>

    <!-- 테트리스 축하 모달 -->
    <div id="tetrisWinOverlay" class="confirm-overlay hidden" style="display:none;">
      <div class="confirm-dialog">
        <div class="tetris-win-icon" aria-hidden="true">
          <svg viewBox="0 0 24 24" aria-hidden="true">
            <path d="M12 3v5M12 16v5M3 12h5M16 12h5"/>
            <path d="M5 5l3 3M16 16l3 3M19 5l-3 3M5 19l3-3"/>
            <circle cx="12" cy="12" r="3"/>
          </svg>
        </div>
        <div class="confirm-title" data-i18n="tetrisWinTitle">축하합니다</div>
        <div class="confirm-text" data-i18n="tetrisWinText">10줄 클리어를 완료하셨습니다!</div>
        <div class="confirm-actions">
          <button id="tetrisWinOk" class="loadcell-primary" data-i18n="tetrisWinOk">보상받기</button>
        </div>
      </div>
    </div>

    <!-- 테트리스 보상 모달 -->
    <div id="tetrisPrizeOverlay" class="confirm-overlay hidden" style="display:none;">
      <div class="confirm-dialog">
        <div class="tetris-win-icon" aria-hidden="true">
          <svg viewBox="0 0 24 24" aria-hidden="true">
            <path d="M12 3v5M12 16v5M3 12h5M16 12h5"/>
            <path d="M5 5l3 3M16 16l3 3M19 5l-3 3M5 19l3-3"/>
            <circle cx="12" cy="12" r="3"/>
          </svg>
        </div>
        <div class="confirm-title" data-i18n="tetrisPrizeTitle">문화상품권</div>
        <div class="confirm-text" data-i18n="tetrisPrizeText">축하합니다 문화상품권을 획득 하셨습니다! (선착순)</div>
        <div class="prize-card">
          <div id="tetrisPrizeCode" class="prize-code">CULTURE-0000-0000</div>
        </div>
        <div class="prize-actions">
          <button id="tetrisPrizeCopy" class="loadcell-primary" data-i18n="tetrisPrizeCopy">복사</button>
          <button id="tetrisPrizeClose" class="loadcell-cancel" data-i18n="tetrisPrizeClose">닫기</button>
        </div>
      </div>
    </div>

    <!-- 시퀀스 스타트 롱프레스 모달 -->
    <div id="confirmOverlay" class="confirm-overlay hidden" style="display:none;">
      <div class="confirm-dialog">
        <div class="confirm-icon" aria-hidden="true"><span>!</span></div>
        <div class="confirm-title" data-i18n="confirmSequenceTitle">점화 시퀀스를 진행할까요?</div>
        <div class="confirm-text" data-i18n-html="confirmSequenceText">
          점화 조건이 충족되지 않으면 보드가 점화를 실행하지 않습니다.<br>
          버튼을 3초 동안 계속 누르고 있어야 카운트다운이 진행됩니다.
        </div>
        <div class="confirm-note" data-i18n="confirmSequenceNote">• 주변 안전거리 확보 · 이그나이터 결선/단락 여부 반드시 확인!</div>
        <div class="confirm-actions">
          <div class="longpress-wrap">
            <button id="longPressBtn" class="longpress-btn">
              <span>HOLD<br>TO START</span>
              <div class="longpress-ring"><div class="longpress-spinner"></div></div>
            </button>
          </div>
          <button id="confirmCancel" class="confirm-cancel" data-i18n="confirmCancel">취소</button>
        </div>
      </div>
    </div>

    <!-- 미션 지정 필요 모달 -->
    <div id="missionRequiredOverlay" class="confirm-overlay hidden" style="display:none;">
      <div class="confirm-dialog">
        <div class="confirm-icon" aria-hidden="true"><span>!</span></div>
        <div class="confirm-title">미션 지정 필요</div>
        <div class="confirm-text">미션이 지정되어 있지 않습니다. 미션을 먼저 지정하세요.</div>
        <div class="confirm-actions">
          <button id="missionRequiredOk" class="loadcell-primary">확인</button>
        </div>
      </div>
    </div>

    <!-- 메타데이터 미지정 안내 -->
    <div id="noMotorOverlay" class="confirm-overlay hidden" style="display:none;">
      <div class="confirm-dialog">
        <div class="confirm-icon" aria-hidden="true"><span>!</span></div>
        <div class="confirm-title">메타데이터 미지정</div>
        <div class="confirm-text">모터 메타데이터 없이 진행합니다. 이후 리포트에는 모터 정보가 비어있을 수 있습니다.</div>
        <div class="confirm-actions">
          <button id="noMotorOk" class="loadcell-primary">확인</button>
        </div>
      </div>
    </div>

    <!-- 강제 점화 모달 -->
    <div id="forceOverlay" class="confirm-overlay hidden" style="display:none;">
      <div class="confirm-dialog force-dialog">
        <div class="confirm-icon" aria-hidden="true"><span>!</span></div>
        <div class="confirm-title" data-i18n="forceConfirmTitle">강제 점화를 진행할까요?</div>
        <div class="confirm-text" data-i18n-html="forceConfirmText">
          강제 점화는 고위험 동작입니다.<br>
          주변 인원 접근 금지 · 보호구 착용 권장 · 결선/단락 재확인.
        </div>
        <div class="force-actions">
          <div id="forceSlide" class="force-slide" role="button" aria-label="Slide to force ignition">
            <div id="forceSlideThumb" class="force-slide-thumb" aria-hidden="true">
              <span class="force-slide-label" data-i18n="forceSlideLabel">밀어서 강제 점화</span>
            </div>
            <span class="force-slide-arrows" aria-hidden="true">›››</span>
          </div>
          <button id="forceConfirmCancel" class="force-cancel-link" data-i18n="forceConfirmCancel">취소</button>
        </div>
      </div>
    </div>

    <!-- 자동 기립 경고 모달 -->
    <div id="launcherAutoOverlay" class="confirm-overlay warning-fullscreen hidden" style="display:none;">
      <div class="confirm-dialog">
        <div class="confirm-icon is-launcher" aria-hidden="true">
          <svg viewBox="0 0 24 24" aria-hidden="true">
            <path d="M12 4v12"/>
            <path d="M7 9l5-5 5 5"/>
            <path d="M5 19h14"/>
          </svg>
        </div>
        <div class="confirm-title" data-i18n="launcherAutoConfirmTitle">자동 기립을 실행할까요?</div>
        <div class="confirm-text" data-i18n-html="launcherAutoConfirmText">
          발사대가 자동으로 상승합니다.<br>
          주변 안전을 확인한 후 진행하세요.
        </div>
        <div class="confirm-actions">
          <button id="launcherAutoCancel" class="confirm-cancel" data-i18n="confirmCancel">취소</button>
          <button id="launcherAutoConfirm" class="loadcell-primary" data-i18n="launcherAutoConfirmBtn">실행</button>
        </div>
      </div>
    </div>

    <!-- WebSocket 경고 오버레이 -->
    <div id="wsAlertOverlay" class="ws-alert-overlay warning-fullscreen hidden" style="display:none;">
      <div class="ws-alert-dialog" role="alertdialog" aria-modal="true" aria-labelledby="wsAlertTitle" aria-describedby="wsAlertText">
        <div id="wsAlertTitle" class="ws-alert-title" data-i18n="wsAlertTitle">WebSocket 연결 안됨</div>
        <div id="wsAlertText" class="ws-alert-text" data-i18n-html="wsAlertText">
          WebSocket이 연결되어있지 않아 데이터가 10 Hz로 출력됩니다.<br>
          해결하려면 브라우저를 새로고침 하세요.
        </div>
        <button id="wsAlertClose" class="ws-alert-close-btn" data-i18n="wsAlertClose">닫기</button>
      </div>
    </div>

    <!-- 연결 해제 오버레이 -->
    <div id="disconnectOverlay" class="disconnect-overlay hidden" style="display:none;">
      <div class="disconnect-dialog" role="alertdialog" aria-modal="true" aria-labelledby="disconnectTitle" aria-describedby="disconnectText">
        <div class="confirm-icon is-disconnect" aria-hidden="true">
          <svg viewBox="0 0 24 24" aria-hidden="true">
            <path d="M6 6h3a4 4 0 0 1 0 8H6"/>
            <path d="M18 10h-3a4 4 0 0 0 0 8h3"/>
            <path d="M9 10h6"/>
            <path d="M5 5l3 3"/>
            <path d="M19 19l-3-3"/>
          </svg>
        </div>
        <div id="disconnectTitle" class="disconnect-title" data-i18n="deviceDisconnectedTitle">연결 해제</div>
        <div id="disconnectText" class="disconnect-text" data-i18n-html="deviceDisconnectedText">
          기기와의 통신이 끊겼습니다.<br>케이블/전원을 확인해주세요.
        </div>
        <div class="disconnect-actions">
          <button id="disconnectOk" class="disconnect-ok" data-i18n="deviceDisconnectedOk">확인</button>
        </div>
      </div>
    </div>

    <!-- ✅ LOCKOUT 모달 -->
    <div id="lockoutOverlay" class="confirm-overlay warning-fullscreen hidden" style="display:none;">
      <div class="confirm-dialog lockout-dialog">
        <button id="lockoutClose" class="settings-close-btn lockout-close" aria-label="close">×</button>
        <div class="confirm-icon is-lockout" aria-hidden="true">
          <svg viewBox="0 0 24 24" aria-hidden="true">
            <path d="M12 4l6 2v5c0 3.5-2.4 6.6-6 7.5-3.6-.9-6-4-6-7.5V6l6-2z"/>
            <path d="M12 9v4"/>
            <circle cx="12" cy="16.5" r="1.1" fill="currentColor" stroke="none"/>
          </svg>
        </div>

        <div class="confirm-title" id="lockoutTitle">LOCKOUT</div>
        <div class="confirm-text" id="lockoutText">
          비정상적인 릴레이 HIGH 감지로 모든 제어 권한이 해제되었습니다.
        </div>
        <div class="confirm-note" id="lockoutNote">
          • 릴레이/배선/드라이버 쇼트 여부 확인 후 <strong>보드를 재시작</strong>하세요.
        </div>

        <div class="confirm-actions">
          <button id="lockoutAck" class="force-danger-small" data-i18n="lockoutAck">확인</button>
        </div>
      </div>
    </div>

    <!-- 발사대 모달 -->
    <div id="launcherOverlay" class="settings-overlay hidden">
      <div class="launcher-dialog">
        <div class="launcher-header">
          <div class="launcher-title" data-i18n="launcherTitle">LAUNCHER CONTROL</div>
          <button id="launcherClose" class="launcher-close-btn">×</button>
        </div>
        <div class="launcher-note" data-i18n-html="launcherNote">
          발사대 모터/액추에이터와 연결된 후 실제 높이 제어가 적용됩니다.<br>
          현재는 UI 수준의 제어 모킹입니다.
        </div>
        <div class="launcher-divider"></div>
        <div class="launcher-controls">
          <div id="launcherManualControls" class="launcher-arrow-row">
            <button id="launcherUpModalBtn" class="launcher-arrow-btn">▲</button>
            <button id="launcherDownModalBtn" class="launcher-arrow-btn">▼</button>
          </div>
          <div class="launcher-angle">
            <div id="launcherPitchAngle" class="launcher-angle-value">--°</div>
            <div class="launcher-angle-label">PITCH</div>
          </div>
          <div class="launcher-auto-row">
            <button id="launcherAutoBtn" class="launcher-auto-btn launcher-text-btn" type="button" data-i18n="launcherAutoBtn">자동 기립</button>
          </div>
          <div class="launcher-auto-desc" data-i18n="launcherAutoDesc">발사대를 자동으로 세우는 1회 동작입니다.</div>
        </div>
      </div>
    </div>

    <!-- 설비 점검 모달 -->
    <div id="inspectionOverlay" class="settings-overlay hidden" style="display:none;">
      <div class="inspection-dialog">
        <div class="settings-header inspection-header">
          <div>
            <div class="settings-title" data-i18n="inspectionTitle">설비 점검</div>
            <div class="inspection-sub" data-i18n="inspectionSub">자동 점검을 완료하면 제어 권한이 부여됩니다.</div>
          </div>
          <button id="inspectionClose" class="settings-close-btn" aria-label="close">×</button>
        </div>

        <div class="inspection-body">
          <div class="inspection-kicker" data-i18n="inspectionCurrentTitle">현재 점검 항목</div>
          <div id="inspectionStepLabel" class="inspection-step-title">-</div>
          <div id="inspectionStepDesc" class="inspection-step-desc">-</div>
          <div class="inspection-status-card">
            <div id="inspectionStatusSingle" class="inspection-status-pill">-</div>
          </div>
        </div>

        <div class="inspection-footer">
          <div id="inspectionResult" class="inspection-result" data-i18n="inspectionIdleText">점검 대기중…</div>
          <div class="inspection-actions">
            <button id="inspectionRetry" class="toolbar-btn" data-i18n="inspectionRetry">다시 점검</button>
          </div>
        </div>
      </div>
    </div>


    <footer class="footer-nav"><div class="footer-meta"></div></footer>
    </div>
    </div>
  </div>

  <div id="controlsOverlay" class="controls-overlay hidden" role="dialog" aria-modal="true" aria-labelledby="controlsOverlayTitle">
    <div id="controlsOverlaySlot" class="controls-overlay-slot"></div>
    <button id="controlsOverlayClose" class="controls-overlay-close" type="button" aria-label="close">×</button>
  </div>

  <script src="flash6.js"></script>

</body>
</html> 
